# 集成态HSP

更新时间: 2025-12-16 16:34

集成态HSP是应用内HSP的中间编译产物，用于解决使用方的bundleName和签名之间的强耦合问题。

说明

HSP只能给bundleName一样的工程使用，集成态HSP可以给不同的bundleName的工程集成使用。

使用方使用集成态HSP时，需要采用使用方的签名文件对集成态HSP重新签名，且需要优先安装重新签名后的集成态HSP。

## 使用场景

集团内部有多个应用，多个应用中都有一个相同的动态共享包。为了节约开发成本并实现代码和资源的共享，多个应用可以共用一个基建HSP（集成态HSP）。

## 约束限制

- 集成态HSP只支持[Stage模型](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-package-structure-stage)。
- 集成态HSP需要API12及以上版本，需要在工程级的[build-profile.json5文件](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app)中，将useNormalizedOHMUrl字段设置为true。

## 开发使用说明

1. 创建方-集成态HSP-工程配置：配置工程级的build-profile.json5文件，将useNormalizedOHMUrl字段设置为true。
    
    1. // created_party_project/build-profile.json5
    2. {
    3.   "app": {
    4.     "products": [
    5.       {
    6.         "name": "default",
    7.         "signingConfig": "default",
    8.         "compatibleSdkVersion": "5.0.0(12)",
    9.         "runtimeOS": "HarmonyOS",
    10.         "buildOption": {
    11.           "strictMode": {
    12.             "useNormalizedOHMUrl": true
    13.           }
    14.         }
    15.         // ...
    16.       }
    17.     ]
    18.     // ...
    19.   }
    20. }
    
2. 创建方-集成态HSP-模块配置：修改模块级构建配置文件[build-profile.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile)，将integratedHsp配置项设置为true，指定构建的HSP模块为集成态HSP。
    
    1. // created_party_project/library/build-profile.json5
    2. {
    3.   "apiType": "stageMode",
    4.   "buildOption": {
    5.     "arkOptions": {
    6.       "integratedHsp": true
    7.     }
    8.   }
    9. }
    
3. 创建方-集成态HSP-打包配置（tgz包）。
    
    (1) 配置项目签名信息，详情请参见[应用/元服务签名](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing)。
    
    (2) 配置release模式。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163405.95974171999360451811916628913781:50001231000000:2800:EA7BA9A59C36081F7239EBEB1435219879E52F9402EA394043309CE145C01198.png)
    
    (3) 选择library目录，执行Build -> Make Module 'library'。
    
4. 使用方-创建目录并拷贝文件：在entry目录下新建libs目录，将集成态打包产物tgz包拷贝到libs目录下。
    
5. 使用方-工程依赖配置：在使用方主模块的oh-package.json5配置文件中添加依赖。
    
    1. // user_project/entry/oh-package.json5
    2.   "dependencies": {
    3.     "hsp": "./libs/library-default.tgz"
    4.   }
    
6. 使用方-工程配置：在工程级的build-profile.json5文件中，将useNormalizedOHMUrl字段设置为true。
    
    1. // user_project/build-profile.json5
    2. {
    3.   "app": {
    4.     "products": [
    5.       {
    6.         "name": "default",
    7.         "signingConfig": "default",
    8.         "compatibleSdkVersion": "5.0.0(12)",
    9.         "runtimeOS": "HarmonyOS",
    10.         "buildOption": {
    11.           "strictMode": {
    12.             "useNormalizedOHMUrl": true
    13.           }
    14.         }
    15.       }
    16.     ]
    17.   }
    18. }
    
    说明
    
    安装和运行应用前，必须配置项目签名信息，详见[应用/元服务签名](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing)。
    # HAR转HSP指导

更新时间: 2025-12-16 16:34

目前HAR的使用存在打包多份，包膨胀的问题，导致整体应用包的体积很大，HSP可以很好地解决该问题，本文介绍如何通过配置项的变更将HAR工程转换为HSP工程。

说明

部分组件和模块在HAP、HSP、HAR中集成使用时存在差异，例如[加载HAR中Worker线程文件相比HSP存在单独的使用约束](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/worker-introduction#%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9)，因此按照如下步骤完成HAR转HSP后，请关注对应组件和模块介绍并进行适配。

## HAR转HSP的操作步骤

1. 修改HAR模块下的module.json5文件，将type字段设置为shared，并新增deliveryWithInstall和pages字段。
    
    1. // MyApplication\library\src\main\module.json5
    2. {
    3.   "module": {
    4.     "type": "shared",
    5.     "deliveryWithInstall": true,
    6.     "pages": "$profile:main_pages"
    7.     // ...
    8.   }
    9. }
    
2. 在resources\base下新增profile文件夹，在profile下新增一个main_pages.json文件，并配置如下内容。
    
    1. // MyApplication\library\src\main\resources\base\profile\main_pages.json
    2. {
    3.   "src": [
    4.     "pages/PageIndex"
    5.   ]
    6. }
    
3. 在ets目录下新增pages目录，并在pages目录下新增PageIndex.ets文件，配置如下内容。
    
    1. // MyApplication\library\src\main\ets\pages\PageIndex.ets
    2. @Entry
    3. @Component
    4. struct PageIndex {
    5.   @State message: string = 'hello world';
    
    6.   build() {
    7.     Row() {
    8.       Column() {
    9.         Text(this.message)
    10.           .fontSize(50)
    11.           .fontWeight(FontWeight.Bold)
    12.       }
    13.       .width('100%')
    14.     }
    15.     .height('100%')
    16.   }
    17. }
    
4. 删除HAR模块的build-profile.json5文件中的consumerFiles字段配置。
    
5. 修改HAR模块的hvigorfile.ts文件，将以下内容替换文件内容。
    
    1. // MyApplication\library\hvigorfile.ts
    2. import { hspTasks } from '@ohos/hvigor-ohos-plugin';
    
    3. export default {
    4.   system: hspTasks,  /* Built-in plugin of Hvigor. It cannot be modified. */
    5.   plugins:[]         /* Custom plugin to extend the functionality of Hvigor. */
    6. }
    
6. 修改oh-package.json5文件，新增packageType配置。
    
    1. // MyApplication\library\oh-package.json5
    2. {
    3.   "packageType": "InterfaceHar"
    4. }
    
7. 修改项目根目录下的build-profile.json5文件，在modules标签下找到library的配置，新增targets标签。
    
    1. // MyApplication\build-profile.json5
    2. "modules": [
    3.   {
    4.     "name": "library",
    5.     "srcPath": "./library",
    6.     "targets": [
    7.       {
    8.         "name": "default",
    9.         "applyToProducts": [
    10.           "default"
    11.         ]
    12.       }
    13.     ]
    14.   }
    15. ]
    # HSP转HAR指导

更新时间: 2025-12-16 16:34

HSP对bundleName和签名有一致性要求，在调试阶段需要先安装HSP包，这导致多模块集成开发场景下容易出现多种集成问题。在此场景下，建议使用HAR包来提供所需功能。本文通过配置项的变更将HSP工程变成HAR工程。

说明

阅读本文前，请开发者完成[HSP](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/in-app-hsp)、[HAR](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hap-package)、[module.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file)、[hvigorfile.ts](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-config-ohos-guide)、[oh-package.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-oh-package-json5)、[build-profile.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app)学习。

部分组件和模块在HAP、HSP、HAR中集成使用时存在差异，例如[加载HAR中Worker线程文件相比HSP存在单独的使用约束](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/worker-introduction#%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9)，因此按照如下步骤完成HSP转HAR后，请关注对应组件和模块介绍并进行适配。

## HSP转HAR的操作步骤

1. 修改HSP模块下的module.json5文件，将type字段值改为har，删除deliveryWithInstall和pages字段。
    
    1. // MyApplication\library\src\main\module.json5
    2. {
    3.     "module": {
    4.         "name": "har",
    5.         "type": "har",
    6.         "deviceTypes": [
    7.         "tablet",
    8.         "2in1"
    9.         ]
    10.     }
    11. }
    
2. 在resource\base\profile文件夹下，删除main_pages.json文件。
    
3. 修改HSP模块的hvigorfile.ts文件，将内容替换为以下内容。
    
    1. // MyApplication\library\hvigorfile.ts
    2. import { harTasks } from '@ohos/hvigor-ohos-plugin';
    
    3. export default {
    4.     system: harTasks,  /* Built-in plugin of Hvigor. It cannot be modified. */
    5.     plugins:[]         /* Custom plugin to extend the functionality of Hvigor. */
    6. }
    
4. 修改HSP模块的oh-package.json5文件，删除packageType配置。
    
5. 修改项目级的配置文件 build-profile.json5，在 modules 模块下找到 HSP 的配置信息，删除 HSP 配置下的 targets。
# HAP转HAR指导

更新时间: 2025-12-16 16:34

HAP不支持导出接口或ArkUI组件给其他模块或应用使用，如果需要导出模块中的接口或ArkUI组件，并将模块作为二方库、三方库共享给其他模块或应用，可以使用HAR。本文介绍如何通过配置项的变更将HAP工程变成HAR工程。

说明

部分组件和模块在HAP、HSP、HAR中集成使用时存在差异，例如[加载HAR中Worker线程文件相比HSP存在单独的使用约束](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/worker-introduction#%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9)，因此按照如下步骤完成HAP转HAR后，请关注对应组件和模块介绍并进行适配。

## HAP转HAR的操作步骤

1. 修改HAP模块下的[module.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file)文件，具体操作如下：
    
    - 将type标签值改为har，删除mainElement、deliveryWithInstall、installationFree和pages标签。
    - 由于API version 17及之前版本HAR不支持创建任何ExtensionAbility，从API version 18开始HAR仅支持创建[两种ExtensionAbility](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-add-new-ability#section18891639459)，因此在API version 18及之后版本但未配置为支持的两种ExtensionAbility、或在API version 17及之前版本，需要删除extensionAbilities标签，并将关联的ExtensionAbility组件删除或迁移到其他HAP模块中。
    - 由于HAR模块在API version 13及以下不支持UIAbility，因此在API version 13及以前的版本，需要删除abilities标签，并将关联的UIAbility组件删除或迁移到其他HAP模块中。
    
    1. {
    2.     "module": {
    3.         "name": "har",
    4.         "type": "har",
    5.         "deviceTypes": [
    6.             "phone",
    7.             "tablet",
    8.             "2in1"
    9.         ]
    10.     }
    11. }
    
2. 在HAP模块的src\main\resource\base\profile文件夹下，删除main_pages.json文件。
    
3. 修改HAP模块的hvigorfile.ts文件，将内容替换为以下内容：
    
    1. import { harTasks } from '@ohos/hvigor-ohos-plugin';
    
    2. export default {
    3.     system: harTasks,  /* Built-in plugin of Hvigor. It cannot be modified. */
    4.     plugins:[]         /* Custom plugin to extend the functionality of Hvigor. */
    5. }
    
4. 在HAP模块的根目录下创建名为Index.ets的文件，并在模块的oh-package.json5文件中的main标签配置该文件。Index.ets文件用于导出ArkUI组件或接口，详细导出方法参见[HAR-开发](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/har-package#%E5%BC%80%E5%8F%91)。
    
    1. {
    2.     "main": "Index.ets"
    3. }
    
5. 修改项目级的配置文件[build-profile.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-build-profile-app)，在 modules 标签下找到HAP的配置信息，并删除HAP配置下的 targets。
# 创建应用静态快捷方式

更新时间: 2025-12-16 16:34

随着应用的功能越来越复杂，用户在使用应用时，找到某个功能的操作步骤也变得更加繁琐。为提升用户体验，可以对应用中常用的功能创建对应的桌面快捷方式，以达到快速启动应用、一键直达特定功能等目的。例如相机应用的 “快速拍照”、便签应用的 “新建便签” 和地图应用的常用地点导航等功能的快捷方式，用户通过快捷方式可以快速进入特定功能页面，既能大大提高操作效率，同时也增加了用户对应用的依赖性。使用快捷方式，还可以实现个性化定制的需求，创建多个快捷方式，以满足个性化的工作流程和操作偏好。

## 场景介绍

以导航场景为例，用户使用地图应用导航时，通常先搜索目的地，然后开始导航。为了提升导航效率和操作便捷性，建议在地图应用中添加常去地点的快捷方式，如公司、家等。添加这些快捷方式后，用户长按应用图标，即可打开快捷方式入口，快速启动导航。详情请参考[桌面快捷方式](https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-desktop-shortcuts)。

## 配置方法

下面介绍在工程中配置静态快捷方式的方法。

1. 在entry/src/main/resources/base/element/string.json配置资源文件如下。
    
    1. {
    2.   "string": [
    3.     // ···
    4.     {
    5.       "name": "share",
    6.       "value": "分享好友"
    7.     },
    8.     {
    9.       "name": "add",
    10.       "value": "添加收藏"
    11.     }
    12.   ]
    13. }
    
2. 配置快捷方式文件。
    
    在模块的/resources/base/profile/目录下配置[快捷方式的配置文件](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file#shortcuts%E6%A0%87%E7%AD%BE)，如shortcuts_config.json，拷贝示例代码需要删除注释。
    
    1. {
    2.   "shortcuts": [
    3.    {
    4.       "shortcutId": "id_test1",  // 标识快捷方式，在应用有多个快捷方式时，该字段可作为快捷方式的唯一标识符，不支持通过资源索引的方式（$string）配置该字段
    5.       "label": "$string:add",  // 标识该快捷方式对外显示的名称
    6.       "icon": "$media:add_icon",  // 标识该快捷方式对外显示的图片，需要在entry/src/main/resources/base/media中添加名称为add_icon的图片
    7.       "wants": [
    8.         {
    9.           "bundleName": "com.ohos.hello",   // 对应该快捷方式对应拉起组件的包名
    10.           "moduleName": "entry",    // 对应该快捷方式对应拉起组件的模块名
    11.           "abilityName": "EntryAbility1",   // 对应该快捷方式对应拉起组件的组件名
    12.           "parameters": {
    13.             "testKey": "testValue"   // 表示拉起快捷方式时的自定义数据
    14.           }
    15.         }
    16.       ]
    17.     },
    18.     {
    19.       "shortcutId": "id_test2",  // 标识快捷方式，在应用有多个快捷方式时，该字段可作为快捷方式的唯一标识符，不支持通过资源索引的方式（$string）配置该字段
    20.       "label": "$string:share",  // 标识该快捷方式对外显示的名称
    21.       "icon": "$media:share_icon",  // 标识该快捷方式对外显示的图片，需要在entry/src/main/resources/base/media中添加名称为share_icon的图片
    22.       "wants": [
    23.         {
    24.           "bundleName": "com.ohos.hello",   // 对应该快捷方式对应拉起组件的包名
    25.           "moduleName": "entry",    // 对应该快捷方式对应拉起组件的模块名
    26.           "abilityName": "EntryAbility",   // 对应该快捷方式对应拉起组件的组件名
    27.           "parameters": {
    28.             "testKey": "testValue"   // 表示拉起快捷方式时的自定义数据
    29.           }
    30.         }
    31.       ]
    32.     }
    33.   ]
    34. }
    
3. 在应用的module.json5文件中配置metadata，指向快捷方式的配置文件。
    
    1. {
    2.   "module": {
    3.   // ...
    4.     "abilities": [
    5.       {
    6.         "name": "EntryAbility",
    7.         "srcEntry": "./ets/entryability/EntryAbility.ets",
    8.         // ...
    9.         "metadata": [
    10.           {
    11.             "name": "ohos.ability.shortcuts",  // 配置快捷方式，该值固定为ohos.ability.shortcuts
    12.             "resource": "$profile:shortcuts_config"  // 指定shortcuts信息的资源位置
    13.           }
    14.         ]
    15.       }
    16.     ]
    17.   }
    18. }
    

安装应用后，长按桌面上的应用图标，图标上方会显示开发者配置的快捷方式：“添加收藏”和“分享好友”。点击相应标签，可启动对应的组件。应用配置的静态快捷方式在桌面上的展示效果如下图所示。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163415.19335375957193123926949312996683:50001231000000:2800:44242D3E5F254E7DAADE997B1142B0B81B96CF1FC02875CB3AFF6B097CC7FCF8.jpg)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/hap-to-har "HAP转HAR指导")
# 创建应用分身

更新时间: 2025-12-16 16:34

应用分身能在一个设备上安装多个相同的应用，实现多个账号同时登录使用和运行并且互不影响。主要应用场景有社交账号双开、游戏大小号双开等，无需账号切换，从而省去频繁登录的繁琐。

创建应用分身之后，桌面上会出现多个相同图标的应用，其中带有下角标的应用图标表示分身应用。

主应用与分身应用之间的关系如下：

- 主应用和分身应用共享同一个应用。例如，当主应用更新/升级时，主应用与分身应用都会同步更新，包括应用的图标（icon）和名称（label）、应用的新特性等。
- 主应用和分身应用，其对应的使能和相关配置都是独立的，数据也是彼此隔离。
- 主应用被卸载时，所有分身应用也会同步卸载。卸载分身应用时，不会影响主应用。

以下图片展示了应用分身的效果：

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163416.23614635225172756539121394065072:50001231000000:2800:30DAAC2C9EE4DA47E1637E31D99A5AA107C389BEBB97B82FB8470B9222A00491.png)

## 约束与限制

输入法应用配置分身无效，无法创建应用分身。

## 应用分身的开发步骤

1. 配置应用分身的方法。
    
    在工程项目中对AppScope/app.json5配置文件配置[multiAppMode](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#multiappmode%E6%A0%87%E7%AD%BE)字段。具体配置如下：
    
    1. {
    2.   "app": {
    3.     "multiAppMode": {
    4.       "multiAppModeType": "appClone",
    5.       "maxCount": 2
    6.     }
    7.   }
    8. }
    
2. 创建分身应用。
    
    - 首先将已配置好的工程编译打包安装到设备上。
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163416.84629681997461940829343730415404:50001231000000:2800:2FC678C3EA3E5C89A4CBD774DE24636F61F12CAEEB69343BAED192ED1C1D9DD6.png)
        
    - 然后打开设置>系统>应用分身，点击“创建分身”。
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163417.31175608848744249788489990742563:50001231000000:2800:C5B0495ED53515A66ED4CB57BFE621F6E9F0B07C456BDB510D80B9793FC70220.png)
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163417.07223339384281577876814441533010:50001231000000:2800:E69DCA2A38995CEDF9DCB40E104763949B0E31C255230E690458B0515C2700A5.png)
        
    - 返回桌面，检查创建是否成功。
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163417.38196264286683174682400852933888:50001231000000:2800:907BDDA19D0F5B1DCE8FEED73AE42D94188933054BD51951D6E7D6BB2F87C804.png)
        
        图中的三个应用的进程、运行、数据、通知等，都是彼此独立的。
        

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/typical-scenario-configuration "创建应用静态快捷方式")
# 创建应用多实例

更新时间: 2025-12-16 16:34

应用多实例允许一个应用同时运行多个进程，实现多个账号同时登录使用，且互不影响。主要应用场景包括社交账户多开和游戏大小号多开等，无需切换账号从而避免频繁登录的繁琐操作。

桌面上的多个应用实例都是独立的进程，各个进程的运行、通知等都是彼此独立的；各实例共享数据，可通过账号进行切换。

应用多实例间的关系：

- 多实例的应用图标相同。
- 各实例共享[应用文件目录](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-sandbox-directory#%E5%BA%94%E7%94%A8%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%B8%8E%E5%BA%94%E7%94%A8%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84)下的文件数据。
- 可通过账号进行切换，单个实例可以切换不同的账号登入。

## 约束限制

应用多实例仅支持2in1设备。

## 应用多实例的开发步骤

1. 应用多实例的配置方法。
    
    在工程项目中对App/app.json5配置文件配置[multiAppMode](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file#multiappmode%E6%A0%87%E7%AD%BE)字段。具体配置如下：
    
    1. {
    2.   "app": {
    3.     //  ...
    4.     "multiAppMode": {
    5.       "multiAppModeType": "multiInstance",
    6.       "maxCount": 5
    7.     }
    8.   }
    9. }
    
2. 创建应用多实例。
    

- 将已配置好的工程编译打包安装到设备上。
- 首次右击桌面应用图标启动一个应用进程，然后再次右击该应用图标，选择“打开”。
    
    此时桌面上会显示同一个应用的两个进程页面。
    

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-clone "创建应用分身")
# 配置应用图标和名称

更新时间: 2025-12-16 16:34

本页面提供应用图标和名称的配置指导。应用图标分为单层图标和分层图标。单层图标包含一个图片，分层图标包含前景图和背景图。图标规范详见[图标资源规范](https://developer.huawei.com/consumer/cn/doc/design-guides/application-icon-0000001953444009#section634668113212)，图标和名称配置约束详见[图标和名称配置](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-component-configuration-stage#%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87%E5%92%8C%E5%90%8D%E7%A7%B0%E9%85%8D%E7%BD%AE)。

## 使用场景

- 用于在设备桌面上展示当前应用。例如：桌面或者最近任务列表中显示应用。
- 用于在应用界面内展示当前应用。例如：在设置应用中展示应用列表。
- 用于在通知栏中展示发出通知消息的应用。

效果图如下。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163418.67480897737435443097999748933533:50001231000000:2800:06954333A6B72C67CB93ED169ACABFF1FBE84A3CBC280BE9E8C6A2E60BBA7814.png)

## 配置优先级和生成策略

- HAP中包含UIAbility
    
    - 如果在[module.json5配置文件](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/module-configuration-file)的abilities标签中配置了icon和label，且该对应的ability中skills标签下面的entities中包含"entity.system.home"、actions中包含"ohos.want.action.home"，则系统将优先返回module.json5中的icon与label。如果存在多个满足条件的ability，优先返回module.json5中mainElement对应的ability配置的icon和label。
        
    - 如果在module.json5配置文件的abilities标签中未设置icon和label，系统将返回[app.json5](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file)中的icon和label。
        
- HAP中不包含UIAbility，系统将返回app.json5中的icon和label。
    

说明

在编译构建时，AppScope目录下的资源文件会合入到模块下相同路径的资源目录中，如果两个目录下存在重名文件，编译打包后AppScope目录下的资源文件会覆盖模块下的资源。

例如，app.json5和module.json5中配置的分层图标的资源文件名称一致、图标不一致，AppScope目录下的资源文件会覆盖模块中的文件，最后的效果是app.json5中的配置图标生效。

如果应用配置中未设置入口UIAbility，点击桌面图标将直接进入应用详情页（设置->应用和元服务下，点击任意应用即可进入该应用的应用详情页）。其他情况下，点击桌面图标将直接进入应用页面。应用未配置入口UIAbility包含2种场景：

1. 应用没有配置任何UIAbility。
2. 所有UIAbility中skills标签下的entities未配置或配置内容不包括 "entity.system.home"，并且actions未配置或配置内容不包括 "ohos.want.action.home"。

## 配置单层图标和应用名称

- **方式一：配置app.json5**
    
    该配置仅当module.json5配置文件中无UIAbility、或者存在UIAbility但abilities标签中未设置icon和label（可手动删除icon和label配置）时生效。
    
    1. {
    2.   "app": {
    3.     "icon": "$media:app_icon",
    4.     "label": "$string:app_name" // 需要在AppScope/resources/base/element/string.json配置name为app_name的资源，已存在可以忽略
    5.     // ...
    6.   }
    7. }
    
- **方式二：配置module.json5**
    
    除了需要配置icon与label字段，还需要在skills标签下面的entities中添加"entity.system.home"、actions中添加"ohos.want.action.home"。
    
    1. {
    2.   "module": {
    3.     // ...
    4.     "abilities": [
    5.       {
    6.         "icon": "$media:icon",
    7.         "label": "$string:EntryAbility_label", // 需要在entry/src/main/resources/base/element/string.json配置name为EntryAbility_label的资源，已存在可以忽略
    8.         "skills": [
    9.           {
    10.             "entities": [
    11.               "entity.system.home"
    12.             ],
    13.             "actions": [
    14.               "ohos.want.action.home"
    15.             ]
    16.           }
    17.         ],
    18.       }
    19.     ]
    20.   }
    21. }
    

## 配置分层图标和应用名称

- **方式一：配置app.json5**
    
    该配置仅当module.json5配置文件中无UIAbility、或者存在UIAbility但abilities标签中未设置icon和label（可手动删除icon和label配置）时生效。
    
    1. 将前景资源和背景资源文件放在“AppScope\resources\base\media”文件夹下。
        
        本例中，前景资源文件名为“foreground.png”，背景资源文件名为“background.png”。
        
    2. 在“AppScope\resources\base\media”文件夹下app_layered_image.json分层图标资源文件中，配置分层图标的前景资源与背景资源信息。
        
        1. {
        2.   "layered-image":
        3.   {
        4.     "background" : "$media:background",
        5.     "foreground" : "$media:foreground"
        6.   }
        7. }
        
    3. 在[app.json5配置文件](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-configuration-file)中引用分层图标资源文件。示例如下：
        
        1.     {
        2.       "app": {
        3.         "icon": "$media:app_layered_image",
        4.         "label": "$string:app_name" // 需要在AppScope/resources/base/element/string.json配置name为app_name的资源，已存在可以忽略
        5.         // ...
        6.       }
        7.     }
        
- **方式二：配置module.json5**
    
    1. 将前景资源和背景资源文件放在“entry\src\main\resources\base\media”文件夹下。
        
        本例中采用的前景资源和背景资源的文件名分别为“foreground.png”和“background.png”。
        
    2. 在“entry\src\main\resources\base\media”文件夹下layered_image.json分层图标资源文件中，配置分层图标的前景资源与背景资源信息。
        
        1. {
        2.   "layered-image":
        3.   {
        4.     "background" : "$media:background",
        5.     "foreground" : "$media:foreground"
        6.   }
        7. }
        
    3. 如果需要在桌面显示UIAbility图标，除了需要配置icon与label字段，还需要在skills标签下面的entities中添加"entity.system.home"、actions中添加"ohos.want.action.home"。
        
        1. {
        2.   "module": {
        3.     "abilities": [
        4.       {
        5.         "name": "EntryAbility",
        6.         // ...
        7.         "icon": "$media:layered_image", // icon配置为分层图标资源文件的索引
        8.         "label": "$string:EntryAbility_label", // 需要在entry/src/main/resources/base/element/string.json配置name为EntryAbility_label的资源，已存在可以忽略
        9.         "skills": [
        10.           {
        11.             "entities": [
        12.               "entity.system.home"
        13.             ],
        14.             "actions": [
        15.               "ohos.want.action.home"
        16.             ]
        17.           }
        18.         ],
        19.         // ...
        20.       }
        21.     ]
        22.     // ...
        23.   }
        24. }
        

说明

DevEco Studio NEXT Beta1(5.0.3.814) 及之后的版本，创建应用时默认模板中包含分层图标的资源文件，不同版本生成的资源文件名称可能不同，文件名称支持手动修改。如果分层图标资源文件不存在则需要手动创建，文件名称需要符合资源命名规范，由数字、字母、点和下划线组成。
# 应用程序包常见问题

更新时间: 2025-12-16 16:34

## 如何获取签名信息中的指纹信息

- 通过调用接口获取。

可以调用[bundleManager.getBundleInfoForSelf](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself)获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含指纹信息。

1. import { bundleManager } from '@kit.AbilityKit';
2. import { BusinessError } from '@kit.BasicServicesKit';
3. import { hilog } from '@kit.PerformanceAnalysisKit';

4. let bundleFlags = bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_APPLICATION | bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_SIGNATURE_INFO;
5. try {
6.   bundleManager.getBundleInfoForSelf(bundleFlags).then((bundleInfo:bundleManager.BundleInfo) => {
7.     console.info('testTag', 'getBundleInfoForSelf successfully. fingerprint: %{public}s', bundleInfo.signatureInfo.fingerprint);
8.   }).catch((err: BusinessError) => {
9.     console.error('testTag', 'getBundleInfoForSelf failed. Cause: %{public}s', err.message);
10.   });
11. } catch (err) {
12.   let message = (err as BusinessError).message;
13.   console.error('testTag', 'getBundleInfoForSelf failed: %{public}s', message);
14. }

- 通过[bm工具](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool)获取指纹信息。

1. hdc shell
2. # 需将com.example.myapplication替换为实际应用的包名
3. bm dump -n com.example.myapplication | grep fingerprint

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163358.09248470418876867467502611761924:50001231000000:2800:E5F9394F6A63A078845ADB4CD81FDA682FA7857CCDF92464CB770AA3A9E4B93A.png)

- 通过.cer证书文件获取，可以参考[APP备案FAQ](https://developer.huawei.com/consumer/cn/doc/app/50130)中HarmonyOS应用/元服务如何获取公钥和签名信息。
    
- 通过keytool工具获取，详情参考[生成签名证书指纹](https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/appgallerykit-preparation-game-0000001055356911#section147011294331)。
    

## 什么是appIdentifier

appIdentifier是[Profile文件](https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090)中的一个字段，为应用的唯一标识，在应用签名时生成，其中：

1. 通过DevEco Studio工具[自动签名](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section18815157237)生成，此时的appIdentifier字段是随机生成的，在不同的设备上签名、或者重新签名均会导致appIdentifier字段不一致。
2. 采用手动签名，并通过AppGallery Connect平台申请证书，此时申请[调试Profile](https://developer.huawei.com/consumer/cn/doc/app/agc-help-debug-profile-0000002248181278)或者[发布Profile](https://developer.huawei.com/consumer/cn/doc/app/agc-help-release-profile-0000002248341090)中的appIdentifier字段是固定的，该字段来源于AppGallery Connect创建应用时生成的[APP ID](https://developer.huawei.com/consumer/cn/doc/app/agc-help-create-app-0000002247955506#section16423184171915)，由云端统一分配。此时的appIdentifier字段在应用全生命周期中不会发生变化，包括版本升级、证书变更、开发者公私钥变更、应用转移等。

因此，在跨设备调试、跨应用交互调试、或者多用户共同开发且需要共享密钥等要求appIdentifier不变的场景下，推荐使用手动签名，具体场景请参考[使用场景说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-signing#section54361623194519)。

## 如何获取应用信息中的appIdentifier

- 可以调用[bundleManager.getBundleInfoForSelf](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself)获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含appIdentifier信息。

1. import { bundleManager } from '@kit.AbilityKit';
2. import { BusinessError } from '@kit.BasicServicesKit';
3. import { hilog } from '@kit.PerformanceAnalysisKit';

4. let bundleFlags = bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_APPLICATION | bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_SIGNATURE_INFO;
5. try {
6.   bundleManager.getBundleInfoForSelf(bundleFlags).then((bundleInfo:bundleManager.BundleInfo) => {
7.     console.info('testTag', 'getBundleInfoForSelf successfully. appIdentifier: %{public}s', bundleInfo.signatureInfo.appIdentifier);
8.   }).catch((err: BusinessError) => {
9.     console.error('testTag', 'getBundleInfoForSelf failed. Cause: %{public}s', err.message);
10.   });
11. } catch (err) {
12.   let message = (err as BusinessError).message;
13.   console.error('testTag', 'getBundleInfoForSelf failed: %{public}s', message);
14. }

- 通过[bm工具](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool)获取。

1. hdc shell
2. # 需将com.example.myapplication替换为实际应用的包名
3. bm dump -n com.example.myapplication | grep appIdentifier

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163359.10149809948932309846165194288965:50001231000000:2800:4932F0725DC25FD233E413DB9C1C443E69967AB8A5501BC86E84B4BF865BE866.png)

## 什么是appId

appId是应用的唯一标识，由包名、下划线和证书公钥的Base64编码组成。由于appId和签名信息相关，如果签名证书的公钥更换，appId也会跟随变化，所以应用的唯一标识推荐使用[appIdentifier](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/common_problem_of_application#%E4%BB%80%E4%B9%88%E6%98%AFappidentifier)。

## 如何获取应用信息中的appId

- 可以调用[bundleManager.getBundleInfoForSelf](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetbundleinfoforself)获取自身的BundleInfo应用包信息，应用包信息中包含signatureInfo签名信息，签名信息中包含appId信息。

1. import { bundleManager } from '@kit.AbilityKit';
2. import { BusinessError } from '@kit.BasicServicesKit';
3. import { hilog } from '@kit.PerformanceAnalysisKit';

4. let bundleFlags = bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_APPLICATION | bundleManager.BundleFlag.GET_BUNDLE_INFO_WITH_SIGNATURE_INFO;
5. try {
6.   bundleManager.getBundleInfoForSelf(bundleFlags).then((bundleInfo:bundleManager.BundleInfo) => {
7.     console.info('testTag', 'getBundleInfoForSelf successfully. appId: %{public}s', bundleInfo.signatureInfo.appId);
8.   }).catch((err: BusinessError) => {
9.     console.error('testTag', 'getBundleInfoForSelf failed. Cause: %{public}s', err.message);
10.   });
11. } catch (err) {
12.   let message = (err as BusinessError).message;
13.   console.error('testTag', 'getBundleInfoForSelf failed: %{public}s', message);
14. }

- 通过[bm工具](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool)获取。

1. hdc shell
2. # 需将com.example.myapplication替换为实际应用的包名
3. bm dump -n ohos.app.hap.myapplication |grep '"appId":'

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163400.31132766529503332216181429389252:50001231000000:2800:E2DF8A37D74B19C730A300E65454AD596EDECCA29E9ED741CD84AC81FAA63033.png)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/layered-image "配置应用图标和名称")
# 应用程序包术语

更新时间: 2025-12-16 16:34

## E

### ExtensionAbility

Stage模型中的组件类型名，即ExtensionAbility组件，提供特定场景（如卡片、输入法）的扩展能力，满足更多的使用场景。

## F

### FA

Feature Ability，在FA模型中代表有界面的Ability，用于与用户进行交互。

### FA模型

API version 8及更早版本支持的应用模型，已经不再主推。建议使用新的Stage模型进行开发。

## H

### HAP

Harmony Ability Package，一个HAP文件包含应用的所有内容，由代码、资源、三方库及应用配置文件组成，其文件后缀名为.hap。

### HAR

Harmony Archive，静态共享包，编译态复用。可以包含代码、C++库、资源和配置文件，其文件后缀名为.har，用于实现代码和资源的共享。

### HSP

Harmony Shared Package，动态共享包，运行时复用。可以包含代码、C++库、资源和配置文件，其文件后缀名为.hsp，用于实现代码和资源的共享。

## M

### Module

模块，应用的一部分，每个模块都有单独的module.json5配置文件。项目工程中，Entry、Feature、HSP和HAR均为应用的一个模块。

## P

### PA

Particle Ability，在FA模型中代表无界面的Ability，主要为Feature Ability提供支持，例如作为后台服务提供计算能力，或作为数据仓库提供数据访问能力。

## S

### Stage模型

API version 9开始新增的应用模型，提供UIAbility、ExtensionAbility两大类应用组件。由于该模型还提供了AbilityStage、WindowStage等类作为应用组件和Window窗口的“舞台”，因此称之为Stage模型。

## U

### UIAbility

Stage模型中的组件类型名，即UIAbility组件，包含UI，提供展示UI的能力，主要用于和用户交互。如果UIAbility中skills标签下面的entities中包含"entity.system.home"，且actions中包含"ohos.want.action.home"，那么也称该UIAbility为入口UIAbility。
# 资源分类与访问

更新时间: 2025-12-16 16:33

应用开发过程中，需要使用字符串、颜色、字体、间距和图标等资源。不同设备或配置下，这些资源的值会有所不同。本文档对资源类型进行介绍，并提供资源开发指导。

根据来源差异，可以将资源分为：

- 应用资源：开发者在应用中自定义的资源，可以利用资源文件管理资源在不同的设备或配置中的表现。
- 系统资源：系统提供的资源，开发者可以通过[主题图标库](https://developer.huawei.com/consumer/cn/design/harmonyos-symbol/)获取系统symbol图标资源信息、通过[系统资源分层设计表](https://gitcode.com/openharmony/docs/blob/master/zh-cn/design/ux-design/design-resources.md)获取系统颜色、间距、圆角等资源信息。此外，系统颜色资源还可以通过[系统色彩全量表](https://developer.huawei.com/consumer/cn/doc/design-guides/color-0000001776857164#section17672143841113)获取，系统色彩全量表与系统资源分层设计表内的资源不重合，均为推荐使用的系统颜色资源。
    
    表格中未列出的其他系统资源均为系统组件和底层能力参数，推荐开发者优先使用上述表格中提供的系统资源。
    

## 资源分类

应用开发中使用的各类资源文件，需要放入特定子目录中存储管理。目录结构如下所示，base目录、限定词目录、rawfile目录、resfile目录称为资源目录，element、media、profile称为资源组目录。

1. resources
2. |---base  // 默认存在的目录
3. |   |---element
4. |   |   |---string.json // 字符串资源
5. |   |---media
6. |   |   |---icon.png // 图片、视频等媒体资源文件
7. |   |---profile
8. |   |   |---test_profile.json // 自定义profile文件，文件内容可自定义
9. |---en_GB-vertical-car-mdpi // 自定义限定词目录示例，由开发者创建
10. |   |---element
11. |   |   |---string.json
12. |   |---media
13. |   |   |---icon.png
14. |   |---profile
15. |   |   |---test_profile.json
16. |---rawfile // 其他类型文件，原始文件形式保存，不会被集成到resources.index文件中。文件名可自定义。
17. |---resfile // 其他类型文件，原始文件形式保存，不会被集成到resources.index文件中。文件名可自定义。

说明

- 资源目录和资源组目录下的文件均被视为资源文件，在应用打包时不会进行混淆。
    
- stage模型多工程情况下，共有的资源文件放到AppScope下的resources目录。
    
- 在编译构建时，AppScope目录下的资源文件会合入到模块下面的资源文件中，如果两个目录下的相同资源目录和资源组目录下存在重名资源，编译打包后只会保留AppScope目录下的资源。
    

### 资源目录

表1 资源目录说明

|目录类型|说明|
|:--|:--|
|base目录|base目录默认存在。二级子目录element用于存放字符串、颜色、布尔值等基础元素，media和profile子目录存放媒体、动画、布局等资源文件。<br><br>目录中的资源文件会被编译成二进制文件，并分配资源ID。通过指定资源类型（type）和资源名称（name）来访问。|
|限定词目录|限定词目录需要开发者根据开发需要自行创建，二级子目录element用于存放字符串、颜色、布尔值等基础元素，media和profile子目录存放媒体、动画、布局等资源文件。<br><br>同样，目录中的资源文件会被编译成二进制文件，并分配资源ID。通过指定资源类型（type）和资源名称（name）来访问。限定词的含义和取值范围以及限定词目录的命名规则请参考下方[限定词目录](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/resource-categories-and-access#%E9%99%90%E5%AE%9A%E8%AF%8D%E7%9B%AE%E5%BD%95)中的说明。|
|rawfile目录|支持创建多层子目录，子目录名称可以自定义，文件夹内可以自由放置各类资源文件。<br><br>目录中的资源文件会被直接打包进应用，不经过编译，也不会分配资源ID。通过指定文件路径和文件名访问。|
|resfile目录|支持创建多层子目录，子目录名称可以自定义，文件夹内可以自由放置各类资源文件。<br><br>目录中的资源文件会被直接打包进应用，不经过编译，也不会分配资源ID。应用安装后，resfile资源会被解压到应用沙箱路径，通过Context属性[resourceDir](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-inner-application-context#%E5%B1%9E%E6%80%A7)获取到resfile资源目录后，可通过文件路径访问，且该路径仅能以只读方式访问。|

### 资源组目录

表2 资源组目录说明

|目录类型|说明|资源文件|
|:--|:--|:--|
|element|表示元素资源，以下每一类数据都采用相应的JSON文件来表征（目录下仅支持文件类型）。<br><br>- boolean，布尔型<br><br>- color，颜色<br><br>- float，浮点型，范围是-2^128到2^128<br><br>- intarray，整型数组<br><br>- integer，整型，范围是-2^31到2^31-1<br><br>- plural，复数形式<br><br>- strarray，字符串数组<br><br>- string，字符串，[格式化字符串请参考API文档](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#getstringsync10)|element目录中的文件名称建议与下面的文件名保持一致。每个文件中只能包含同一类型的数据。<br><br>- boolean.json<br><br>- color.json<br><br>- float.json<br><br>- intarray.json<br><br>- integer.json<br><br>- plural.json<br><br>- strarray.json<br><br>- string.json|
|media|表示媒体资源，包括图片、音频、视频等非文本格式的文件（目录下只支持文件类型）。<br><br>图片和音视频的类型说明见表3和表4。|文件名可自定义，例如：icon.png。|
|profile|表示自定义配置文件，其文件内容可[通过包管理接口](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-bundlemanager#bundlemanagergetprofilebyability)获取（目录下只支持json文件类型）。|文件名可自定义，例如：test_profile.json。|

**媒体资源类型说明**

表3 图片资源类型说明

|格式|文件后缀名|
|:--|:--|
|JPEG|.jpg|
|PNG|.png|
|GIF|.gif|
|SVG|.svg|
|WEBP|.webp|
|BMP|.bmp|

表4 音视频资源类型说明

|格式|支持的文件类型|
|:--|:--|
|H.264 AVC|.3gp|
|Baseline Profile (BP)|.mp4|

### 限定词目录

限定词目录由一个或多个表征应用场景或设备特征的限定词组合而成，限定词包括移动国家码和移动网络码、语言、文字、国家或地区、横竖屏、设备类型、颜色模式和屏幕密度，限定词之间通过下划线（_）或者中划线（-）连接。开发者在创建限定词目录时，需要遵守如下限定词目录命名规则。

- 限定词的组合顺序：移动国家码_移动网络码-语言_文字_国家或地区-横竖屏-设备类型-颜色模式-屏幕密度。开发者可以根据应用的使用场景和设备特征，选择其中的一类或几类限定词组成目录名称。
    
- 限定词的连接方式：移动国家码和移动网络码之间采用下划线（_）连接，语言、文字、国家或地区之间也采用下划线（_）连接，除此之外的其他限定词之间均采用中划线（-）连接。例如：**mcc460_mnc00-zh_Hant_CN**、**zh_CN-car-ldpi**。
    
- 限定词的取值范围：每类限定词的取值必须符合限定词取值要求表中的条件，如表5。否则，将无法匹配目录中的资源文件。
    

表5 限定词取值要求

|限定词类型|含义与取值说明|
|:--|:--|
|移动国家码和移动网络码|移动国家码（MCC）和移动网络码（MNC）的值取自设备注册的网络。<br><br>MCC可与MNC合并使用，使用下划线（_）连接，也可以单独使用。例如：mcc460表示中国，mcc460_mnc00表示中国_中国移动。<br><br>详细取值范围，请查阅[**ITU-T E.212**](https://www.itu.int/rec/T-REC-E.212)（国际电联相关标准）。|
|语言|表示设备使用的语言类型，由2~3个小写字母组成。例如：zh表示中文，en表示英语，mai表示迈蒂利语。<br><br>详细取值范围，请查阅[**ISO 639**](https://www.iso.org/iso-639-language-code)（ISO制定的语言编码标准）。|
|文字|表示设备使用的文字类型，由1个大写字母（首字母）和3个小写字母组成。例如：Hans表示简体中文，Hant表示繁体中文。<br><br>详细取值范围，请查阅[**ISO 15924**](https://www.iso.org/standard/81905.html)（ISO制定的文字编码标准）。|
|国家或地区|表示用户所在的国家或地区，由2~3个大写字母或者3个数字组成。例如：CN表示中国，GB表示英国。<br><br>详细取值范围，请查阅[**ISO 3166-1**](https://www.iso.org/iso-3166-country-codes.html)（ISO制定的国家和地区编码标准）。|
|横竖屏|表示设备的屏幕方向，取值如下：<br><br>- vertical：竖屏<br><br>- horizontal：横屏|
|设备类型|表示设备的类型，取值如下：<br><br>- phone：手机<br><br>- car：车机<br><br>- tablet：平板<br><br>- tv：智慧屏<br><br>- wearable：智能穿戴<br><br>- 2in1：PC设备|
|颜色模式|表示设备的颜色模式，取值如下：<br><br>- dark：深色模式<br><br>- light：浅色模式|
|屏幕密度|表示设备的屏幕密度（单位为dpi），取值如下：<br><br>- sdpi：表示小规模的屏幕密度（Small-scale Dots Per Inch），适用于dpi取值为(0, 120]的设备。<br><br>- mdpi：表示中规模的屏幕密度（Medium-scale Dots Per Inch），适用于dpi取值为(120, 160]的设备。<br><br>- ldpi：表示大规模的屏幕密度（Large-scale Dots Per Inch），适用于dpi取值为(160, 240]的设备。<br><br>- xldpi：表示特大规模的屏幕密度（Extra Large-scale Dots Per Inch），适用于dpi取值为(240, 320]的设备。<br><br>- xxldpi：表示超大规模的屏幕密度（Extra Extra Large-scale Dots Per Inch），适用于dpi取值为(320, 480]的设备。<br><br>- xxxldpi：表示超特大规模的屏幕密度（Extra Extra Extra Large-scale Dots Per Inch），适用于dpi取值为(480, 640]的设备。|

### 资源文件示例

color.json文件的内容如下：

标准的十六进制颜色值由八位十六进制数字组成，前两位表示透明度，后六位表示颜色值。

1. {
2.     "color": [
3.         {
4.             "name": "color_hello",
5.             "value": "#ffff0000"
6.         },
7.         {
8.             "name": "color_world",
9.             "value": "#ff0000ff"
10.         }
11.     ]
12. }

float.json文件的内容如下：

1. {
2.     "float": [
3.         {
4.             "name": "font_hello",
5.             "value": "28.0fp"
6.         },
7.         {
8.             "name": "font_world",
9.             "value": "20.0fp"
10.         }
11.     ]
12. }

string.json文件的内容如下：

1. {
2.     "string": [
3.         {
4.             "name": "string_hello",
5.             "value": "Hello"
6.         },
7.         {
8.             "name": "string_world",
9.             "value": "World"
10.         },
11.         {
12.             "name": "message_arrive",
13.             "value": "We will arrive at %1$s."
14.         },
15.         {
16.             "name": "message_notification",
17.             "value": "Hello, %1$s!,You have %2$d new messages."
18.         }
19.     ]
20. }

plural.json文件的内容如下：

1. {
2.     "plural": [
3.         {
4.             "name": "eat_apple",
5.             "value": [
6.                 {
7.                     "quantity": "one",
8.                     "value": "%d apple"
9.                 },
10.                 {
11.                     "quantity": "other",
12.                     "value": "%d apples"
13.                 }
14.             ]
15.         }
16.     ]
17. }

## 创建资源目录和资源文件

在resources目录下，可按照限定词目录命名规则和资源组目录支持的文件类型，创建资源目录和资源组目录，添加特定类型资源。DevEco Studio支持同时创建资源目录和资源文件，也支持单独创建资源目录或资源文件。

### 创建资源目录和资源文件

在resources目录右键菜单选择“New > Resource File”，可同时创建资源目录和资源文件，文件默认创建在base目录的对应资源组中。如果选择了限定词，则会按照命名规范自动生成限定词和资源组目录，并将文件创建在限定词目录中。

不同类型的限定词可以组合，如同时选择Locale为zh_CN，ColorMode为Dark，将创建zh_CN-dark目录，具体组合规则参考[限定词目录](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/resource-categories-and-access#%E9%99%90%E5%AE%9A%E8%AF%8D%E7%9B%AE%E5%BD%95)。

图中File name为需要创建的文件名。Resource type为资源组类型，默认是element。Root Element为资源类型。Available qualifiers为供选择的限定词目录，通过右边的小箭头可添加或者删除。

创建的目录名自动生成，格式固定为“限定词.资源组”，例如：创建一个限定词为dark的element目录，自动生成的目录名称为“dark/element”。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163337.92934299081278165269312096285555:50001231000000:2800:7539F2C54609AEF33256755184D75B19D6F1B2FA6E6A3C7306C8A57D37BDE9BD.png)

### 创建资源目录

在resources目录右键菜单选择“New > Resource Directory”，可创建资源目录，默认创建的是base目录。如果选择了限定词，则会按照命名规范自动生成限定词和资源组目录。确定限定词后，选择资源组类型，当前资源组类型支持Element、Media、Profile三种，创建后生成资源目录。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163338.22136728043340925660849445028483:50001231000000:2800:017F07953B2CC116575E81FDBEE167276E411C99E653F13D189477A5AFAD4745.png)

### 创建资源文件

在资源组目录（element、media、profile）的右键菜单选择“New > XXX Resource File”，可创建对应资源组目录的资源文件。例如，在element目录下可新建Element Resource File。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163339.35319613145319816327505893710624:50001231000000:2800:09AA6643A55FA299ACDB7F22B97FB58FA1EAF144913203BE10C78FCA27C2A727.png)

### 示例

以创建中文和英文字符串资源文件为例，说明如何创建不同限定词的资源。

1. 在resources目录右键菜单选择“New > Resource File”，File name填写为string_sample，Resource type选择Element，Root Element选择string，Available qualifiers选中Locale，在右侧的语言列表中选择zh，地区列表中选择CN，将会在resources目录下创建zh_CN/element/string_sample.json文件。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163340.90504351368057027541591218103939:50001231000000:2800:FA4AD886AF7564E3A8B9C712C882A3310DAFAE68ACFD239B10E9A3B4B6078C41.png)
    
2. 同理，语言选择en，地区选择US，创建en_US/element/string_sample.json文件。
    

最终创建的资源文件如下。资源文件创建完成后，如何访问资源文件请参见[资源访问](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/resource-categories-and-access#%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE)。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163341.70447620150370495997371019737411:50001231000000:2800:5656BD259B3737BBA7E3707B2C4B51D6C7D664CC36220C4681CA7CC95363B4B3.png)

## 资源可翻译特性

### 功能介绍

当应用引用的字符串资源需要支持国际化多语言翻译时，可使用attr属性标记字符串翻译范围和翻译状态。attr属性不参与资源编译，只标记字符串是否翻译。

未配置attr属性时，默认需要翻译。

**attr支持属性**

|名称|类型|说明|
|:--|:--|:--|
|translatable|boolean|标记字符串是否需要翻译。<br><br>true：需要翻译。<br><br>false：不需要翻译。|
|priority|string|标记字符串翻译状态。<br><br>code：未翻译。<br><br>translate：翻译未验证。<br><br>LT：翻译已验证。<br><br>customer：用户定制字符串。|

### 使用约束

可翻译特性使能范围：base目录下string、strarray、plural类型资源。

1. resources
2. |---base
3. |   |---element
4. |   |   |---string.json
5. |   |   |---strarray.json
6. |   |   |---plural.json

### 示例

string资源配置attr属性示例如下，其中string1字符串被标记为不需要翻译，string2字符串被标记为需要翻译且翻译已验证。

1. {
2.   "string": [
3.     {
4.       "name": "string1",
5.       "value": "1",
6.       "attr": {
7.         "translatable": false
8.       }
9.     },
10.     {
11.       "name": "string2",
12.       "value": "Hello world!",
13.       "attr": {
14.         "translatable": true,
15.         "priority": "LT"
16.       }
17.     }
18.   ]
19. }

## 资源访问

### 单HAP包应用资源

- 通过$r或$rawfile访问资源。
    
    对于color、float、string、plural、media、profile等类型的资源，通过$r('app.type.name')形式访问。其中，app为resources目录中定义的资源，type为资源类型，name为资源名，由开发者定义资源时确定。
    
    对于string.json中使用多个占位符的情况，例如资源值value中存在%1$s和%2$d两个占位符，需要通过$r('app.string.label', 'aaa', 444)形式访问。其中label为资源名称name，'aaa'和444用来替代占位符。
    
    对于rawfile目录资源，通过$rawfile('filename')形式访问。其中，filename为rawfile目录下文件的相对路径，文件名需要包含后缀，路径开头不可以"/"开头。
    
    说明
    
    rawfile的native的访问方式请参考[Rawfile开发指导](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/rawfile-guidelines)。
    

[资源文件示例](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/resource-categories-and-access#%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6%E7%A4%BA%E4%BE%8B)中显示了.json文件内容，包含color.json、string.json和plural.json，访问应用资源时需先了解.json文件的使用规范。

资源的具体使用方法如下：

1.   //通过$r('app.type.name')访问
2.   Text($r('app.string.string_hello'))
3.   .fontColor($r('app.color.color_emphasize'))
4.   .fontSize($r('app.float.text_size_headline1'))
5.   .fontFamily($r('app.string.font_family_medium'))
6.   .backgroundColor($r('app.color.color_palette_aux1'))

7.   Image($r('app.media.app_icon'))
8.   .border({
9.     color: $r('app.color.color_palette_aux1'),
10.     radius: $r('app.float.corner_radius_button'), width: 2
11.   })
12.   .margin({
13.     top: $r('app.float.elements_margin_horizontal_m'),
14.     bottom: $r('app.float.elements_margin_horizontal_l')
15.   })
16.   .height(200)
17.   .width(300)

18.   // 对于string.json中name为"message_notification"，value为"Hello, %1$s!,You have %2$d new messages."
19.   // 该资源存在%1$s、%2$d两个占位符，需要替代为'LiHua'、2，则采用如下方式访问
20.   Text($r('app.string.message_notification', 'LiHua', 2))
21.   // 对于plural.json中name为"eat_apple"，单数的value为"%d apple"，复数的value为"%d apples"
22.   // 访问plural.json资源，第一个参数控制字符串显示单数形式或复数形式，传递1表示单数，大于1表示复数，且在中文环境下始终为复数
23.   // 该资源存在%d一个占位符，需要替代为2，则采用如下方式访问
24.   Text($r('app.plural.eat_apple', 2, 2))

- 通过本应用上下文获取ResourceManager后，可调用不同[资源管理接口](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager)通过资源ID值或资源名称访问各类资源。例如：
    
    getContext().resourceManager.getStringByNameSync('test')可获取字符串资源。
    
    getContext().resourceManager.getRawFd('rawfilepath')可获取Rawfile所在hap包的descriptor信息，访问rawfile文件时需{fd, offset, length}一起使用。
    

### 跨HAP/HSP包应用资源

**bundle相同，跨module访问**

- 通过[createModuleContext(context, moduleName)](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-application#applicationcreatemodulecontext12)接口创建同应用中不同module的上下文，获取resourceManager对象后，调用不同[资源管理接口](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager)通过资源ID值或资源名称访问各类资源。
    
- 通过$r或$rawfile访问资源。具体操作如下：
    
    1.在entry的oh-package.json5文件中添加依赖。如"dependencies": {"library": "file:../library"}。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163342.36998949850315003214480802074205:50001231000000:2800:F7E68769BDBDE563D6B0583E2F2005A31BC75F3A5DB0D4A8CD6A26C0C72EF641.png)
    
    2.使用字面量[模块名].type.name或变量获取资源。其中，模块名为hsp模块的名称，type为资源类型，name为资源名称，示例如下：
    
    1.  @Entry
    2.  @Component
    3.  struct Index {
    4.    text: string = '[hsp].string.test_string';
    5.    fontSize: string = '[hsp].float.font_size';
    6.    fontColor: string = '[hsp].color.font_color';
    7.    image: string = '[hsp].media.string';
    8.    rawfile: string = '[hsp].icon.png';
    
    9.    build() {
    10.      Row() {
    11.        // 使用字面量[模块名].type.name获取资源
    12.        Text($r('[hsp].string.test_string'))
    13.          .fontSize($r('[hsp].float.font_size'))
    14.          .fontColor($r('[hsp].color.font_color'))
    15.        Image($rawfile('[hsp].icon.png'))
    
    16.        // 使用变量获取资源
    17.        Text($r(this.text))
    18.          .fontSize($r(this.fontSize))
    19.          .fontColor($r(this.fontColor))
    
    20.        Image($r(this.image))
    
    21.        Image($rawfile(this.rawfile))
    22.      }
    23.    }
    24.  }
    
    说明
    
    hsp包名必须写在[]内，rawfile下有多层目录，需要从rawfile下面第一个目录开始写，如$rawfile('[hsp].oneDir/twoDir/icon.png')，使用$r和$rawfile跨包访问HSP包资源无法提供编译时的资源校验，需要开发者自行保证使用资源存在于对应包中。
    

### 系统资源

开发者可以通过[主题图标库](https://developer.huawei.com/consumer/cn/design/harmonyos-symbol/)获取系统symbol图标资源信息、通过[系统资源分层设计表](https://gitcode.com/openharmony/docs/blob/master/zh-cn/design/ux-design/design-resources.md)获取系统颜色、间距、圆角等资源信息。此外，系统颜色资源还可以通过[系统色彩全量表](https://developer.huawei.com/consumer/cn/doc/design-guides/color-0000001776857164#section17672143841113)获取，系统色彩全量表与系统资源分层设计表内的资源不重合，均为推荐使用的系统颜色资源。

获取的symbol图标资源可通过[SymbolGlyph](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-symbolglyph)对图标颜色等进一步设置。

对于系统资源，可以通过$r('sys.type.name')的形式访问。其中，sys表示系统资源，type为资源类型，取值包括“color”、“float”、“string”、“media”、“symbol”，name为资源名称。

说明

- 上述表格中未列出的其他系统资源均为系统组件和底层能力参数，推荐开发者优先使用上述表格中提供的系统资源。
    
- 对于系统预置应用，建议使用系统资源；对于三方应用，可以根据需要选择使用系统资源或自定义应用资源。
    
- 仅声明式开发范式支持使用系统资源。
    
- 当前，界面显示时默认使用的系统字体是鸿蒙黑体（HarmonyOS Sans），支持的字符范围是[中文编码字符集GB18030-2022（级别一/级别二）](https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=A1931A578FE14957104988029B0833D3)。若要显示的字符不在鸿蒙黑体支持的字符范围内，系统会在其他支持该字符的字体中选择优先级最高的字体用来显示。关于系统字体的优先级顺序，可以查看设备上的配置文件system/etc/fontconfig.json。
    

1. Text('Hello')
2.   .fontColor($r('sys.color.ohos_id_color_emphasize'))
3.   .fontSize($r('sys.float.ohos_id_text_size_headline1'))
4.   .fontFamily($r('sys.string.ohos_id_text_font_family_medium'))
5.   .backgroundColor($r('sys.color.ohos_id_color_palette_aux1'))

6. Image($r('sys.media.ohos_app_icon'))
7.   .border({
8.     color: $r('sys.color.ohos_id_color_palette_aux1'),
9.     radius: $r('sys.float.ohos_id_corner_radius_button'), width: 2
10.   })
11.   .margin({
12.     top: $r('sys.float.ohos_id_elements_margin_horizontal_m'),
13.     bottom: $r('sys.float.ohos_id_elements_margin_horizontal_l')
14.   })
15.   .height(200)
16.   .width(300)

## 资源匹配

应用使用某资源时，系统会根据当前设备状态优先从相匹配的限定词目录中寻找该资源。只有当resources目录中没有与设备状态匹配的限定词目录，或者在限定词目录中找不到该资源时，才会去base目录中查找。rawfile和resfile是原始文件目录，不会根据设备状态去匹配资源。

说明

- 在编译构建时，AppScope目录下的资源文件会合入到模块下面的资源文件中，如果两个目录下的相同资源目录和资源组目录下存在重名资源，编译打包后只会保留AppScope目录下的资源。

### 限定词目录与设备状态的匹配规则

- 在为设备匹配对应的资源文件时，限定词目录匹配的优先级从高到低依次为：移动国家码和移动网络码 > 区域（可选组合：语言、语言_文字、语言_国家或地区、语言_文字_国家或地区）> 横竖屏 > 设备类型 > 颜色模式 > 屏幕密度。
    
- 如果限定词目录中包含移动国家码和移动网络码、语言、文字、横竖屏、设备类型、颜色模式限定词，则对应限定词的取值必须与当前的设备状态完全一致，该目录才能够参与设备的资源匹配。例如，限定词目录zh_CN-car-ldpi不能参与en_US设备的资源匹配。
    
- 如果存在多个屏幕密度限定词目录，则优先向上匹配最接近的屏幕密度限定词目录，否则向下匹配最为接近的屏幕密度限定词目录。例如，假设存在限定词目录xldpi和xxldpi，设备屏幕密度为xxldpi，则会匹配xxldpi限定词目录。
    

关于应用界面加载资源的更多规则，请参考[国际化和本地化](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/i18n-l10n)文档。

### 获取指定配置的资源

**基本概念**

开发者可以在工程的resources目录下添加限定词目录，满足多语言、深浅色模式等不同类型的系统设置。然而，在获取资源时，由于限定词目录匹配规则，只能筛选出最匹配的资源，无法获取其它目录资源。

应用如果有获取指定配置的资源的诉求，可以通过以下方法进行获取。

**接口说明**

|接口名|描述|
|:--|:--|
|[getOverrideResourceManager](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#getoverrideresourcemanager12)(configuration?: [Configuration](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#configuration)) : [ResourceManager](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#resourcemanager)|获取可以加载指定配置的资源的资源管理对象，使用同步方式返回。|
|[getOverrideConfiguration](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#getoverrideconfiguration12)() : [Configuration](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#configuration)|获取指定的配置，使用同步方式返回。|
|[updateOverrideConfiguration](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#updateoverrideconfiguration12)(configuration: [Configuration](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#configuration)) : void|更新指定的配置。|

**示例**

以获取非当前系统语言的资源为例，说明如何获取指定配置的资源。假设工程中定义了中文、英文、日文的同名资源如下：

- entry/src/main/resources/zh_CN/element/string.json

1. {
2.   "string": [
3.     {
4.       "name": "greetings",
5.       "value": "你好，世界"
6.     }
7.   ]
8. }

- entry/src/main/resources/en_US/element/string.json

1. {
2.   "string": [
3.     {
4.       "name": "greetings",
5.       "value": "Hello, world"
6.     }
7.   ]
8. }

- entry/src/main/resources/ja_JP/element/string.json

1. {
2.   "string": [
3.     {
4.       "name": "greetings",
5.       "value": "こんにちは、世界"
6.     }
7.   ]
8. }

在Index.ets中，分别获取三种语言的资源并显示在文本框中，运行设备当前系统语言为中文，entry/src/main/ets/pages/Index.ets的代码如下：

1. import { BusinessError } from '@kit.BasicServicesKit';

2. @Entry
3. @Component
4. struct Index {
5.   @State englishString: string = "";
6.   @State japaneseString: string = "";

7.   getString(): string {
8.     let resMgr = this.getUIContext().getHostContext()?.resourceManager;
9.     if (!resMgr) {
10.       return "";
11.     }
12.     let currentLanguageString: string = "";
13.     try {
14.       let resId = $r('app.string.greetings').id;

15.       //获取符合当前系统语言地区、颜色模式、分辨率等配置的资源
16.       currentLanguageString = resMgr.getStringSync(resId);

17.       //获取符合当前系统颜色模式、分辨率等配置的英文资源
18.       let overrideConfig = resMgr.getOverrideConfiguration();
19.       overrideConfig.locale = "en_US"; //指定资源的语言为英语，地区为美国
20.       let overrideResMgr = resMgr.getOverrideResourceManager(overrideConfig);
21.       this.englishString = overrideResMgr.getStringSync(resId);

22.       //获取符合当前系统颜色模式、分辨率等配置的日文资源
23.       overrideConfig.locale = "ja_JP"; //指定资源的语言为日文，地区为日本
24.       overrideResMgr.updateOverrideConfiguration(overrideConfig); //等效于resMgr.updateOverrideConfiguration(overrideConfig)
25.       this.japaneseString = overrideResMgr.getStringSync(resId);
26.     } catch (err) {
27.       const code = (err as BusinessError).code;
28.       const message = (err as BusinessError).message;
29.       console.error(`get override resource failed, error code: ${code}, error msg: ${message}`);
30.     }
31.     return currentLanguageString;
32.   }

33.   build() {
34.     Row() {
35.       Column() {
36.         Text(this.getString())
37.           .fontSize(50)
38.           .fontWeight(FontWeight.Bold)
39.         Text(this.englishString)
40.           .fontSize(50)
41.           .fontWeight(FontWeight.Bold)
42.         Text(this.japaneseString)
43.           .fontSize(50)
44.           .fontWeight(FontWeight.Bold)
45.       }
46.       .width('100%')
47.     }
48.     .height('100%')
49.   }
50. }

## overlay机制

overlay是一种资源替换机制，针对不同品牌、产品的显示风格，开发者可以在不重新打包HAP的情况下，通过配置和使用overlay资源包，实现应用界面风格变换。overlay资源包只包含资源文件、资源索引文件和配置文件。

### 动态overlay使用方式

1. 对应的overlay资源包需要放在对应应用安装路径下。如应用com.example.overlay的安装路径为data/app/el1/bundle/public/com.example.overlay/。
2. 应用通过[addResource(path)](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#addresource10)，实现资源覆盖；通过[removeResource(path)](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-resource-manager#removeresource10)，实现overlay删除。overlay资源路径需经过元能力的getContext().bundleCodeDir获取此应用对应的沙箱根目录，由应用的沙箱根目录与overlay资源包名称拼接而成。如：let path = getContext().bundleCodeDir + "overlay资源包名称"，其对应沙箱路径为/data/storage/el1/bundle/overlay资源包名称。

### 静态overlay配置方式

该功能默认使能，使能及去使能请参考[包管理接口](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-overlay)。

包内overlay资源包中的配置文件app.json5中支持的字段：

1. {
2.   "app":{
3.     "bundleName": "com.example.myapplication.overlay",
4.     "vendor" : "example",
5.     "versionCode": "1000000",
6.     "versionName": "1.0.0.1",
7.     "icon": "$media:app_icon",
8.     "label": "$string:app_name"
9.   }
10. }

包内overlay资源包中的配置文件module.json5中支持的字段：

1. {
2.   "module":{
3.     "name": "entry_overlay_module_name",
4.     "type": "shared",
5.     "description": "$string:entry_overlay_desc",
6.     "deviceTypes": [
7.       "default",
8.       "tablet"
9.     ],
10.     "deliverywithInstall": true,
11.     "targetModuleName": "entry_module_name",
12.     "targetPriority": 1
13.   }
14. }

说明

- targetModuleName: 字符串类型，指定要overlay的应用中的目标module。
    
- targetPriority： 整数类型，指定overlay优先级。
    
- 不支持Ability、ExtensionAbility、Permission等其他字段的配置。
    
- overlay不支持json类型的图片配置。
    

在DevEco Studio中创建应用工程时，module的配置文件module.json5中包含targetModuleName和targetPriority字段时，该module将会在安装阶段被识别为overlay特征的module。overlay特征的module一般是为设备上存在的非overlay特征的module提供覆盖的资源文件，以便于targetModuleName指向的module在运行阶段可以使用overlay资源文件展示不同的颜色，标签，主题等等。
