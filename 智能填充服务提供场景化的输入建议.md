# 智能填充概述

更新时间: 2025-12-16 16:36

智能填充服务提供场景化的输入建议，完善应用/元服务的系统开发能力，实现用户对复杂表单的一键填充，助力打造HarmonyOS极致输入效率。开发ArkUI输入组件后（[TextInput](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput)、[TextArea](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textarea)以下统称输入组件），一行代码配置快速启用功能。

## 约束和限制

智能填充支持Phone、Tablet设备，并且从5.1.0(18)版本开始，新增支持2in1设备。

## 申请接入智能填充服务

### 接入须知

- 智能填充服务仅提供给**[已完成认证的企业开发者](https://developer.huawei.com/consumer/cn/doc/start/edrna-0000001062678489)**使用。
- 智能填充支持的填充字段满足应用使用智能填充的业务场景需求。字段请参考[ContentType使用场景说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-appendix)。

### 接入操作

智能填充服务开放能力接入需要申请与审批，申请接入流程如下：

1. 请参考[创建HarmonyOS应用/元服务](https://developer.huawei.com/consumer/cn/doc/app/agc-help-createharmonyapp-0000001945392297)完成为HarmonyOS应用/元服务创建APP ID工作。
2. 登录[AppGallery Connect](https://developer.huawei.com/consumer/cn/service/josp/agc/index.html)，选择**“**开发与服务**”**。
3. 选择应用后，在“开放能力管理”栏，找到智能填充服务的开放能力，点击右侧“申请”。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.01672570909616246162025749114927:50001231000000:2800:1338115A190FB069F9648AB403D76FF213A21B4B7FC44DD40C4B9ED4954AF24C.png "点击放大")
    
4. 在“新建业务申请”窗口填写申请原因，选择上传附件，然后点击“提交”。
    
    - 申请原因：请详细描述使用**智能填充的具体场景**。（例如：***应用是***（应用简介），希望在***场景中使用智能填充***字段信息，以提升用户表单填写效率。）字段信息请参考[ContentType使用场景说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-appendix)。
    - 上传附件：提供接入智能填充场景的页面图片或视频。
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.70191695566374920008824935773013:50001231000000:2800:6A1C717659681235CB1DB0819F7910A216C274F3C4149AD74E8555912527F1DE.png "点击放大")
        
    
    说明
    
    请根据场景所需，申请必要的字段信息，并谨慎使用。若存在不合理使用的情况，我们将收回该服务授权。
    
5. 进入互动中心页面，可看到申请已提交的消息。
6. 返回“开放能力管理”页面，能力开关置灰，“申请”显示为“申请中”状态。
7. 申请审批通过后，互动中心将收到通知。至此，已成功接入智能填充服务。
    
    说明
    
    - 审批通过后，预计30分钟生效。
    

## 前提条件

- 设备智能填充开关必须处于打开状态，请前往“设置 > 隐私和安全 > 智能填充”页面开启开关，页面中可查看“关于智能填充与隐私的声明”和“权限使用说明”。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.03515981429690977408742925266649:50001231000000:2800:3E54AF5D2E5EB48F030AE35C8419215D62C8055538558C8624C55042F07171E7.png "点击放大")
    
- 应用/元服务的输入组件的[ContentType](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-appendix)属性配置对应场景，即可触发智能填充功能。
- 设备已连接互联网。

## 表单智能填充

### 表单填充推荐场景

点击表单中任一配置了ContentType属性的输入组件，将在其下方弹窗展示推荐的填充数据，填充数据来源请参考[推荐数据源及推荐逻辑说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-explain)。

- 点击表单中ContentType为“PERSON_FULL_NAME”（姓名）或“PERSON_LAST_NAME”（姓氏）、“PERSON_FIRST_NAME”（名字）的输入组件时，将同时推荐表单中其他ContentType类型的数据（以下统称多输入框场景）。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.22834790616729142667512318250152:50001231000000:2800:2D456BCAE24F450F024181FB42BA95699576B0D4CC0CF02AA669E921881008CE.png "点击放大")
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.16941176001998175224100568943943:50001231000000:2800:06C875FCD894BD802DC87BE8B6E3A0232EB5192074156703C35E0E7DB6BA56BC.png "点击放大")
    

- 点击其他ContentType的输入组件时，只会推荐对应场景数据。例如点击ContentType为“NICKNAME”（昵称）的输入组件时，仅会在弹窗中推荐昵称数据（以下统称单输入框场景）。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.79631711679548484659279483676637:50001231000000:2800:85F56DAD7DB49FAAE9B8DF66D86DB141C76365178E6624226F23930CA6B9476C.png "点击放大")
    

- 表单中存在ContentType为“PERSON_FULL_NAME”（姓名）或“PERSON_LAST_NAME”（姓氏）、“PERSON_FIRST_NAME”（名字）的输入组件且其中已填入信息，在点击其他已配置ContentType的输入组件时，将根据已填入的姓名信息进行信息匹配推荐。例如姓名填写“张三”，点击“手机号码”输入组件仅推荐数据源中“张三”相关的信息。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.59704917711681208590982189706622:50001231000000:2800:C94F9D15194EC7B06072AEF96A40F4A720D25EE7DE106D8EEF2A981D37F7FB6F.png "点击放大")
    
- 表单中存在ContentType为“PERSON_FULL_NAME”（姓名）或“PERSON_LAST_NAME”（姓氏）、“PERSON_FIRST_NAME”（名字）的输入组件且存在地址输入组件，在点击用户姓名类和地址信息类的ContentType输入组件时，若推荐的数据包含华为账号数据源的数据，且华为账号数据源的推荐数目少于推荐的华为账号收货地址数据时，可点击“更多地址”按钮拉起选择其他收货地址页面。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.83443212139663910681333984943581:50001231000000:2800:012B7DA2110D26AD5897CF775198E580ADF9939B01A6D796BBB04DD5F18D8E05.png "点击放大")
    

### 昵称填写推荐场景

当表单中需要昵称填写时，可从华为账号信息来源获取。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163639.74071275860699977524907251522923:50001231000000:2800:096945A5EC71501897AA0D5158DB2A1492039088D72EBCE890EEEB0539A926C7.png "点击放大")

### 日程信息推荐场景

当表单中的输入组件仅配置了ContentType为“FORMAT_ADDRESS”（全量地址）时，会从日程信息中获取2小时内的数据进行填充推荐。

说明

日程数据源推荐场景目前仅支持中文地址。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.11044020873323572710338067841514:50001231000000:2800:6F601580EE14B0C67764DB0668C61CFA7BD483A06A1A9BEB01511FF27CDC98A8.png "点击放大")

### 联系人信息推荐场景

点击配置了ContentType为“PHONE_NUMBER”（手机号）的输入组件时，若表单中存在ContentType为“PERSON_FULL_NAME”（姓名）或“PERSON_LAST_NAME”（姓氏）、“PERSON_FIRST_NAME”（名字）的输入组件且已填入信息，将根据其填入的信息来推荐联系人数据。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.08319996084969841832466057276107:50001231000000:2800:C11B907FD13331EC049BD4333AAED9D99C7E435D69287F600A745DA94C1C0B54.png "点击放大")

### 车牌信息推荐场景

从5.1.0(18)开始，支持智能填充的推荐车牌号场景。

当表单中需要车牌号填写时，可从历史表单输入数据源中获取机主本人的车牌信息。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.52916181919706393454973501525285:50001231000000:2800:FFA2DF166BC1FE3477E3EC11932C4EFD781AE3FD772BBDB0E4A18A85295B2405.png "点击放大")

### 护照信息推荐场景

从5.1.0(18)开始，支持智能填充的护照信息推荐场景。

表单中存在ContentType为“COUNTRY_ADDRESS”（国籍）、“PASSPORT_NUMBER”（护照号）、“VALIDITY”（有效期至）、“ISSUE_AT”（签发地）的输入组件，在点击姓名类输入组件时，可从历史表单输入数据源中推荐护照信息。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.16667577179198506969176454009710:50001231000000:2800:3D96CD1DE633FC2E3787D4C022BA0FCF5E58ED108ADBAC02C3ED3F590CEEE944.png "点击放大")

### 发票抬头推荐场景

从5.1.0(18)开始，支持智能填充的发票抬头推荐场景。

当表单中存在ContentType为“ORGANIZATION”（名称）和“TAX_ID”（税号）时，点击名称框可从华为账号数据源获取数据进行主动推荐，或根据输入内容进行匹配推荐，名称单框不支持推荐；税号框则根据名称框内容进行匹配推荐，名称框为空则进行主动推荐，税号单框不支持匹配推荐。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.15645214947331502274322196551109:50001231000000:2800:EDCF60B2184637046185EBED28F321D333EE7AAC41158EDAB429EA1A6C4F1524.png "点击放大")

## 历史表单输入

保存在应用/元服务中填写的表单信息，用于后续表单填充推荐。

### 保存历史表单输入场景

填写表单信息时，表单中存在配置了ContentType属性的输入组件触发历史表单输入保存页面，选择“保存”后智能填充弹窗提示开通服务，开启智能填充开关后填写表单进行一键填充。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.76271784673665829131672097375501:50001231000000:2800:5209B0592F7CE11F1230EEAF273D024E8ED576B31F26C3B2C7659D05F5D57395.png "点击放大")

说明

- 当使用智能填充功能的表单页面在切换或退出时，会自动触发[requestAutoSave](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-apis-app-ability-autofillmanager#autofillmanagerrequestautosave)接口进行历史表单输入保存请求，将弹出“保存至历史表单输入”页面。也可主动调用该接口触发历史表单输入保存。
- “保存至历史表单输入”页面在点击“保存信息”按钮之后，若智能填充功能开关未打开，则弹出智能填充服务打开引导弹窗，点击“同意”按钮之后，智能填充开关会打开并将表单输入数据保存到历史表单输入中。
- “保存至历史表单输入”页面在点击“忽略”按钮后，该应用24小时之内不会再次询问。该设备累计忽略5次后，页面中将显示“忽略后不再询问”勾选框，勾选之后点击“忽略”按钮，后续将不再询问。

### 更新已有历史表单输入记录

当表单中存在ContentType为“PERSON_FULL_NAME”（姓名）的输入组件时，且表单还存在其他任一配置了ContentType的输入组件，在触发保存时若历史表单输入记录中存在该姓名的记录且其他数据存在差异，则拉起页面提示“更新已有记录”或“保存为新记录”。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.23259128345580650955275838774158:50001231000000:2800:C9515DD68FB873D4CEDE9474ABC1CADB8E267FD84A54C5A730F77D0C9AF7C93A.png "点击放大")

### 手动新增/修改历史表单输入场景

在智能填充页面或个人信息页面可以对历史表单输入进行管理。当历史表单输入中无数据，可点击“新增表单信息”进行新增；也可对已保存的信息进行修改或删除（当设备设置锁屏密码，进入历史表单输入时，需要输入锁屏密码）。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.29305503530925085075272290429309:50001231000000:2800:7982D2567CEB638E754CA8740FC6C6C36E247DBDA10DB11119ED7D0E97C0D0F9.png "点击放大")

## 云空间同步数据

同一华为账号下通过云空间实现数据上云保存，用于多设备数据同步。

### 云空间多设备同步数据场景

登录华为账号后“云空间服务 ”中 智能填充开关默认开启，可以实现多设备同步历史表单输入数据。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163640.14078411603466216230243326770000:50001231000000:2800:05EB87458D819510CC9275E96C0385FD14591A58EB677FB0180763CD232E85C7.png "点击放大")

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligent-filling "智能填充服务")
# 典型场景展示

更新时间: 2025-12-16 16:36

如下展示两种智能填充的典型场景。

## 实名购票场景

示例一：智能识别剪贴板内容，一键复制，一键填充。

说明

剪贴板数据源推荐场景目前仅支持中文姓名和中文地址。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163654.14490318667171180078227852575788:50001231000000:2800:9DA18189A55CC5BD304C2C0B5322FDF8659AB0AB5262C1A44A1F2BEC2E9D190E.png "点击放大")

示例二：根据用户输入，智能关联设备上历史表单输入、华为账号等信息提供输入建议，一键填充。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163654.15630785196258796804782137630065:50001231000000:2800:6B72C9FF81F95C8D2A7413B6690A06D61A40E9805038D90C2648C1ABAB1845A5.png "点击放大")

## 填写收货地址场景

示例一：智能识别剪贴板内容，一键复制，一键填充。

说明

剪贴板数据源推荐场景目前仅支持中文姓名和中文地址。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163654.40557949506567051257857056307207:50001231000000:2800:A920B57C789903F5820D0C57D3DBEA8781707194B45E9E368A02B70B76D0EA0E.png "点击放大")

示例二：根据用户输入，智能关联设备上历史表单输入、华为账号等信息提供输入建议，一键填充。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163654.89845460466751225390910632613682:50001231000000:2800:12E3150AD6B1C7EFBA98D75C19A866D06579E26B9367BCE23D84BB023CFAC68D.png "点击放大")

## 示例代码

1. import { autoFillManager } from '@kit.AbilityKit';
2. import { hilog } from '@kit.PerformanceAnalysisKit';
3. import { BusinessError } from '@kit.BasicServicesKit';

4. @Entry
5. @Component
6. struct SmartFill {
7.   @State isClicked: boolean = false;

8.   build() {
9.     Column({ space: 5 }) {
10.       Row() {
11.         Text('昵称：').textAlign(TextAlign.End).width('25%')
12.         TextInput().width('75%').contentType(ContentType.NICKNAME).selectionMenuHidden(true)
13.       }

14.       Row() {
15.         Text('姓名：').textAlign(TextAlign.End).width('25%')
16.         TextInput().width('75%').contentType(ContentType.PERSON_FULL_NAME).selectionMenuHidden(true)
17.       }

18.       Row() {
19.         Text('手机号码：').textAlign(TextAlign.End).width('25%')
20.         TextInput().width('75%').contentType(ContentType.PHONE_NUMBER).selectionMenuHidden(true)
21.       }

22.       Row() {
23.         Text('邮箱：').textAlign(TextAlign.End).width('25%')
24.         TextInput().width('75%').contentType(ContentType.EMAIL_ADDRESS).selectionMenuHidden(true)
25.       }

26.       Row() {
27.         Text('身份证号：').textAlign(TextAlign.End).width('25%')
28.         TextInput().width('75%').contentType(ContentType.ID_CARD_NUMBER).selectionMenuHidden(true)
29.       }

30.       Row() {
31.         Text('地址：').textAlign(TextAlign.End).width('25%')
32.         TextInput().width('75%').contentType(ContentType.FORMAT_ADDRESS).selectionMenuHidden(true)
33.       }

34.       Button('保存')
35.         .onClick(() => {
36.           if (!this.isClicked) {
37.             // 主动触发保存历史表单输入。
38.             try {
39.               autoFillManager.requestAutoSave(this.getUIContext())
40.             } catch (err) {
41.               let e: BusinessError = err as BusinessError;
42.               hilog.error(0x0000, 'DemoTest', 'error: %{public}d %{public}s', e.code, e.message);
43.             }
44.             this.isClicked = true;
45.             // 设置超时时间以防止重复点击按钮保存历史表单输入。
46.             setTimeout(() => {
47.               this.isClicked = false;
48.             }, 1000)
49.             // 或者通过路由跳转其他页面触发保存历史表单输入。
50.             this.getUIContext().getRouter().pushUrl({
51.               url: 'xxx'
52.             })
53.           }
54.         })
55.         .width("50%")
56.     }
57.     .alignItems(HorizontalAlign.Center)
58.     .height('100%')
59.     .width('100%')
60.   }
61. }

说明

- 智能填充在页面发生跳转的时候，或者手动触发保存逻辑的时候，方可触发保存表单逻辑。

- 剪贴板文本内容识别功能现已实现超过90%的准确率。尽管如此，我们认识到在特定场景下仍可能出现识别误差。为了提升填表数据的准确性，我们建议在关键环节引入增强校验。这些校验措施包括但不限于：
    1. 格式校验：自动检测输入格式，确保数据符合预设标准。
    2. 确认提示：在提交前通过弹窗提示用户再次确认信息，避免输入错误。
- 若在页面中也提供了弹窗提醒填充建议的功能，为避免弹窗冲突，建议将对应输入组件的[enableAutoFill](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-textinput#enableautofill11)属性设置为"false"以关闭智能填充功能。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill "智能填充概述")
# 动态修改ContentType值

更新时间: 2025-12-16 16:37

在填写实名信息表单的场景，表单中存在身份证和其他证件输入，其中，多种证件号共用一个输入框，ContentType.ID_CARD_NUMBER目前只支持身份证号的推荐、填充，不支持其他类型的证件，需要开发者根据输入场景动态配置输入框的ContentType，只在身份证输入场景下使用ContentType.ID_CARD_NUMBER。

## 效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163706.94405963954788032270109194323228:50001231000000:2800:E774C0A82B68F09E52EFA3BC442C9DD0AED5699C778B1617114346A605CD19AE.png "点击放大")

## 示例代码

1. import { hilog } from '@kit.PerformanceAnalysisKit';
2. import { autoFillManager } from '@kit.AbilityKit';
3. import { BusinessError } from '@kit.BasicServicesKit';

4. @Entry
5. @Component
6. struct SmartFill {
7.   // 与证书号码类型对应的ContentType。在此情况下，默认将ContentType设置为身份证号码对应的类型值。 
8.   @State type: ContentType | undefined = ContentType.ID_CARD_NUMBER;
9.   @State isClicked: boolean = false;

10.   build() {
11.     Column({ space: 5 }) {
12.       Row() {
13.         Text('证件类型：').textAlign(TextAlign.End).width('25%')
14.         Select([{ value: '身份证' }, { value: '港澳通行证' }])
15.           .width('75%')
16.           .selected(0)
17.           .value('身份证')
18.           .onSelect((index: number, value: string) => {
19.             // 当用户选择ID类型时，更改与证书号码输入组件对应的ContentType值。
20.             hilog.info(0x000, 'testTag', 'Select item changed, value: ' + value + ', index: ' + index);
21.             if (value === "身份证") {
22.               this.type = ContentType.ID_CARD_NUMBER;
23.             } else if (value === "港澳通行证") {
24.               this.type = undefined;
25.             }
26.             hilog.info(0x000, 'testTag', 'ContentType changed, current type: ' + this.type);
27.           })
28.       }

29.       Row() {
30.         Text('姓名：').textAlign(TextAlign.End).width('25%')
31.         TextInput().width('75%').contentType(ContentType.PERSON_FULL_NAME)
32.       }

33.       Row() {
34.         Text('手机号码：').textAlign(TextAlign.End).width('25%')
35.         TextInput().width('75%').contentType(ContentType.PHONE_NUMBER)
36.       }

37.       Row() {
38.         Text('证件号码').textAlign(TextAlign.End).width('25%')
39.         TextInput().width('75%').contentType(this.type)
40.       }

41.       Button('保存')
42.         .onClick(() => {
43.           if (!this.isClicked) {
44.             // 主动触发保存历史表单输入。
45.             try {
46.               autoFillManager.requestAutoSave(this.getUIContext())
47.             } catch (err) {
48.               let e: BusinessError = err as BusinessError;
49.               hilog.error(0x0000, 'DemoTest', 'error: %{public}d %{public}s', e.code, e.message);
50.             }
51.             this.isClicked = true;
52.             // 设置超时时间以防止重复点击按钮保存历史表单输入。
53.             setTimeout(() => {
54.               this.isClicked = false;
55.             }, 1000)
56.             // 或者通过路由跳转其他页面触发保存历史表单输入。
57.             this.getUIContext().getRouter().pushUrl({
58.               url: 'xxx'
59.             })
60.           }
61.         })
62.         .width("50%")
63.     }
64.     .alignItems(HorizontalAlign.Center)
65.     .height('100%')
66.     .width('100%')
67.   }
68. }

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-typical-scenario "典型场景展示")
# 自动补全地址表单所在地区

更新时间: 2025-12-16 16:37

在填写地址表单场景时，当应用使用了所在地区的省市区选择器，需要开发者对表单中的地址字段进行开发。

注意

- 需要在module.json5文件中设置模糊位置权限：[ohos.permission.APPROXIMATELY_LOCATION](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/permissions-for-all-user#ohospermissionapproximately_location)。
- 所在地区地址选择器需要[开通地图服务](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/map-config-agc#section16133115441516)。
- 需要[配置签名和指纹](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/account-sign-fingerprints)。

## 效果图

地址表单中的所在地区能根据详细地址内容自动补全，当补全内容不符合预期时，可通过地址选择器进行修改。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163729.71309683768335396586025121535511:50001231000000:2800:AE3644ED295535B554CC17D7D9256E7952FED4FAE78E50E7532FF94A958EC041.png "点击放大")

## 示例代码

1. import { util } from '@kit.ArkTS';
2. import { i18n } from '@kit.LocalizationKit';
3. import { sceneMap, site } from '@kit.MapKit';
4. import { hilog } from '@kit.PerformanceAnalysisKit';
5. import { BusinessError } from '@kit.BasicServicesKit';
6. import { geoLocationManager } from '@kit.LocationKit';
7. import { abilityAccessCtrl, autoFillManager, common, PermissionRequestResult, Permissions } from '@kit.AbilityKit';
8. import { FunctionalInput, functionalInputComponentManager } from '@kit.ScenarioFusionKit';
9. import { TextInputModifier } from '@kit.ArkUI';

10. const AUTHED = 0;
11. const TIME_OUT = 100;
12. // 默认经度和纬度。以下以北京天安门的经纬度为例。 
13. const INIT_LAT = 39.5;
14. const INIT_LON = 116.2;
15. const ENGLISH = 'en';
16. const SIMPLIFIED_CHINESE = 'zh_CN';
17. const PERMISSIONS: Array<Permissions> = ['ohos.permission.APPROXIMATELY_LOCATION'];
18. const ADMINISTRATIVE_REGION: Array<string> =
19.   ['countryName', 'adminLevel1', 'adminLevel2', 'adminLevel3', 'adminLevel4'];

20. interface PersonInfo {
21.   name?: string;
22.   phone?: string;
23.   email?: string;
24.   idCard?: string;
25.   region?: string;
26.   streetAddress?: string;
27. }

28. interface RequestParam {
29.   requestTag: string;
30.   requestText: string;
31. }

32. interface Location {
33.   latitude: number;
34.   longitude: number;
35. }

36. // 显示授权弹出窗口。
37. async function reqPermissionsFromUser(permissions: Array<Permissions>,
38.   context: common.UIAbilityContext): Promise<PermissionRequestResult> {
39.   let atManager: abilityAccessCtrl.AtManager = abilityAccessCtrl.createAtManager();
40.   return await atManager.requestPermissionsFromUser(context, permissions);
41. }

42. // 节流函数。
43. function debounce(func: () => void, wait: number = TIME_OUT): Function {
44.   let timeout: number | null = null;
45.   return () => {
46.     timeout && clearTimeout(timeout);
47.     timeout = setTimeout(() => {
48.       func();
49.       clearTimeout(timeout);
50.     }, wait);
51.   };
52. }

53. @Extend(Text)
54. function textStyle() {
55.   .width(64)
56.   .textAlign(TextAlign.End)
57. }

58. @Entry
59. @Component
60. struct Index {
61.   @State personInfo: PersonInfo = {};
62.   @State isClicked: boolean = false;
63.   // 用户是否已触发信息输入。
64.   private isUserInput: boolean = false;
65.   private location: Location = {
66.     latitude: INIT_LAT,
67.     longitude: INIT_LON,
68.   };
69.   private currentRequestTag: string = '';
70.   private handleAddressChange = (request: RequestParam) => {
71.     return debounce(async () => {
72.       this.autoCompleteAddress(request);
73.     });
74.   };

75.   aboutToAppear() {
76.     reqPermissionsFromUser(PERMISSIONS, this.getUIContext().getHostContext() as common.UIAbilityContext)
77.       .then((permissionRequestResult: PermissionRequestResult) => {
78.         if (permissionRequestResult.authResults[0] === AUTHED) {
79.           // 获取位置信息的API只能在授权的情况下被调用。
80.           geoLocationManager.getCurrentLocation((err, location: geoLocationManager.Location) => {
81.             if (err) {
82.               hilog.error(0x0000, 'testTag', `Failed to get location, code: ${err?.code}, message: ${err?.message}`);
83.               return;
84.             }
85.             hilog.info(0x0000, 'testTag', `Succeeded in obtaining the current location of the user`);
86.             this.location.latitude = location.latitude;
87.             this.location.longitude = location.longitude;
88.           })
89.         }
90.       })
91.       .catch((err: BusinessError) => {
92.         hilog.error(0x0000, 'testTag', `Failed request permissions, code: ${err?.code}, message: ${err?.message}`);
93.       })
94.   }

95.   public isUsLanguage(): boolean {
96.     let result: string = '';
97.     try {
98.       result = i18n.System.getSystemLanguage();
99.     } catch (error) {
100.       hilog.error(0x0000, 'testTag', 'Failed to get system language');
101.     }
102.     return result.toLowerCase() === 'en-latn-us';
103.   }

104.   async autoCompleteAddress(request: RequestParam): Promise<void> {
105.     try {
106.       let params: site.SearchByTextParams = {
107.         query: request.requestText,
108.         // 搜索结果需要偏向的经纬度。
109.         location: {
110.           latitude: this.location.latitude,
111.           longitude: this.location.longitude
112.         },
113.         language: this.isUsLanguage() ? ENGLISH : SIMPLIFIED_CHINESE,
114.         isChildren: true
115.       };
116.       const result = await site.searchByText(params);
117.       if (result.sites) {
118.         let region: string = '';
119.         let addressComponent = result.sites[0].addressComponent;
120.         // 遍历当前地址的行政区划层级。
121.         for (let item of ADMINISTRATIVE_REGION) {
122.           if (addressComponent[item] === undefined) {
123.             break;
124.           }
125.           region += addressComponent[item];
126.         }
127.         // 防止可能导致结果不一致的重复搜索。
128.         if (request.requestTag === this.currentRequestTag) {
129.           this.personInfo.region = region;
130.         }
131.       }
132.     } catch (error) {
133.       hilog.error(0x0000, 'testTag', `Failed to search location, code: ${error.code}, message: ${error.message}`);
134.     }
135.     hilog.info(0x0000, 'testTag', 'Succeeded in searching location');
136.   }

137.   onRegionClick(): void {
138.     // 用户选择行政区域后，仅显示该区域的搜索结果，以防止查询时间过长。
139.     this.currentRequestTag = util.generateRandomUUID();
140.     let districtSelectOptions: sceneMap.DistrictSelectOptions = {
141.       countryCode: 'CN',
142.     };
143.     sceneMap.selectDistrict(this.getUIContext().getHostContext(), districtSelectOptions).then((data) => {
144.       hilog.info(0x0000, 'testTag', 'SelectDistrict', 'Succeeded  in selecting district.');
145.       let region = '';
146.       for (let i = 0; i < data?.districts?.length; i++) {
147.         region += data.districts[i].name;
148.       }
149.       this.personInfo.region = region;
150.     }).catch((err: BusinessError) => {
151.       hilog.error(0x0000, 'testTag', `Failed to select district, code: ${err.code}, message: ${err.message}`);
152.     });
153.   }

154.   searchRegionByAddress(val: string): void {
155.     let tag: string = util.generateRandomUUID();
156.     this.currentRequestTag = tag;
157.     let param: RequestParam = {
158.       requestTag: tag,
159.       requestText: val
160.     }
161.     // 用户输入的场景需要加做抖动处理, 智能填充回填场景直接查询即可。
162.     if (this.personInfo.region && this.personInfo.region !== '') {
163.       return;
164.     }
165.     if (this.isUserInput) {
166.       this.handleAddressChange(param)();
167.     } else {
168.       this.autoCompleteAddress(param);
169.     }
170.   }

171.   build() {
172.     Column({ space: 8 }) {
173.       Row({ space: 8 }) {
174.         Text('姓名').textStyle()
175.         TextInput({ text: this.personInfo.name, placeholder: '姓名' })
176.           .layoutWeight(1)
177.           .contentType(ContentType.PERSON_FULL_NAME)
178.           .onChange((val: string) => {
179.             this.personInfo.name = val;
180.           })
181.       }

182.       Row({ space: 8 }) {
183.         Text('联系电话').textStyle()
184.         TextInput({ text: this.personInfo.phone, placeholder: '手机号码' })
185.           .layoutWeight(1)
186.           .contentType(ContentType.PHONE_NUMBER)
187.           .onChange((val: string) => {
188.             this.personInfo.phone = val;
189.           })
190.       }

191.       Row({ space: 8 }) {
192.         Text('身份证号').textStyle()
193.         TextInput({ text: this.personInfo.idCard, placeholder: '身份证信息' })
194.           .layoutWeight(1)
195.           .contentType(ContentType.ID_CARD_NUMBER)
196.           .onChange((val: string) => {
197.             this.personInfo.idCard = val;
198.           })
199.       }

200.       Row({ space: 8 }) {
201.         Text('邮件地址').textStyle()
202.         TextInput({ text: this.personInfo.email, placeholder: '电子邮件信息' })
203.           .layoutWeight(1)
204.           .contentType(ContentType.EMAIL_ADDRESS)
205.           .onChange((val: string) => {
206.             this.personInfo.email = val;
207.           })
208.       }

209.       Row({ space: 8 }) {
210.         Text('所在地区').textStyle()
211.         FunctionalInput({
212.           params: {
213.             // InputType.SELECT_DISTRICT表示输入类型为省/市/区选择器类型。
214.             inputType: functionalInputComponentManager.InputType.SELECT_DISTRICT,
215.             textInputValue: {
216.               text: this.personInfo.region,
217.               placeholder: '省、市、区、街道地址',
218.             },
219.             // 调整TextInput样式。
220.             inputAttributeModifier: new TextInputModifier()
221.               .backgroundColor(Color.Transparent)
222.               .onChange((value) => {
223.                 if (value !== this.personInfo.region) {
224.                   this.personInfo.region = value;
225.                 }
226.               })
227.           },
228.           // 当InputType为SELECT_DISTRICT时，回调必须为onSelectDistrict。
229.           controller: new functionalInputComponentManager.FunctionalInputController().onSelectDistrict((err,
230.             data: functionalInputComponentManager.DistrictSelectResult) => {
231.             if (err) {
232.               // 错误日志处理。
233.               hilog.error(0x0000, "testTag", "error: %{public}d %{public}s", err.code, err.message);
234.               return;
235.             }
236.             // 成功日志处理。
237.             hilog.info(0x0000, "testTag", "succeeded in selecting district");
238.             this.personInfo.region = data.inputContent;
239.           })
240.         })
241.       }

242.       Row({ space: 8 }) {
243.         Text('详细地址').textStyle()
244.         TextInput({ text: this.personInfo.streetAddress, placeholder: '小区门牌信息' })
245.           .layoutWeight(1)
246.           .contentType(ContentType.DETAIL_INFO_WITHOUT_STREET)
247.           .onDidInsert(() => {
248.             // 当用户通过输入方法输入数据时触发。
249.             this.isUserInput = true;
250.           })
251.           .onDidDelete((val: DeleteValue) => {
252.             // 当用户通过输入方法删除数据时触发。
253.             if (val?.deleteValue?.length > 0) {
254.               this.isUserInput = true;
255.             }
256.           })
257.           .onChange((val: string) => {
258.             this.personInfo.streetAddress = val;
259.             if (val && val.trim().length > 0) {
260.               this.searchRegionByAddress(val);
261.             } else {
262.               this.currentRequestTag = util.generateRandomUUID();
263.               this.personInfo.region = '';
264.             }
265.             this.isUserInput = false;
266.           })
267.       }

268.       Button('保存')
269.         .width('50%')
270.         .onClick(() => {
271.           if (!this.isClicked) {
272.             this.isClicked = true;
273.             autoFillManager.requestAutoSave(this.getUIContext(), {
274.               onSuccess: () => {
275.                 hilog.info(0x0000, 'testTag', 'Succeeded in saving request');
276.               },
277.               onFailure: () => {
278.                 hilog.info(0x0000, 'testTag', 'Failed to save request');
279.               }
280.             });
281.             setTimeout(() => {
282.               this.isClicked = false;
283.             }, 2000);
284.           }
285.         })
286.     }
287.     .padding({ left: 16, right: 16 })
288.     .backgroundColor($r('sys.color.ohos_id_color_list_card_bg'))
289.     .alignItems(HorizontalAlign.Center)
290.     .height('100%')
291.     .width('100%')
292.   }
293. }

说明

该示例中，使用了场景化Input作为所在地区的地址选择器，智能填充支持对该地址选择器进行填充。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-amend "动态修改ContentType值")
# 推荐车牌号场景

更新时间: 2025-12-16 16:37

从5.1.0(18)开始，支持智能填充的推荐车牌号场景。

在填写车牌号表单场景时，智能填充可从用户的历史表单输入中提供输入建议，开发者可以参考如下代码进行开发。

注意

只推荐机主本人历史表单信息的车牌号信息（与登录设备的账号信息，实名姓名+手机号或邮箱信息相同）。

## 效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163734.35033431237395906537321382311119:50001231000000:2800:1B3CCFE49909E6C5F6B9CCC71906526D5465F1BDCF1FB5B749DA6F7250A76F2E.png "点击放大")

## 示例代码

1. import { display } from '@kit.ArkUI';

2. const NEW_ENERGY_TEXT = '新能源';

3. @Extend(Text)
4. function extendStyles(value: string, width: number, height: number, active: boolean) {
5.   .fontSize(value === NEW_ENERGY_TEXT ? 10 : 18)
6.   .fontWeight(FontWeight.Medium)
7.   .textAlign(TextAlign.Center)
8.   .width(width)
9.   .height(height)
10.   .borderWidth('3px')
11.   .borderColor(active ? Color.Blue : '#ccc')
12.   .borderRadius(5)
13. }

14. @Entry
15. @Component
16. struct LicensePlate {
17.   // 车牌号输入框的数量。
18.   private length = 8;
19.   private licenseItemId = '_license_item';
20.   @State licensePlateVal: string[] = [];
21.   @State activeIndex: number = -1;
22.   @State itemWidth: number = 30;
23.   @State itemHeight: number = 30;
24.   @State inputText: string = '';
25.   // 用户是否已经触发输入。
26.   @State isUserInput: boolean = false;
27.   // 匹配历史输入的上一个输入框的值
28.   private beforeValue: string = '';

29.   aboutToAppear(): void {
30.     this.licensePlateVal = new Array(this.length).fill('');
31.     let displayClass = display.getDefaultDisplaySync();
32.     let width = displayClass.width;
33.     // 每个框的宽度根据屏幕宽度计算。
34.     this.itemWidth = this.getUIContext().px2vp(width) / (this.length + 1) - 4;
35.     this.itemHeight = this.itemWidth * 1.2;
36.   }

37.   setValue(val: string): void {
38.     if (!this.isUserInput) {
39.       // 根据智能填充填写车牌号输入框。
40.       this.handleAutoFill(val);
41.       this.beforeValue = val;
42.       return;
43.     }
44.     if (!val || val.length === 0 || this.beforeValue.length > val.length) {
45.       let licensePlate = this.getLicensePlate();
46.       if (licensePlate.length > 0) {
47.         this.inputText = licensePlate;
48.       }
49.       this.beforeValue = this.inputText;
50.       return;
51.     }
52.     let inputData = val.substring(this.beforeValue.length);
53.     if (inputData.length > this.length) {
54.       inputData = inputData.substring(0, this.length);
55.     }
56.     // 用户输入仅替换选定的输入框，而智能填充则替换所有输入框中的所有值。
57.     this.handleUserInput(inputData);
58.     this.beforeValue = val;
59.   }

60.   getLicensePlate(): string {
61.     return this.licensePlateVal.join('');
62.   }

63.   handleUserInput(val: string): void {
64.     if (val.length > this.length - this.activeIndex) {
65.       val = val.substring(0, this.length - this.activeIndex);
66.     }
67.     for (let i = 0; i < val.length; i++) {
68.       this.licensePlateVal[this.activeIndex] = val[i];
69.       this.activeIndex = Math.min(this.activeIndex + 1, this.length - 1);
70.     }
71.   }

72.   handleAutoFill(val: string): void {
73.     let value = val.split('');
74.     this.licensePlateVal.fill('');
75.     for (let i = 0; i < this.length; i++) {
76.       this.licensePlateVal[i] = i < value.length ? value[i] : this.licensePlateVal[i];
77.     }
78.     this.activeIndex = Math.min(value.length + 1, this.length - 1);
79.   }

80.   handleDelete() {
81.     if (!this.licensePlateVal[this.activeIndex]) {
82.       this.licensePlateVal[this.activeIndex - 1] = '';
83.     } else {
84.       this.licensePlateVal[this.activeIndex] = '';
85.     }
86.     this.activeIndex = Math.max(0, this.activeIndex - 1);
87.   }

88.   getValue(index: number): string {
89.     return (index === this.length - 1 && !this.licensePlateVal[index]) ? NEW_ENERGY_TEXT : this.licensePlateVal[index];
90.   }

91.   handleLicenseClick(screenX: number) {
92.     for(let index = 0; index <= 7; index++) {
93.       let id = index + this.licenseItemId;
94.       let position = this.getUIContext().getComponentUtils().getRectangleById(id);
95.       // 相对于屏幕的位置信息,单位px
96.       let left = position?.screenOffset?.x ?? 0;
97.       let right = left + (position?.size?.width ?? 0);
98.       if (screenX >= left && screenX <= right) {
99.         this.activeIndex = index;
100.       }
101.     }
102.   }

103.   @Builder
104.   displayItem(index: number) {
105.     Column() {
106.       Text(this.getValue(index))
107.         .extendStyles(this.getValue(index), this.itemWidth, this.itemHeight, this.activeIndex === index)
108.     }
109.     .id(index + this.licenseItemId)
110.     .padding({
111.       left: 2,
112.       right: 2
113.     })
114.   }

115.   @Builder
116.   buildLicensePlateNumber() {
117.     Flex({
118.       direction: FlexDirection.Row,
119.       alignItems: ItemAlign.Center,
120.       justifyContent: FlexAlign.SpaceBetween
121.     }) {
122.       Column() {
123.         Row() {
124.           Text("车牌号码")
125.         }.height(30)

126.         Stack({ alignContent: Alignment.BottomStart }) {
127.           Row() {
128.             this.displayItem(0)
129.             this.displayItem(1)
130.             Text('·')
131.               .fontSize(22)
132.               .fontWeight(600)
133.               .height(this.itemHeight)
134.             this.displayItem(2)
135.             this.displayItem(3)
136.             this.displayItem(4)
137.             this.displayItem(5)
138.             this.displayItem(6)
139.             this.displayItem(7)
140.           }

141.           TextInput({ text: $$this.inputText })
142.             .width('100%')
143.             .height('100%')
144.             .opacity(0)
145.             .contentType(ContentType.LICENSE_PLATE)
146.             .onClick((event) => {
147.               // 相对于屏幕的X轴坐标,单位px
148.               let displayX = this.getUIContext().vp2px(event.displayX);
149.               this.handleLicenseClick(displayX);
150.               if (this.activeIndex < 0) {
151.                 this.activeIndex = 0;
152.               }
153.             })
154.             .onChange((val: string) => {
155.               if (val === this.beforeValue) {
156.                 return;
157.               }
158.               this.setValue(val);
159.               this.isUserInput = false;
160.             })
161.             .onDidInsert(() => {
162.               // 当使用输入法输入数据时触发。如果输入法是自定义的，则在用户输入数据时将isUserInput设置为true。
163.               this.isUserInput = true;
164.             })
165.             .onDidDelete((val: DeleteValue) => {
166.               // 当使用输入方法删除数据时触发。如果输入方法是自定义的，当用户删除数据时，将`isUserInput`设置为`true`，并调用相应的处理函数。
167.               if (val?.deleteValue?.length > 0) {
168.                 this.isUserInput = true;
169.               }
170.               this.handleDelete();
171.             })
172.         }
173.         .height(this.itemHeight)
174.         .margin({ top: 20 })
175.       }
176.     }
177.     .backgroundColor(Color.White)
178.     .height(50)
179.     .margin({ left: 15, right: 15 })
180.     .id("customInput")
181.     .defaultFocus(false)
182.   }

183.   build() {
184.     Column() {
185.       this.buildLicensePlateNumber()
186.     }
187.   }
188. }

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-autocomplete "自动补全地址表单所在地区")
# 推荐数据源及推荐逻辑说明

更新时间: 2025-12-16 16:37

智能填充将从华为账号、剪贴板、最近日程、联系人和历史表单输入获取数据，以提供填充建议。

|名称|说明|
|:--|:--|
|数据源推荐优先级|多输入框场景数据源推荐优先级：剪贴板>历史表单输入>华为账号>联系人。|
|单输入框场景数据源推荐优先级：剪贴板>日程>华为账号。|

说明

上述优先级为默认推荐排序。智能填充在匹配推荐时会根据数据匹配度从高到低进行排序（剪贴板数据源优先级始终是最高的）。

## 填充数据源推荐方式说明

|数据源|是否主动推荐|是否匹配推荐|
|:--|:--|:--|
|华为账号|是|是|
|联系人|否|是|
|日程|是|否|
|剪贴板|是|是|
|历史表单输入|否（车牌号/护照场景支持主动推荐）|是|

说明

剪贴板数据源推荐场景目前仅支持中文姓名和中文地址。

### 主动推荐与匹配推荐区别

|名称|说明|
|:--|:--|
|主动推荐|1. 点击输入组件时，智能填充将主动提供填充建议。<br>2. 最多展示2条推荐数据。|
|匹配推荐|1. 根据输入组件中已经输入的字符进行数据源匹配，智能填充将匹配到的数据提供填充建议。<br>2. 最多展示3条推荐数据。|

## 部分场景数据推荐来源说明

|名称|说明|
|:--|:--|
|地址单输入框场景|只推荐来自剪贴板和日程的地点信息。|
|昵称单输入框场景|只推荐华为账号的昵称。|
|车牌号单输入框场景|只推荐机主本人历史表单信息的车牌号信息（机主本人信息与登录设备的账号信息，实名姓名+手机号或邮箱信息相同，判断账号实名需要打开华为账号数据源开关），仅支持主动推荐。|
|身份证号推荐逻辑|若设备未设置锁屏密码，不会推荐来自华为账号和历史表单输入的身份证信息。当用户主动复制的情况下，仍可推荐来自剪贴板的身份证信息。|
|护照信息推荐逻辑|当前仅支持中文姓名及拼音姓加名的推荐；若设备无锁屏密码或华为账号未登录/未实名，则不推荐填充；主动推荐限于机主本人信息（机主本人信息与登录账号实名姓名一致，判断账号实名需要打开华为账号数据源开关）；而匹配推荐则支持拼音姓加名的推荐。|
|设备登录不同类型的华为账号场景|设备登录国内成人账号时，支持剪贴板、日程、联系人、华为账号、历史表单输入数据源；其他情况只支持剪贴板、日程和联系人数据源。|

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-licenseplateno "推荐车牌号场景")
# ContentType使用场景说明

更新时间: 2025-12-16 16:37

华为账号昵称

|名称|说明|
|:--|:--|
|NICKNAME|昵称，如“Vivian”。|

用户姓名

|名称|说明|
|:--|:--|
|PERSON_FULL_NAME|姓名，如“张三”。|
|PERSON_LAST_NAME|姓氏，如“张”。|
|PERSON_FIRST_NAME|名字，如“三”。|

说明

PERSON_FULL_NAME和（PERSON_LAST_NAME，PERSON_FIRST_NAME）不能同时在同一个表单中使用（在护照信息场景中可以同时使用）。

联系方式

|名称|说明|
|:--|:--|
|PHONE_NUMBER|手机号，如“188******88”。|
|EMAIL_ADDRESS|邮箱地址，如“a****t@huawei.com”。|

身份信息

|名称|说明|
|:--|:--|
|ID_CARD_NUMBER|身份证号，如“3201***********123”。|

说明

ID_CARD_NUMBER目前只支持身份证号的推荐、填充，不支持其他类型的证件，可参考[动态修改ContentType值](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-amend)动态配置输入框的ContentType。

护照信息

|名称|说明|
|:--|:--|
|COUNTRY_ADDRESS|国籍，如“中国”。|
|PASSPORT_NUMBER|护照号，如“G*******1”。|
|VALIDITY|有效期至，如“2025-1-1”。|
|ISSUE_AT|签发地，如“广东”。|

车牌信息

|名称|说明|
|:--|:--|
|LICENSE_PLATE|车牌号，如“粤A*****1”。|

地址信息

|名称|说明|
|:--|:--|
|FULL_STREET_ADDRESS|带街道详细地址，如“雨花街道玉兰路98号”。|
|FORMAT_ADDRESS|全量地址，如“中国江苏省南京市雨花台区雨花街道玉兰路98号”。|
|DETAIL_INFO_WITHOUT_STREET|不带街道详细地址，如“玉兰路98号”。|
|ADDRESS_CITY_AND_STATE|所在地区，如“中国广东省深圳市龙岗区”。|

发票抬头信息

|名称|说明|
|:--|:--|
|ORGANIZATION|名称，如“深圳市xx公司”。|
|TAX_ID|税号，如“2020***********000”。|

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-intelligentfilling-explain "推荐数据源及推荐逻辑说明")
# H5接入智能填充

更新时间: 2025-12-16 16:37

本章节介绍在ArkWeb的Web组件加载H5文件如何实现智能填充功能。

## 前提条件

- 设备智能填充开关必须处于打开状态，请前往“设置 > 隐私和安全 > 智能填充”页面开启开关。
- 设备已连接互联网并且登录华为账号。
- 该应用需已接入[智能填充服务](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill#section1167564853816)。

## 效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163754.57322221039255145326348871952015:50001231000000:2800:97B5ED5EE31DC8DF9E3E569B0BDCC7DD5C64D4FFE65F79D3E9DA9BD6F08EE4D9.png "点击放大")

## 示例代码

- 通过ArkWeb的[Web组件](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/arkts-basic-components-web)加载H5文件。

1. import { webview } from '@kit.ArkWeb';

2. @Entry
3. @Component
4. struct Index {
5.   controller: webview.WebviewController = new webview.WebviewController();
6.   build() {
7.     Column() {
8.       // 在组件创建过程中加载HTML5文件。
9.       Web({ src: $rawfile("autofill_h5.html"), controller: this.controller })
10.     }
11.   }
12. }

- autofill_h5.html如下所示。其中通过给form表单的input输入框（form表单的子节点）配置[autocomplete](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-mappingrelationship#section4813203065916)属性来支持智能填充，action需要配置表单提交接口链接，当form表单提交后，页面导航发生变化时，满足历史表单输入保存的条件时会触发对应弹窗。参考下面示例：

1. <!DOCTYPE html>
2. <html>
3. <head>
4.     <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;" name="viewport"/>
5.     <title>智能填充H5测试</title>
6. </head>
7. <body>
8. <h4>智能填充H5测试</h4>
9. <!--The link of the form submission interface must be configured for the value of the action tag.-->
10. <form method="POST" action="">
11.     <label for="nickname" style="width: 90px; display: inline-block; text-align: end;">昵称:</label>
12.     <!--Smart fill is supported by configuring the autocomplete attribute.-->
13.     <input type="text" id="nickname" autocomplete="nickname"/><br/><br/>
14.     <label for="name" style="width: 90px; display: inline-block; text-align: end;">姓名:</label>
15.     <input type="text" id="name" autocomplete="name"/><br/><br/>
16.     <label for="tel-national" style="width: 90px; display: inline-block; text-align: end;">手机号:</label>
17.     <input type="number" id="tel-national" autocomplete="tel-national"/><br/><br/>
18.     <label for="email" style="width: 90px; display: inline-block; text-align: end;">邮箱:</label>
19.     <input type="text" id="email" autocomplete="email"/><br/><br/>
20.     <label for="id-card-number" style="width: 90px; display: inline-block; text-align: end;">身份证号:</label>
21.     <input type="number" id="id-card-number" autocomplete="id-card-number"/><br/><br/>
22.     <label for="street-address" style="width: 90px; display: inline-block; text-align: end;">带街道地址:</label>
23.     <input type="text" id="street-address" autocomplete="street-address"/><br/><br/>
24.     <div align="center">
25.         <button type="submit" style="width: 80px">提交</button>
26.     </div>
27. </form>
28. </body>
29. </html>

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-tripartiteframework "三方框架+H5接入智能填充")
# Flutter框架+H5接入智能填充

更新时间: 2025-12-16 16:38

注意

目前仅支持已适配HarmonyOS的三方框架应用使用。

HarmonyOS版Flutter环境搭建请参考官方文档[Flutter环境搭建指导](https://gitcode.com/openharmony-tpc/flutter_samples/blob/br_3.7.12-ohos-1.1.0/ohos/docs/03_environment/openHarmony-flutter%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%AF%BC.md)。

## 前提条件

- 设备智能填充开关必须处于打开状态，请前往“设置 > 隐私和安全 > 智能填充”页面开启开关。
- 设备已连接互联网并且登录华为账号。
- 该应用需已接入[智能填充服务](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill#section1167564853816)。

## 开发准备

配置Flutter已适配HarmonyOS的开发环境。

## 效果图与示例代码

请参考[H5接入智能填充效果图](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-h5#section37300202917)。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-reactnative "React Native框架+H5接入智能填充")
# Flutter框架+H5接入智能填充

更新时间: 2025-12-16 16:38

注意

目前仅支持已适配HarmonyOS的三方框架应用使用。

HarmonyOS版Flutter环境搭建请参考官方文档[Flutter环境搭建指导](https://gitcode.com/openharmony-tpc/flutter_samples/blob/br_3.7.12-ohos-1.1.0/ohos/docs/03_environment/openHarmony-flutter%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E6%8C%87%E5%AF%BC.md)。

## 前提条件

- 设备智能填充开关必须处于打开状态，请前往“设置 > 隐私和安全 > 智能填充”页面开启开关。
- 设备已连接互联网并且登录华为账号。
- 该应用需已接入[智能填充服务](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill#section1167564853816)。

## 开发准备

配置Flutter已适配HarmonyOS的开发环境。

## 效果图与示例代码

请参考[H5接入智能填充效果图](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-h5#section37300202917)。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-reactnative "React Native框架+H5接入智能填充")
# Taro框架+H5接入智能填充

更新时间: 2025-12-16 16:38

注意

目前仅支持已适配HarmonyOS的三方框架应用使用。

Taro及HarmonyOS版工程的搭建请参考官方文档[Harmony Hybrid | Taro 文档](https://docs.taro.zone/docs/harmony-hybrid/)。

## 前提条件

- 基于Web开发HarmonyOS应用。
- 设备智能填充开关必须处于打开状态，请前往“设置 > 隐私和安全 > 智能填充”页面开启开关。
- 设备已连接互联网并且登录华为账号。
- 该应用需已接入[智能填充服务](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-introduction-to-smart-fill#section1167564853816)。

## 开发准备

配置Taro已适配HarmonyOS的开发环境。

## 效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163808.60541637992998234578560622998246:50001231000000:2800:DADDB64933D421A13608DF093EDDCB1ED3B28B04B45AF937CB57AB42F209107F.png "点击放大")

## 示例代码

示例代码仅展示接入智能填充相关部分，请按照实际场景修改后使用。在Taro的Input组件（Form表单的子节点）中添加nativeProps属性，并配置nativeProps中[autocomplete](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-mappingrelationship#section4813203065916)属性来支持智能填充，Form表单提交后，当页面导航发生变化时，满足历史表单输入保存的条件时会触发对应弹窗（建议使用HTML <button> 标签进行Form表单提交）。代码如下：

1. import { View, Text, Input, Form } from "@tarojs/components";
2. import Taro, { useLoad } from "@tarojs/taro";
3. import "./index.scss";

4. export default function Demo() {
5.   useLoad(() => {
6.     console.log("Page loaded.");
7.   });
8.   function handleSubmit(e) {
9.     Taro.request({
10.       // 将URL设置为实际的接口路径。
11.       url: "",
12.       method: "POST",
13.     });
14.   }
15.   return (
16.     <Form onSubmit={handleSubmit}>
17.       <View className="native-form">
18.         <View className="form-item">
19.           <Text className="col-md-4">昵称：</Text>
20.           <View className="col-md-6">
21.             <Input
22.               className="form-value"
23.               name="nickname"
24.               type="text"
25.               nativeProps={{ autocomplete: "nickname" }}
26.             ></Input>
27.           </View>
28.         </View>
29.         <View className="form-item">
30.           <Text className="col-md-4">姓名：</Text>
31.           <View className="col-md-6">
32.             <Input
33.               className="form-value"
34.               name="name"
35.               type="text"
36.               nativeProps={{ autocomplete: "name" }}
37.             ></Input>
38.           </View>
39.         </View>
40.         <View className="form-item">
41.           <Text className="col-md-4">手机号：</Text>
42.           <View className="col-md-6">
43.             <Input
44.               className="form-value"
45.               name="tel"
46.               type="text"
47.               nativeProps={{ autocomplete: "tel-national" }}
48.             ></Input>
49.           </View>
50.         </View>
51.         <View className="form-item">
52.           <Text className="col-md-4">邮箱：</Text>
53.           <View className="col-md-6">
54.             <Input
55.               className="form-value"
56.               name="email"
57.               type="text"
58.               nativeProps={{ autocomplete: "email" }}
59.             ></Input>
60.           </View>
61.         </View>
62.         <View className="form-item">
63.           <Text className="col-md-4">身份证：</Text>
64.           <View className="col-md-6">
65.             <Input
66.               className="form-value"
67.               name="idcard"
68.               type="text"
69.               nativeProps={{ autocomplete: "id-card-number" }}
70.             ></Input>
71.           </View>
72.         </View>
73.         <View className="form-item">
74.           <Text className="col-md-4">带街道地址：</Text>
75.           <View className="col-md-6">
76.             <Input
77.               className="form-value"
78.               name="street-address"
79.               type="text"
80.               nativeProps={{ autocomplete: "street-address" }}
81.             ></Input>
82.           </View>
83.         </View>
84.       </View>
85.       <View className="button">
86.         <button className="button"> 提交</button>
87.       </View>
88.     </Form>
89.   );
90. }

index.scss如下：

1. .form-item {
2.   display: flex;
3.   flex-wrap: wrap;
4.   flex-direction: row;
5.   align-items: center;
6.   justify-content: flex-start;
7.   margin-top: 20px;
8.   .col-md-4 {
9.     width: 30%;
10.     text-align: right;
11.     font-size: 32px;
12.   }
13.   .col-md-6 {
14.     width: 50%;
15.     .form-value {
16.       width: 100%;
17.       border-style: solid;
18.       border-width: 1px;
19.       border-color: #333333;
20.       font-size: 32px;
21.     }
22.   }
23. }
24. .button {
25.   width: 15%;
26.   background-color: #4caf50;
27.   border: none;
28.   color: white;
29.   padding: 16px 32px;
30.   text-align: center;
31.   text-decoration: none;
32.   display: inline-block;
33.   font-size: 24px;
34.   margin-left: 30%;
35.   margin-top: 20px;
36. }

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-flutter "Flutter框架+H5接入智能填充")
# H5/三方框架和HarmonyOS配置项映射关系

更新时间: 2025-12-16 16:38

## H5 autocomplete和HarmonyOS的ContentType的映射关系

|输入场景|【H5】autocomplete|【ArkUI】ContentType|说明|
|:--|:--|:--|:--|
|昵称|nickname|NICKNAME|昵称，如“Vivian”。|
|姓名|name|PERSON_FULL_NAME|姓名，如“张三”。|
|姓氏|family-name|PERSON_LAST_NAME|姓氏，如“张”。|
|名字|given-name|PERSON_FIRST_NAME|名字，如“三”。|
|手机号|tel-national|PHONE_NUMBER|手机号，如“188******88”。|
|邮件地址|email|EMAIL_ADDRESS|邮箱地址，如“a****t@huawei.com”。|
|身份证号|id-card-number|ID_CARD_NUMBER|身份证号，如“3201***********123”。|
|地址|street-address|FULL_STREET_ADDRESS|带街道详细地址，如“雨花街道玉兰路98号”。|
|国籍|country|COUNTRY_ADDRESS|国籍，如“中国”。|
|护照号|passport-number|PASSPORT_NUMBER|护照号，如“G*******1”。|
|有效期至|validity|VALIDITY|有效期至，如“2025-1-1”。|
|签发地|issue-at|ISSUE_AT|签发地，如“广东”。|
|车牌号|license-plate|LICENSE_PLATE|车牌号，如“粤A*****1”。|
|名称|organization|ORGANIZATION|名称，如“深圳市xx公司”。|
|税号|tax-id|TAX_ID|税号，如“2020***********000”。|

说明

autocomplete配置项name和（family-name，given-name）不能同时在同一个表单中使用（在护照信息场景中可以同时使用）。

## React Native textContentType和HarmonyOS的ContentType的映射关系

|输入场景|【React Native】textContentType|【ArkUI】ContentType|说明|
|:--|:--|:--|:--|
|昵称|nickname|NICKNAME|昵称，如“Vivian”。|
|姓名|name|PERSON_FULL_NAME|姓名，如“张三”。|
|姓氏|familyName|PERSON_LAST_NAME|姓氏，如“张”。|
|名字|givenName|PERSON_FIRST_NAME|名字，如“三”。|
|手机号|telephoneNumber|PHONE_NUMBER|手机号，如“188******88”。|
|邮件地址|emailAddress|EMAIL_ADDRESS|邮箱地址，如“a****t@huawei.com”。|
|身份证号|idCardNumber|ID_CARD_NUMBER|身份证号，如“3201***********123”。|
|全量地址|formatAddress|FORMAT_ADDRESS|全量地址，如“中国江苏省南京市雨花台区雨花街道玉兰路98号”。|
|街道详细地址|fullStreetAddress|FULL_STREET_ADDRESS|带街道详细地址，如“雨花街道玉兰路98号”。|
|详细地址|detailInfoWithoutStreet|DETAIL_INFO_WITHOUT_STREET|不带街道详细地址，如“玉兰路98号”。|
|国籍|countryName|COUNTRY_ADDRESS|国籍，如“中国”。|
|护照号|passportNumber|PASSPORT_NUMBER|护照号，如“G*******1”。|
|有效期至|validity|VALIDITY|有效期至，如“2025-1-1”。|
|签发地|issueAt|ISSUE_AT|签发地，如“广东”。|
|车牌号|licensePlate|LICENSE_PLATE|车牌号，如“粤A*****1”。|
|名称|organization|ORGANIZATION|名称，如“深圳市xx公司”。|
|税号|taxId|TAX_ID|税号，如“2020***********000”。|

说明

textContentType配置项name和（familyName，givenName）不能同时在同一个表单中使用（在护照信息场景中可以同时使用）。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/scenario-fusion-mpass "mPaas框架+H5接入智能填充")