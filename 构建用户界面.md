# 组件介绍

更新时间: 2025-12-16 16:39

组件（Component）是构建页面的核心，每个组件通过对数据和方法的简单封装，实现独立的可视、可交互功能单元。组件之间相互独立，随取随用，也可以在需求相同的地方重复使用。

开发者还可以通过组件间合理的搭配定义满足业务需求的新组件，减少开发量，自定义组件的开发方法请参见[自定义组件](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-custom-components)。

## 组件分类

根据组件的功能，可以分为以下六大类：

|组件类型|主要组件|
|:--|:--|
|容器组件|[badge](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-badge)、[dialog](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-dialog)、[div](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-div)、[form](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-form)、[list](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-list)、[list-item](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-list-item)、[list-item-group](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-list-item-group)、[panel](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-panel)、[popup](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-popup)、[refresh](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-refresh)、[stack](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-stack)、[stepper](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-stepper)、[stepper-item](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-stepper-item)、[swiper](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-swiper)、[tabs](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-tabs)、[tab-bar](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-tab-bar)、[tab-content](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-tab-content)|
|基础组件|[button](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-button)、[chart](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-chart)、[divider](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-divider)、[image](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-image)、[image-animator](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-image-animator)、[input](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-input)、[label](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-label)、[marquee](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-marquee)、[menu](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-menu)、[option](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-option)、[picker](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-picker)、[picker-view](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-picker-view)、[piece](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-piece)、[progress](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-progress)、[qrcode](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-qrcode)、[rating](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-rating)、[richtext](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-richtext)、[search](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-search)、[select](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-select)、[slider](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-slider)、[span](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-span)、[switch](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-switch)、[text](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-text)、[textarea](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-textarea)、[toolbar](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-toolbar)、[toolbar-item](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-toolbar-item)、[toggle](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-toggle)|
|媒体组件|[video](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-media-video)|
|画布组件|[canvas](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-canvas)|
|栅格组件|[grid-container](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-container)、[grid-row](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-row)、[grid-col](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-col)|
|svg组件|[svg](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg)、[rect](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-rect)、[circle](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-circle)、[ellipse](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-ellipse)、[path](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-path)、[line](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-line)、[polyline](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-polyline)、[polygon](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-polygon)、[text](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-text)、[tspan](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-tspan)、[textPath](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-textpath)、[animate](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-animate)、[animateMotion](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-animatemotion)、[animateTransform](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-svg-animatetransform)|

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui "构建用户界面")
# 布局说明

更新时间: 2025-12-16 16:40

设备的基准宽度为720px（px为逻辑像素，非物理像素），实际显示效果会根据实际屏幕宽度进行缩放。

其换算关系如下：

组件的width设为100px时，在宽度为720物理像素的屏幕上，实际显示为100物理像素；在宽度为1440物理像素的屏幕上，实际显示为200物理像素。

一个页面的基本元素包含标题区域、文本区域、图片区域等，每个基本元素内还可以包含多个子元素，开发者根据需求还可以添加按钮、开关、进度条等组件。在构建页面布局时，需要对每个基本元素思考以下几个问题：

- 该元素的尺寸和排列位置
    
- 是否有重叠的元素
    
- 是否需要设置对齐、内间距或者边界
    
- 是否包含子元素及其排列位置
    
- 是否需要容器组件及其类型
    

将页面中的元素分解之后再对每个基本元素按顺序实现，可以减少多层嵌套造成的视觉混乱和逻辑混乱，提高代码的可读性，方便对页面做后续的调整。以下图为例进行分解：

**图1** 页面布局分解

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.11632618706259830411912855437494:50001231000000:2800:1C21308EC2A8C80C7CF911ED957D25C323FCA70F03EEDA57EB77E4B1B18BB748.png)

**图2** 留言区布局分解

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.70408977866056539897156404680958:50001231000000:2800:825AE2C4F462B8A71932814A4A172EBCFF08F57B9D5B4BAF8661FEC946CBDAB3.png)
# 添加标题行和文本区域

更新时间: 2025-12-16 16:40

实现标题和文本区域最常用的是基础组件text。text组件用于展示文本，可以设置不同的属性和样式，文本内容需要写在标签内容区，完整属性和样式信息请参考[text](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-text)。在页面中插入标题和文本区域的示例如下：

1. <!-- xxx.hml -->
2. <div class="container">
3.   <text class="title-text">{{headTitle}}</text>
4.   <text class="paragraph-text">{{paragraphFirst}}</text>
5.   <text class="paragraph-text">{{paragraphSecond}}</text>
6. </div>

7. /* xxx.css */
8. .container {
9.   flex-direction: column;
10.   margin-top: 20px;
11.   margin-left: 30px;
12. }
13. .title-text {
14.   color: #1a1a1a;
15.   font-size: 50px;
16.   margin-top: 40px;
17.   margin-bottom: 20px;
18.   font-weight: 700;
19. }
20. .paragraph-text {
21.   width: 95%;
22.   color: #000000;
23.   font-size: 35px;
24.   line-height: 60px;
25. }

26. // xxx.js
27. export default {
28.   data: {
29.     headTitle: 'Capture the Beauty in Moment',
30.     paragraphFirst: 'Capture the beauty of light during the transition and fusion of ice and water. At the instant of movement and stillness, softness and rigidity, force and beauty, condensing moving moments.',
31.     paragraphSecond: 'Reflecting the purity of nature, the innovative design upgrades your visual entertainment and ergonomic comfort. Effortlessly capture what you see and let it speak for what you feel.',
32.   },
33. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164028.38875511613234125565032871156763:50001231000000:2800:7E8E7F653A5767799694301AAEAAE7532F1D9467B38BD8366053E2755CF397FD.png)

[布局说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-layout-intro "布局说明")
# 添加图片区域

更新时间: 2025-12-16 16:40

添加图片区域通常用[image](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-image)组件来实现，使用的方法和[text](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-text)组件类似。

图片资源建议放在js\default\common目录下，common目录需自行创建，详细的目录结构见[目录结构](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/js-framework-file#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84)。代码示例如下：

1. <!-- xxx.hml -->
2. <image class="img" src="{{middleImage}}"></image>

3. /* xxx.css */
4. .img {
5.   margin-top: 30px;
6.   margin-bottom: 30px;
7.   height: 385px;
8. }

9. // xxx.js
10. export default {
11.   data: {
12.     middleImage: '/common/ice.png',
13.   },
14. }

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-layout-text "添加标题行和文本区域")
# 添加留言区域

更新时间: 2025-12-16 16:40

留言框的功能为：用户输入留言后点击完成，留言区域即显示留言内容。用户点击右侧的删除按钮可删除当前留言内容并重新输入。

留言区域由div、text、input关联click事件实现。开发者可以使用input组件实现输入留言的部分，使用text组件实现留言完成部分，使用commentText的状态标记此时显示的组件（通过if属性控制）。在包含文本完成和删除的text组件中关联click事件，更新commentText状态和inputValue的内容。具体的实现示例如下：

1. <!-- xxx.hml -->
2. <div class="container">
3.   <text class="comment-title">Comment</text>
4.   <div if="{{!commentText}}">
5.     <input class="comment" value="{{inputValue}}" onchange="updateValue()"></input>
6.     <text class="comment-key" onclick="update" focusable="true">Done</text>
7.   </div>
8.   <div if="{{commentText}}">
9.     <text class="comment-text" focusable="true">{{inputValue}}</text>
10.     <text class="comment-key" onclick="update" focusable="true">Delete</text>
11.   </div>
12. </div>

13. /* xxx.css */
14. .container {
15.   margin-top: 24px;
16.   background-color: #ffffff;
17. }
18. .comment-title {
19.   font-size: 40px;
20.   color: #1a1a1a;
21.   font-weight: bold;
22.   margin-top: 40px;
23.   margin-bottom: 10px;
24. }
25. .comment {
26.   width: 550px;
27.   height: 100px;
28.   background-color: lightgrey;
29. }
30. .comment-key {
31.   width: 150px;
32.   height: 100px;
33.   margin-left: 20px;
34.   font-size: 32px;
35.   color: #1a1a1a;
36.   font-weight: bold;
37. }
38. .comment-key:focus {
39.   color: #007dff;
40. }
41. .comment-text {
42.   width: 550px;
43.   height: 100px;
44.   text-align: left;
45.   line-height: 35px;
46.   font-size: 30px;
47.   color: #000000;
48.   border-bottom-color: #bcbcbc;
49.   border-bottom-width: 0.5px;
50. }

51. // xxx.js
52. export default {
53.   data: {
54.     inputValue: '',
55.     commentText: false,
56.   },
57.   update() {
58.     this.commentText = !this.commentText;
59.   },
60.   updateValue(e) {
61.     this.inputValue = e.text;
62.   },
63. }

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-layout-image "添加图片区域")
# 添加容器

更新时间: 2025-12-16 16:40

要将页面的基本元素组装在一起，需要使用容器组件。在页面布局中常用到三种容器组件，分别是div、list和tabs。在页面结构相对简单时，可以直接用div作为容器，因为div作为单纯的布局容器，可以支持多种子组件，使用起来更为方便。

## List组件

当页面结构较为复杂时，如果使用div循环渲染，容易出现卡顿，因此推荐使用list组件代替div组件实现长列表布局，从而实现更加流畅的列表滚动体验。需要注意的是，list仅支持list-item作为子组件，具体的使用示例如下：

1. <!-- xxx.hml -->
2. <list class="list">
3.   <list-item type="listItem" for="{{textList}}">
4.     <text class="desc-text">{{$item.value}}</text>
5.   </list-item>
6. </list>

7. /* xxx.css */
8. .desc-text {
9.   width: 683.3px;
10.   font-size: 35.4px;
11. }

12. // xxx.js
13. export default {
14.   data: {
15.     textList:  [{value: 'JS FA'}],
16.   },
17. }

为避免示例代码过长，以上示例的list中只包含一个list-item，list-item中只有一个text组件。在实际应用中可以在list中加入多个list-item，同时list-item下可以包含多个其他子组件。

## Tabs组件

当页面经常需要动态加载时，推荐使用tabs组件。tabs组件支持change事件，在页签切换后触发。tabs组件仅支持一个tab-bar和一个tab-content。具体的使用示例如下：

1. <!-- xxx.hml -->
2. <tabs>
3.   <tab-bar>
4.     <text>Home</text>
5.     <text>Index</text>
6.     <text>Detail</text>
7.   </tab-bar>
8.   <tab-content>
9.     <image src="{{homeImage}}"></image>
10.     <image src="{{indexImage}}"></image>
11.     <image src="{{detailImage}}"></image>
12.   </tab-content>
13. </tabs>

14. // xxx.js
15. export default {
16.   data: {
17.     homeImage: '/common/home.png',
18.     indexImage: '/common/index.png',
19.     detailImage: '/common/detail.png',
20.   },
21. }

tab-content组件用来展示页签的内容区，高度默认充满tabs剩余空间。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-layout-comment "添加留言区域")
# 添加交互

更新时间: 2025-12-16 16:39

添加交互可以通过在组件上关联事件实现。本节将介绍如何用div、text、image组件关联click事件，构建一个如下图所示的点赞按钮。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163943.58831773830326662765158613994277:50001231000000:2800:D7EBA182261EB7DBCEB237756386A00DDA3DA10D9EAF65972924F7F9AE6D42CD.gif)

点赞按钮通过一个div组件关联click事件实现。div组件包含一个image组件和一个text组件：

- image组件用于显示未点赞和点赞的效果。click事件函数会交替更新点赞和未点赞图片的路径。
    
- text组件用于显示点赞数，点赞数会在click事件的函数中同步更新。
    

click事件作为一个函数定义在js文件中，可以更改isPressed的状态，从而更新显示的image组件。如果isPressed为真，则点赞数加1。该函数在hml文件中对应的div组件上生效，点赞按钮各子组件的样式设置在css文件当中。具体的实现示例如下：

1. <!-- xxx.hml -->
2. <!-- 点赞按钮 -->
3. <div>
4.   <div class="like" onclick="likeClick">
5.     <image class="like-img" src="{{likeImage}}" focusable="true"></image>
6.     <text class="like-num" focusable="true">{{total}}</text>
7.   </div>
8. </div>

9. /* xxx.css */
10. .like {
11.   width: 104px;
12.   height: 54px;
13.   border: 2px solid #bcbcbc;
14.   justify-content: space-between;
15.   align-items: center;
16.   margin-left: 72px;
17.   border-radius: 8px;
18. }
19. .like-img {
20.   width: 33px;
21.   height: 33px;
22.   margin-left: 14px;
23. }
24. .like-num {
25.   color: #bcbcbc;
26.   font-size: 20px;
27.   margin-right: 17px;
28. }

29. // xxx.js
30. export default {
31.   data: {
32.     likeImage: '/common/unLike.png',
33.     isPressed: false,
34.     total: 20,
35.   },
36.   likeClick() {
37.     var temp;
38.     if (!this.isPressed) {
39.       temp = this.total + 1;
40.       this.likeImage = '/common/like.png';
41.     } else {
42.       temp = this.total - 1;
43.       this.likeImage = '/common/unLike.png';
44.     }
45.     this.total = temp;
46.     this.isPressed = !this.isPressed;
47.   },
48. }

除此之外，还提供了很多表单组件，例如开关、标签、滑动选择器等，以便于开发者在页面布局时灵活使用和提高交互性。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-layout-external-container "添加容器")
# 动画

更新时间: 2025-12-16 16:39

动画分为[静态动画](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-animation#%E9%9D%99%E6%80%81%E5%8A%A8%E7%94%BB)和[连续动画](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-animation#%E8%BF%9E%E7%BB%AD%E5%8A%A8%E7%94%BB)。

## 静态动画

静态动画的核心是transform样式，主要可以实现以下三种变换类型，一次样式设置只能实现一种类型变换。

- **translate**：沿水平或垂直方向将指定组件移动所需距离。
    
- **scale**：横向或纵向将指定组件缩小或放大到所需比例。
    
- **rotate**：将指定组件沿横轴或纵轴或中心点旋转指定的角度。
    

具体的使用示例如下，更多信息请参考[动画样式](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-animation)。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <text class="translate">hello</text>
4.   <text class="rotate">hello</text>
5.   <text class="scale">hello</text>
6. </div>

7. /* xxx.css */
8. .container {
9.   width: 100%;
10.   flex-direction: column;
11.   align-items: center;
12. }
13. .translate {
14.   height: 150px;
15.   width: 300px;
16.   margin: 50px;
17.   font-size: 50px;
18.   background-color: #008000;
19.   transform: translate(200px);
20. }
21. .rotate {
22.   height: 150px;
23.   width: 300px;
24.   margin: 50px;
25.   font-size: 50px;
26.   background-color: #008000;
27.   transform-origin: 200px 100px;
28.   transform: rotate(45deg);
29. }
30. .scale {
31.   height: 150px;
32.   width: 300px;
33.   margin: 50px;
34.   font-size: 50px;
35.   background-color: #008000;
36.   transform: scaleX(1.5);
37. }

**图1** 静态动画效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.08910074356832051194430966836793:50001231000000:2800:C306044645A241CDC853F3107A3875E38F5545FDA6C0A497EF540B80E2310194.png)

## 连续动画

静态动画只有开始状态和结束状态，没有中间状态，如果需要设置中间的过渡状态和转换效果，需要使用连续动画实现。

连续动画的核心是animation样式，它定义了动画的开始状态、结束状态以及时间和速度的变化曲线。通过animation样式可以实现的效果有：

- **animation-name**：设置动画执行后应用到组件上的背景颜色、透明度、宽高和变换类型。
    
- **animation-delay**和**animation-duration**：分别设置动画执行后元素延迟和持续的时间。
    
- **animation-timing-function**：描述动画执行的速度曲线，使动画更加平滑。
    
- **animation-iteration-count**：定义动画播放的次数。
    
- **animation-fill-mode**：指定动画执行结束后是否恢复初始状态。
    

animation样式需要在css文件中先定义keyframe，在keyframe中设置动画的过渡效果，并通过一个样式类型在hml文件中调用。animation-name的使用示例如下：

1. <!-- xxx.hml -->
2. <div class="item-container">
3.     <div class="item {{colorParam}}">
4.         <text class="txt">color</text>
5.     </div>
6.     <div class="item {{opacityParam}}">
7.         <text class="txt">opacity</text>
8.     </div>
9.     <input class="button" type="button" name="" value="show" onclick="showAnimation"/>
10. </div>

11. /* xxx.css */
12. .item-container {
13.   margin: 60px;
14.   flex-direction: column;
15. }
16. .item {
17.   width: 80%;
18.   background-color: #f76160;
19. }
20. .txt {
21.   text-align: center;
22.   width: 200px;
23.   height: 100px;
24. }
25. .button {
26.   width: 200px;
27.   margin: 10px;
28.   font-size: 30px;
29.   background-color: #09ba07;
30. }
31. .color {
32.   animation-name: Color;
33.   animation-duration: 8000ms;
34. }
35. .opacity {
36.   animation-name: Opacity;
37.   animation-duration: 8000ms;
38. }
39. @keyframes Color {
40.   from {
41.     background-color: #f76160;
42.   }
43.   to {
44.     background-color: #09ba07;
45.   }
46. }
47. @keyframes Opacity {
48.   from {
49.     opacity: 0.9;
50.   }
51.   to {
52.     opacity: 0.1;
53.   }
54. }

55. // xxx.js
56. export default {
57.   data: {
58.     colorParam: '',
59.     opacityParam: '',
60.   },
61.   showAnimation: function () {
62.     this.colorParam = '';
63.     this.opacityParam = '';
64.     this.colorParam = 'color';
65.     this.opacityParam = 'opacity';
66.   }
67. }

**图2** 连续动画效果图

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.87280762464139470743839241857675:50001231000000:2800:8A6D48AE53C198AEA3DC8047A68C105C2995D2033F9A23B2C74835A519F35407.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-interactions "添加交互")
# 手势事件

更新时间: 2025-12-16 16:39

手势表示由单个或多个事件识别的语义动作（例如：触摸、点击和长按）。一个完整的手势也可能由多个事件组成，对应手势的生命周期。支持的事件有：

**触摸**

- touchstart：手指触摸动作开始。
    
- touchmove：手指触摸后移动。
    
- touchcancel：手指触摸动作被打断，如来电提醒、弹窗。
    
- touchend：手指触摸动作结束。
    

**点击**

click：用户快速轻敲屏幕。

**长按**

longpress：用户在相同位置长时间保持与屏幕接触。

具体的使用示例如下：

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div class="text-container" onclick="click">
4.     <text class="text-style">{{onClick}}</text>
5.   </div>
6.   <div class="text-container" ontouchstart="touchStart">
7.     <text class="text-style">{{touchstart}}</text>
8.   </div>
9.   <div class="text-container" ontouchmove="touchMove">
10.     <text class="text-style">{{touchmove}}</text>
11.   </div>
12.   <div class="text-container" ontouchend="touchEnd">
13.     <text class="text-style">{{touchend}}</text>
14.   </div>
15.   <div class="text-container" ontouchcancel="touchCancel">
16.     <text class="text-style">{{touchcancel}}</text>
17.   </div>
18.   <div class="text-container" onlongpress="longPress">
19.     <text class="text-style">{{onLongPress}}</text>
20.   </div>
21. </div>

22. /* xxx.css */
23. .container {
24.   width: 100%;
25.   height: 100%;
26.   flex-direction: column;
27.   justify-content: center;
28.   align-items: center;
29. }
30. .text-container {
31.   margin-top: 30px;
32.   flex-direction: column;
33.   width: 600px;
34.   height: 70px;
35.   background-color: #0000FF;
36. }
37. .text-style {
38.   width: 100%;
39.   line-height: 50px;
40.   text-align: center;
41.   font-size: 24px;
42.   color: #ffffff;
43. }

44. // xxx.js
45. export default {
46.     data: {
47.         touchstart: 'touchstart',
48.         touchmove: 'touchmove',
49.         touchend: 'touchend',
50.         touchcancel: 'touchcancel',
51.         onClick: 'onclick',
52.         onLongPress: 'onLongPress',
53.     },
54.     touchCancel: function (event) {
55.         console.info('event is', JSON.stringify(event));
56.         this.touchcancel = 'canceled';
57.     },
58.     touchEnd: function(event) {
59.         console.info('event is', JSON.stringify(event));
60.         this.touchend = 'ended';
61.     },
62.     touchMove: function(event) {
63.         console.info('event is', JSON.stringify(event));
64.         this.touchmove = 'moved';
65.     },
66.     touchStart: function(event) {
67.         console.info('event is', JSON.stringify(event));
68.         this.touchstart = 'touched';
69.     },
70.     longPress: function() {
71.         this.onLongPress = 'longPressed';
72.     },
73.     click: function() {
74.         this.onClick = 'clicked';
75.     },
76. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163958.89680887405105613115940713825390:50001231000000:2800:23BCA4338F18AD49D746FC7BEC2D0F5F8EC4118FED3F228182868384DFBC5421.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-animation "动画")
# 页面路由

更新时间: 2025-12-16 16:40

很多应用由多个页面组成，比如用户可以从音乐列表页面点击歌曲，跳转到该歌曲的播放界面。开发者需要通过页面路由将这些页面串联起来，按需实现跳转。

页面路由router根据页面的uri找到目标页面，从而实现跳转。以最基础的两个页面之间的跳转为例，具体实现步骤如下：

1. 在“Project“窗口，打开src > main >js >MainAbility，右键点击pages文件夹，选择NewJS Page，创建一个详情页。
    
2. 调用router.push()路由到详情页。
    
3. 调用router.back()回到首页。
    

## 构建页面布局

index和detail这两个页面均包含一个text组件和button组件：text组件用来指明当前页面，button组件用来实现两个页面之间的相互跳转。hml文件代码示例如下：

1. <!-- index.hml -->
2. <div class="container">
3.   <text class="title">This is the index page.</text>
4.   <button type="capsule" value="Go to the second page" class="button" onclick="launch"></button>
5. </div>

6. <!-- detail.hml -->
7. <div class="container">
8.   <text class="title">This is the detail page.</text>
9.   <button type="capsule" value="Go back" class="button" onclick="launch"></button>
10. </div>

## 构建页面样式

构建index和detail页面的页面样式，text组件和button组件居中显示，两个组件之间间距为50px。css代码如下（两个页面样式代码一致）：

1. /* index.css */
2. /* detail.css */
3. .container {
4.   width: 100%;
5.   height: 100%;
6.   flex-direction: column;
7.   justify-content: center;
8.   align-items: center;
9. }

10. .title {
11.   font-size: 50px;
12.   margin-bottom: 50px;
13. }

## 实现跳转

为了使button组件的launch方法生效，需要在页面的js文件中实现跳转逻辑。调用router.push()接口将uri指定的页面添加到路由栈中，即跳转到uri指定的页面。在调用router方法之前，需要导入router模块。代码示例如下：

1. // index.js
2. import router from '@ohos.router';
3. export default {
4.   launch() {
5.     router.push ({
6.       url: 'pages/detail/detail',
7.     });
8.   },
9. }

10. // detail.js
11. import router from '@ohos.router';
12. export default {
13.   launch() {
14.     this.getUIContext().getRouter().back();
15.   },
16. }

运行效果如下图所示：

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164003.63834203936180871190789059184484:50001231000000:2800:F9566644327355A61A00295D3BC0D3078E5B86E0DA0C3CEC716C112086873962.png)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-building-ui-event "手势事件")
# list开发指导

更新时间: 2025-12-16 16:40

list是用来显示列表的组件，包含一系列相同宽度的列表项，适合连续、多行地呈现同类数据。具体用法请参考[list API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-list)。

## 创建list组件

在pages/index目录下的hml文件中创建一个list组件。

1. <!-- xxx.hml -->
2. <div class="container"> 
3.  <list>    
4.    <list-item class="listItem"></list-item>
5.    <list-item class="listItem"></list-item>
6.    <list-item class="listItem"></list-item>
7.    <list-item class="listItem"></list-item>
8.  </list>
9. </div>

10. /* xxx.css */
11. .container {
12.   width:100%;
13.   height:100%;
14.   flex-direction: column;
15.   align-items: center;
16.   background-color: #F1F3F5;
17. }
18. .listItem{
19.   height: 20%;
20.   background-color:#d2e0e0;
21.   margin-top: 20px;
22. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.53138582184514400061031775632629:50001231000000:2800:B1974E40500B53F65C92F1A5E5478805123E35EFEA18D65BF95BFD1272EDB734.png)

说明

- <list-item-group>是<list>的子组件，实现列表分组功能，不能再嵌套<list>，可以嵌套<list-item>。
    
- <list-item>是<list>的子组件，展示列表的具体项。
    

## 添加滚动条

设置scrollbar属性为on即可在屏幕右侧生成滚动条，实现长列表或者屏幕滚动等效果。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <list class="listCss" scrollbar="on" >
4.     <list-item class="listItem"></list-item>
5.     <list-item class="listItem"></list-item>
6.     <list-item class="listItem"></list-item>
7.     <list-item class="listItem"></list-item>
8.     <list-item class="listItem"></list-item>
9.     <list-item class="listItem"></list-item>
10.  </list>
11. </div> 

12. /* xxx.css */
13. .container {
14.   flex-direction: column;
15.   background-color: #F1F3F5;
16. }
17. .listItem{
18.   height: 20%;
19.   background-color:#d2e0e0;
20.   margin-top: 20px;
21. }
22. .listCss{
23.   height: 100%;
24.   scrollbar-color: #8e8b8b;
25.   scrollbar-width: 50px;
26. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.00789923854290511642527102686798:50001231000000:2800:FE3BBB9538D3B8B2CFF6F008F387B6D1899B008C2C3B521FF4876B8923F787F9.gif)

## 添加侧边索引栏

设置indexer属性为自定义索引时，索引栏会显示在列表右边界处，indexer属性设置为true，默认为字母索引表。

1. <!-- xxx.hml -->
2. <div class="container">   
3.   <list class="listCss"  indexer="{{['#','1','2','3','4','5','6','7','8']}}" >  
4.     <list-item class="listItem"  section="#" ></list-item>   
5.   </list>
6. </div>

7. /* xxx.css */
8. .container{
9.   flex-direction: column;
10.   background-color: #F1F3F5;
11.  }
12. .listCss{
13.   height: 100%;
14.   flex-direction: column;
15.   columns: 1
16. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.07389047063403070283276963077211:50001231000000:2800:5725957136DEAEB4E9B41EAB45532AFC36CC2743A6053EAAEC601B2E42D90899.png)

说明

- indexer属性生效需要flex-direction属性配合设置为column，且columns属性设置为1。
    
- indexer可以自定义索引表，自定义时"#"必须要存在。
    

## 实现列表折叠和展开

为list组件添加groupcollapse和groupexpand事件实现列表的折叠和展开。

1. <!-- xxx.hml -->
2. <div class="doc-page">
3.   <list style="width: 100%;" id="mylist">
4.     <list-item-group for="listgroup in list" id="{{listgroup.value}}" ongroupcollapse="collapse" ongroupexpand="expand">
5.       <list-item type="item" style="background-color:#FFF0F5;height:95px;">
6.         <div class="item-group-child">
7.           <text>One---{{listgroup.value}}</text>
8.         </div>
9.       </list-item>
10.       <list-item type="item" style="background-color: #87CEFA;height:145px;" primary="true">
11.         <div class="item-group-child">
12.           <text>Primary---{{listgroup.value}}</text>
13.         </div>
14.       </list-item>
15.     </list-item-group>
16.   </list>
17. </div>

18. /* xxx.css */
19. .doc-page {
20.   flex-direction: column;
21.   background-color: #F1F3F5;
22. }
23. .list-item {
24.   margin-top:30px;
25. }
26. .top-list-item {
27.   width:100%;
28.   background-color:#D4F2E7;
29. }
30. .item-group-child {
31.   justify-content: center;
32.   align-items: center;
33.   width:100%;
34. }

35. // xxx.js
36. import promptAction from '@ohos.promptAction';
37. export default {
38.   data: {
39.     direction: 'column',
40.     list: []
41.   },
42.   onInit() {
43.     this.list = []
44.     this.listAdd = []
45.     for (var i = 1; i <= 2; i++) {
46.       var dataItem = {
47.         value: 'GROUP' + i,
48.       };
49.         this.list.push(dataItem);
50.     }
51.   },
52.   collapse(e) {
53.     promptAction.showToast({
54.       message: 'Close ' + e.groupid
55.     })
56.   },
57.   expand(e) {
58.     promptAction.showToast({
59.     message: 'Open ' + e.groupid
60.     })
61.   }
62. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164015.94603890297060662037455027236403:50001231000000:2800:86CCEFE4D99E9F8D42C26B1D84B76DE7AE38895CAA60010ACA1C9C506522AE90.gif)

说明

- groupcollapse和groupexpand事件仅支持list-item-group组件使用。

## 场景示例

在本场景中，开发者可以根据字母索引表查找对应联系人。

1. <!-- xxx.hml -->
2. <div class="doc-page"> 
3.   <text style="font-size: 35px; font-weight: 500; text-align: center; margin-top: 20px; margin-bottom: 20px;"> 
4.       <span>Contacts</span> 
5.   </text> 
6.   <list class="list" indexer="true"> 
7.     <list-item class="item" for="{{namelist}}" type="{{$item.section}}" section="{{$item.section}}"> 
8.       <div class="container"> 
9.         <div class="in-container"> 
10.           <text class="name">{{$item.name}}</text> 
11.           <text class="number">18888888888</text> 
12.         </div> 
13.       </div> 
14.     </list-item> 
15.     <list-item type="end" class="item"> 
16.       <div style="align-items:center;justify-content:center;width:750px;"> 
17.         <text style="text-align: center;">Total: 10</text> 
18.       </div> 
19.     </list-item> 
20.   </list> 
21. </div>

22. /* xxx.css */
23. .doc-page {
24.   width: 100%;
25.   height: 100%;
26.   flex-direction: column;
27.   background-color: #F1F3F5;
28. }
29. .list {
30.   width: 100%;
31.   height: 90%;
32.   flex-grow: 1;
33. }
34. .item {
35.   height: 120px;
36.   padding-left: 10%;
37.   border-top: 1px solid #dcdcdc;
38. }
39. .name {
40.   color: #000000;
41.   font-size: 39px;
42. }
43. .number {
44.   color: black;
45.   font-size: 25px;
46. }
47. .container {
48.   flex-direction: row;
49.   align-items: center;
50. }
51. .in-container {
52.   flex-direction: column;
53.   justify-content: space-around;
54. }

55. // xxx.js
56. export default {
57.    data: {
58.      namelist:[{
59.        name: 'Zoey',
60.        section:'Z'
61.      },{
62.        name: 'Quin',
63.        section:'Q'
64.      },{
65.        name:'Sam',
66.        section:'S'
67.      },{
68.        name:'Leo',
69.        section:'L'
70.      },{
71.        name:'Zach',
72.        section:'Z'
73.      },{
74.        name:'Wade',
75.        section:'W'
76.      },{
77.        name:'Zoe',
78.        section:'Z'
79.      },{
80.         name:'Warren',
81.         section:'W'
82.      },{
83.         name:'Kyle',
84.         section:'K'
85.      },{
86.        name:'Zaneta',
87.        section:'Z'
88.      }]
89.    },
90.    onInit() {
91.    }
92.  }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.43671378932570912573882199035106:50001231000000:2800:F621C9FF094745BC79025E790DC6484F7C9233C3BED4BA5D921E4A0BF0DB749B.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-container-components "容器组件")
# dialog开发指导

更新时间: 2025-12-16 16:40

dialog组件用于创建自定义弹窗，通常用来展示用户当前需要或用户必须关注的信息或操作。具体用法请参考[dialog API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-dialog)。

## 创建dialog组件

在pages/index目录下的hml文件中创建一个dialog组件，并添加Button组件来触发dialog。dialog组件仅支持width、height、margin、margin-[left|top|right|bottom]、margin-[start|end]样式。

1. <!-- xxx.hml -->
2. <div class="doc-page">
3.   <dialog class="dialogClass" id="dialogId" dragable="true">
4.     <div class="content">
5.       <text>this is a dialog</text>
6.     </div>
7.   </dialog>
8.   <button value="click me" onclick="openDialog"></button>
9. </div>

10. /* xxx.css */
11. .doc-page {
12.   width:100%;
13.   height:100%;
14.   flex-direction: column;
15.   align-items: center;
16.   justify-content: center;
17.   background-color: #F1F3F5;
18. }
19. .dialogClass{
20.   width: 80%;
21.   height: 250px;
22.   margin-start: 1%;
23. }
24. .content{
25.   width: 100%;
26.   height: 250px;
27.   justify-content: center;
28.   background-color: #e8ebec;
29.   border-radius: 20px;
30. }
31. text{
32.   width: 100%;
33.   height: 100%;
34.   text-align: center;
35. }
36. button{
37.   width: 70%;
38.   height: 60px;
39. }

40. // xxx.js
41. export default {
42.   //Touch to open the dialog box.
43.   openDialog(){
44.     this.$element('dialogId').show()
45.   },
46. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164028.68011377519929147299162086260313:50001231000000:2800:C13EF96EA6C78107757FEE507FFE2FC01E7ABBC490A7613D934689862816A5F9.gif)

## 设置弹窗响应

开发者点击页面上非dialog的区域时，将触发cancel事件而关闭弹窗。同时也可以通过对dialog添加show和close方法来显示和关闭弹窗。

1. <!-- xxx.hml -->
2. <div class="doc-page">
3.   <dialog class="dialogClass" id="dialogId" oncancel="cancelDialog">
4.     <div class="dialogDiv">
5.       <text>dialog</text>
6.       <button value="confirm" onclick="confirmClick"></button>
7.     </div>
8.   </dialog>
9.   <button value="click me" onclick="openDialog"></button>
10. </div>

11. /* xxx.css */
12. .doc-page {
13.   width:100%;
14.   height:100%;
15.   flex-direction: column;
16.   align-items: center;
17.   justify-content: center;
18.   background-color: #F1F3F5;
19. }
20. .dialogClass{
21.   width: 80%;
22.   height: 300px;
23.   margin-start: 1%;
24. }
25. .dialogDiv{
26.   width: 100%;
27.   flex-direction: column;
28.   justify-content: center;
29.   align-self: center;
30. }
31. text{
32.   height: 100px;
33.   align-self: center;
34. }
35. button{
36.   align-self: center;
37.   margin-top: 20px;
38.   width: 60%;
39.   height: 80px;
40. }

41. // xxx.js
42. import promptAction from '@ohos.promptAction';
43. export default {
44.   cancelDialog(e){
45.     promptAction.showToast({
46.       message: 'dialogCancel'
47.     })
48.   },
49.   openDialog(){
50.     this.$element('dialogId').show()
51.      promptAction.showToast({
52.       message: 'dialogShow'
53.     })
54.   },
55.   confirmClick(e) {
56.     this.$element('dialogId').close()
57.     promptAction.showToast({
58.       message: 'dialogClose'
59.     })
60.   },
61. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164028.66466858091572463760924846749484:50001231000000:2800:3F60EBD4921F10F3F376A5B160EF2DE5455DE2B15CFD9D674510A393D6867DC1.gif)

说明

- 仅支持单个子组件。
    
- dialog属性、样式均不支持动态更新。
    
- dialog组件不支持focusable、click-effect属性。
    

## 场景示例

在本场景中，开发者可以通过dialog组件实现一个日程表。弹窗在打开状态下，利用[textarea](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-textarea)组件输入当前日程，点击确认按钮后获取当前时间并保存输入文本。最后以列表形式将各日程进行展示。

1. <!-- xxx.hml -->
2. <div class="doc-page">
3.   <text style="margin-top: 60px;margin-left: 30px;">
4.     <span>{{date}} events</span>
5.   </text>
6.   <div class="btnDiv">
7.     <button type="circle" class="btn" onclick="addSchedule">+</button>
8.   </div>
9. <!--  for Render events data  -->
10.   <list style="width: 100%;">
11.     <list-item type="item" for="scheduleList" style="width:100%;height: 200px;">
12.       <div class="scheduleDiv">
13.         <text class="text1">{{date}}  event</text>
14.         <text class="text2">{{$item.schedule}}</text>
15.       </div>
16.     </list-item>
17.   </list>
18.   <dialog id="dateDialog" oncancel="cancelDialog" >
19.     <div class="dialogDiv">
20.       <div class="innerTxt">
21.         <text class="text3">{{date}}</text>
22.         <text class="text4">New event</text>
23.       </div>
24.       <textarea placeholder="Event information" onchange="getSchedule" class="area" extend="true"></textarea>
25.       <div class="innerBtn">
26.         <button type="text" value="Cancel" onclick="cancelSchedule" class="innerBtn"></button>
27.         <button type="text" value="OK" onclick="setSchedule" class="innerBtn"></button>
28.       </div>
29.     </div>
30.   </dialog>
31. </div>

32. /* xxx.css */
33. .doc-page {
34.   flex-direction: column;
35.   background-color: #F1F3F5;
36. }
37. .btnDiv {
38.   width: 100%;
39.   height: 200px;
40.   flex-direction: column;
41.   align-items: center;
42.   justify-content: center;
43. }
44. .btn {
45.   radius:60px;
46.   font-size: 100px;
47.   background-color: #1E90FF;
48. }
49. .scheduleDiv {
50.   width: 100%;
51.   height: 200px;
52.   flex-direction: column;
53.   justify-content: space-around;
54.   padding-left: 55px;
55. }
56. .text1 {
57.   color: #000000;
58.   font-weight: bold;
59.   font-size: 39px;
60. }
61. .text2 {
62.   color: #a9a9a9;
63.   font-size: 30px;
64. }
65. .dialogDiv {
66.   flex-direction: column;
67.   align-items: center;
68. }
69. .innerTxt {
70.   width: 320px;
71.   height: 160px;
72.   flex-direction: column;
73.   align-items: center;
74.   justify-content: space-around;
75. }
76. .text3 {
77.   font-family: serif;
78.   color: #1E90FF;
79.   font-size: 38px;
80. }
81. .text4 {
82.   color: #a9a9a9;
83.   font-size: 33px;
84. }
85. .area {
86.   width: 320px;
87.   border-bottom: 1px solid #1E90FF;
88. }
89. .innerBtn {
90.   width: 320px;
91.   height: 120px;
92.   justify-content: space-around;
93.   text-color: #1E90FF;
94. }

95. // xxx.js
96. var info = null;
97. import promptAction from '@ohos.promptAction';
98. export default {
99.   data: {
100.     curYear:'',
101.     curMonth:'',
102.     curDay:'',
103.     date:'',
104.     schedule:'',
105.     scheduleList:[]
106.   },
107.   onInit() {
108.     // Obtain the current date.
109.     var date = new Date();
110.     this.curYear = date.getFullYear();
111.     this.curMonth = date.getMonth() + 1;
112.     this.curDay = date.getDate();
113.     this.date = this.curYear + '-' + this.curMonth + '-' + this.curDay;
114.     this.scheduleList = []
115.   },
116.   addSchedule(e) {
117.     this.$element('dateDialog').show()
118.   },
119.   cancelDialog(e) {
120.     promptAction.showToast({
121.       message: 'Event setting canceled.'
122.     })
123.   },
124.   getSchedule(e) {
125.     info = e.value
126.   },
127.   cancelSchedule(e) {
128.     this.$element('dateDialog').close()
129.     promptAction.showToast({
130.       message: 'Event setting canceled.'
131.     })
132.   },
133. //    Touch OK to save the data.
134.   setSchedule(e) {
135.     if (e.text === '') {
136.       this.schedule = info
137.     } else {
138.       this.schedule = info
139.       var addItem =  {schedule: this.schedule,}
140.       this.scheduleList.push(addItem)
141.     }
142.     this.$element('dateDialog').close()
143.   }
144. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164028.51730844626267983295646402299049:50001231000000:2800:0CAA5DC17926EAF8C81DF3E89C730666DE0AFA9D0BD265731B35B323CE8CC5FD.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-list "list开发指导")
# form开发指导

更新时间: 2025-12-16 16:40

form是一个表单容器，支持容器内[Input](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-input)组件内容的提交和重置。具体用法请参考[form API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-form)。

## 创建form组件

在pages/index目录下的hml文件中创建一个form组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <form style="width: 100%; height: 20%">  
4.     <input type="text" style="width:80%"></input>
5.   </form>
6. </div>

7. /* xxx.css */
8. .container {
9.   width:100%;
10.   height:100%;
11.   flex-direction: column;
12.   justify-content: center;
13.   align-items: center;
14.   background-color: #F1F3F5;
15. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.58164881516672617142584942254996:50001231000000:2800:44770EC08B96C12AE7B24ACF0B254236DEC545D2F4D1B894AC31F00F7FB37296.png)

## 实现表单缩放

为form组件添加click-effect属性，实现点击表单后的缩放效果，click-effect枚举值请参考[通用属性](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-common-attributes)。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <form  id="formId" class="formClass" click-effect="spring-large">
4.     <input type="text"></input>  
5.   </form>
6. </div>

## 设置form样式

通过为form添加background-color和border属性，来设置表单的背景颜色和边框。

1. /* xxx.css */
2. .container {
3.   width: 100%;
4.   height: 100%;
5.   flex-direction: column;
6.   align-items: center;
7.   justify-content: center;
8.   background-color: #F1F3F5;
9. }
10. .formClass{
11.   width: 80%;
12.   height: 100px;
13.   padding: 10px;
14.   border: 1px solid #cccccc;
15. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.24640961440924450782133798232974:50001231000000:2800:15DD6DF74A198717D5B35DF36068CD97162DA26854F4A618165ADA08ADC0CABA.gif)

## 添加响应事件

为form组件添加submit和reset事件，来提交表单内容或重置表单选项。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <form onsubmit='onSubmit' onreset='onReset' class="form">
4.     <div style="width: 100%;justify-content: center;">
5.       <label>Option 1</label>
6.       <input type='radio' name='radioGroup' value='radio1'></input>
7.       <label>Option 2</label>
8.       <input type='radio' name='radioGroup' value='radio2'></input>
9.     </div>
10.     <div style="width: 100%;justify-content: center; margin-top: 20px">
11.       <input type="submit" value="Submit" style="width:120px; margin-right:20px;" >   
12.       </input>
13.       <input type="reset" value="Reset" style="width:120px;"></input>
14.     </div>
15.   </form>
16. </div>

17. /* index.css */
18. .container{
19.   width: 100%;
20.   height: 100%;
21.   flex-direction: column;
22.   justify-items: center;
23.   align-items: center;
24.   background-color: #F1F3F5;
25. }
26. .form{
27.   width: 100%;
28.   height: 30%;
29.   margin-top: 40%;
30.   flex-direction: column;
31.   justify-items: center;
32.   align-items: center;
33. }

34. // xxx.js
35. import promptAction from '@ohos.promptAction';
36. export default{
37.   onSubmit(result) {
38.     promptAction.showToast({
39.       message: result.value.radioGroup
40.     })
41.   },
42.   onReset() {
43.     promptAction.showToast({
44.       message: 'Reset All'
45.     })
46.   }
47. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.08244591554400509988576852936129:50001231000000:2800:CABA9119B5C5901109D2A50735D583F44A03A0259B2AF987B2EE16C4B80E34BB.gif)

## 场景示例

在本场景中，开发者可以选择相应选项并提交或重置数据。

创建[Input](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-input)组件，分别设置type属性为checkbox（多选框）和radio（单选框），再使用form组件的onsubmit和onreset事件实现表单数据的提交与重置。

1. <!-- xxx.hml -->
2. <div class="container">
3.    <form onsubmit="formSubmit" onreset="formReset">
4.  <text style="font-size: 30px; margin-bottom: 20px; margin-top: 100px;">
5.       <span > Form </span>
6.   </text>
7.     <div style="flex-direction: column;width: 90%;padding: 30px 0px;">
8.      <text class="txt">Select 1 or more options</text>
9.       <div style="width: 90%;height: 150px;align-items: center;justify-content: space-around;">
10.         <label target="checkbox1">Option 1</label>
11.         <input id="checkbox1" type="checkbox" name="checkbox1"></input>
12.         <label target="checkbox2">Option 2</label>
13.         <input id="checkbox2" type="checkbox" name="checkbox2"></input>
14.        </div>
15.        <divider style="margin: 20px 0px;color: pink;height: 5px;"></divider>
16.        <text class="txt">Select 1 option</text>
17.        <div style="width: 90%;height: 150px;align-items: center;justify-content: space-around;">
18.          <label target="radio1">Option 1</label>
19.          <input id="radio1" type="radio" name="myradio"></input>
20.          <label target="radio2">Option 2</label>
21.          <input id="radio2" type="radio" name="myradio"></input>
22.        </div>
23.        <divider style="margin: 20px 0px;color: pink;height: 5px;"></divider>
24.        <text class="txt">Text box</text>
25.        <input type="text" placeholder="Enter content." style="margin-top: 50px;"></input>
26.        <div style="width: 90%;align-items: center;justify-content: space-between;margin: 40px;">
27.          <input type="submit">Submit</input>
28.          <input type="reset">Reset</input>
29.        </div>
30.     </div>
31.   </form>
32. </div>

33. /* index.css */
34. .container {
35.   width: 100%;
36.   height: 100%;
37.   flex-direction:column;
38.   align-items:center;
39.   background-color:#F1F3F5;
40. }
41. .txt {
42.   font-size:33px;
43.   font-weight:bold;
44.   color:darkgray;
45. }
46. label{
47.   font-size: 20px;
48. }

49. // xxx.js
50. import promptAction from '@ohos.promptAction';
51. export default {
52.   formSubmit() {
53.     promptAction.showToast({
54.       message: 'Submitted.'
55.     })
56.   },
57.   formReset() {
58.     promptAction.showToast({
59.       message: 'Reset.'
60.     })
61.   }
62. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.82455476377654046973261114215403:50001231000000:2800:CCFF197A03FBB78E15612D665ED6F88BE82849C49D3AC1AD8B50770F32C861B7.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-dialog "dialog开发指导")
# stepper开发指导

更新时间: 2025-12-16 16:40

当一个任务需要多个步骤时，可以使用stepper组件展示当前进展。具体用法请参考[stepper API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-stepper)。

## 创建stepper组件

在pages/index目录下的hml文件中创建一个stepper组件。

1. <!-- xxx.hml -->
2. <div class="container"> 
3.  <stepper>    
4.    <stepper-item>     
5.      <text>Step 1</text>
6.    </stepper-item> 
7.    <stepper-item>     
8.      <text>Step 2</text>
9.    </stepper-item> 
10.  </stepper> 
11. </div>

12. /* xxx.css */
13. .container {
14.   width:100%;
15.   height:100%;
16.   flex-direction: column;
17.   justify-content: center;
18.   align-items: center;
19.   background-color: #F1F3F5;
20. }
21. text{
22.   width: 100%;
23.   height: 100%;
24.   text-align: center;
25. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164048.05803199145218819795280339392466:50001231000000:2800:417CB3EED9A19A7801C2CB95FCD0CD76491F4951BABC6328653CCC9010708DF9.gif)

## 设置index属性

页面默认显示索引值为index的步骤。

1. <!-- xxx.hml -->
2. <div class="container"> 
3.  <stepper index="2">    
4.    <stepper-item>     
5.      <text>stepper-item1</text>
6.    </stepper-item> 
7.    <stepper-item>     
8.      <text>stepper-item2</text>
9.    </stepper-item> 
10.    <stepper-item>     
11.      <text>stepper-item3</text>
12.    </stepper-item> 
13.   </stepper> 
14. </div>

15. /* xxx.css */
16. .container {
17.   width:100%;
18.   height:100%;
19.   flex-direction: column;
20.   background-color: #F1F3F5;
21. }
22. text{
23.   width: 100%;
24.   height: 100%;
25.   text-align: center;
26. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.14187600229507846144217068499530:50001231000000:2800:669F23F472644A91B884791FA982664E8DD89D6D5384EF0EC07B9A418F4BDC49.gif)

通过设置label属性，自定义stepper-item的提示按钮。

1. <!-- xxx.hml -->
2. <div class="container"> 
3.  <stepper index="1">    
4.    <stepper-item label="{{label_1}}">     
5.      <text>stepper-item1</text>
6.    </stepper-item> 
7.    <stepper-item label="{{label_2}}">     
8.      <text>stepper-item2</text>
9.    </stepper-item> 
10.    <stepper-item label="{{label_3}}">     
11.      <text>stepper-item3</text>
12.    </stepper-item>
13.    <stepper-item>     
14.      <text>stepper-item4</text>
15.    </stepper-item> 
16.  </stepper> 
17. </div>

18. /* xxx.css */
19. .container {
20.   width:100%;
21.   height:100%;
22.   flex-direction: column;
23.   background-color: #F1F3F5;
24. }
25. text{
26.   width: 100%;
27.   height: 100%;
28.   text-align: center;
29. }

30. // xxx.js
31. export default {
32.   data: {
33.     label_1:{
34.       nextLabel: 'NEXT',
35.       status: 'normal'
36.     },
37.     label_2:{
38.       prevLabel: 'BACK',
39.       nextLabel: 'NEXT',
40.       status: 'normal'
41.     },
42.     label_3:{
43.       prevLabel: 'BACK',
44.       nextLabel: 'END',
45.       status: 'disabled'
46.     },
47.   },
48. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.85761865353273577657361935263908:50001231000000:2800:362384C20352AD2B776EE96AB015722A166F542EE8515BF96C4E0B20EDA816A2.gif)

## 设置样式

stepper组件默认填充父容器，通过border和background-color设置边框、背景色。

1. <!-- xxx.hml -->
2. <div class="container" > 
3.   <div class="stepperContent">
4.     <stepper class="stepperClass">    
5.       <stepper-item>     
6.         <text>stepper-item1</text>
7.       </stepper-item> 
8.     </stepper> 
9.   </div>
10. </div>

11. /* xxx.css */
12. .container {
13.   width:100%;
14.   height:100%;
15.   flex-direction: column;
16.   align-items: center;
17.   justify-content: center;
18.   background-color:#F1F3F5;
19. }
20. .stepperContent{
21.   width: 300px;
22.   height: 300px;
23. }
24. .stepperClass{
25.   border:1px solid silver ;
26.   background-color: white;
27. }
28. text{
29.   width: 100%;
30.   height: 100%;
31.   text-align: center;
32. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.55064302387248977503515381969013:50001231000000:2800:62A02CC567486169430B098AB8861BFA25216A933AB1AEFE15F73AF1C110F555.png)

## 添加事件

stepper分别添加finish，change，next，back，skip事件。

- 当change与next或back同时存在时，会先执行next或back事件再去执行change事件。
    
- 重新设置index属性值时要先清除index的值再重新设置，否则检测不到值的改变。
    

1. <!-- xxx.hml -->
2. <div class="container"  style="background-color:#F1F3F5;">
3.   <div >
4.     <stepper onfinish="stepperFinish" onchange="stepperChange" onnext="stepperNext" onback="stepperBack" onskip="stepperSkip" id="stepperId" index="{{index}}">
5.       <stepper-item>
6.         <text>stepper-item1</text>
7.         <button value="skip" onclick="skipClick"></button>
8.       </stepper-item>
9.       <stepper-item>
10.          <text>stepper-item2</text>
11.          <button value="skip" onclick="skipClick"></button>
12.       </stepper-item>
13.       <stepper-item>
14.         <text>stepper-item3</text>
15.       </stepper-item>
16.     </stepper>
17.   </div>
18. </div>

19. /* xxx.css */
20. .doc-page {
21.   width:100%;
22.   height:100%;
23.   flex-direction: column;
24.   align-items: center;
25.   justify-content: center;
26. }
27. stepper-item{
28.   width: 100%;
29.   flex-direction: column;
30.   align-self: center;
31.   justify-content: center;
32. }
33. text{
34.   margin-top: 45%;
35.   justify-content: center;
36.   align-self: center;
37.   margin-bottom: 50px;
38. }
39. button{
40.   width: 80%;
41.   height: 60px;
42.   margin-top: 20px;
43. }

44. // xxx.js
45. import promptAction from '@ohos.promptAction';
46. export default {
47.   data: {
48.     index:0,
49.   },
50.    stepperSkip(){
51.     this.index=2;
52.   },
53.    skipClick(){
54.     this.$element('stepperId').setNextButtonStatus({status: 'skip', label: 'SKIP'});
55.   },
56.   stepperFinish(){
57.     promptAction.showToast({
58.       message: 'All Finished'
59.     })
60.   },
61.   stepperChange(e){
62.     console.log("stepperChange"+e.index)
63.     promptAction.showToast({
64.       // index表示当前步骤的序号
65.       message: 'Previous step: '+e.prevIndex+"-------Current step:"+e.index
66.     })
67.   },
68.   stepperNext(e){
69.     console.log("stepperNext"+e.index)
70.     promptAction.showToast({
71.       // pendingIndex表示将要跳转的序号
72.       message: 'Current step:'+e.index+"-------Next step:"+e.pendingIndex
73.     })
74.     var index = {pendingIndex:e.pendingIndex }
75.     return index;
76.   },
77.   stepperBack(e){
78.     console.log("stepperBack"+e.index)
79.     var index = {pendingIndex: e.pendingIndex }
80.     return index;
81.   }
82. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.57279995685856321651283236003436:50001231000000:2800:3C2F4D133DB1C64610058F9BCA8800560FAC0F27BCD5ADF613B6933A9BCFFC61.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-form "form开发指导")
# swiper开发指导

更新时间: 2025-12-16 16:41

swiper为滑动容器，提供切换显示子组件的能力。具体用法请参考[swiper](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-swiper)。

## 创建swiper组件

在pages/index目录下的hml文件中创建一个swiper组件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper>
4.     <div class="item" style="background-color: #bf45ea;">
5.       <text>item1</text>
6.     </div>
7.     <div class="item" style="background-color: #088684;">
8.       <text>item2</text>
9.     </div>
10.     <div class="item" style="background-color: #7786ee;">
11.       <text>item3</text>
12.     </div>
13.   </swiper>
14. </div>

15. /* xxx.css */
16. .container{
17.   width: 100%;
18.   height: 100%;
19.   flex-direction: column;
20.   background-color: #F1F3F5;
21.   align-items: center;
22.   justify-content: center;
23.   width: 100%;
24. }
25. swiper{
26.   height: 30%;
27. }
28. .item{
29.   width: 100%;
30.   height: 500px;
31. }
32. text{
33.   width: 100%;
34.   height: 100%;
35.   text-align: center;
36.   font-size: 50px;
37.   color: white;
38. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164059.95281735246169857027907797402520:50001231000000:2800:7BB1BFE76F2B906515751E2DDAD3D32289017B4A52C1CF7735FB5647CF7D2431.gif)

说明

swiper组件支持除<list>之外的子组件。

## 添加属性

在swiper组件不开启循环播放（loop="false"）时添加自动播放属性（autoplay），设置自动播放时播放时间间隔（interval），页面会自动切换并停留在最后一个子组件页面。添加digital属性启用数字导航点，设置切换时为渐隐滑动效果（scrolleffect="fade"）。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper index="1"  autoplay="true" interval="2000" indicator="true" digital="true" duration="500"
4.   scrolleffect="fade" loop="false">
5.     <div class="item" style="background-color: #bf45ea;">
6.       <text>item1</text>
7.     </div>
8.     <div class="item" style="background-color: #088684;">
9.       <text>item2</text>
10.     </div>
11.     <div class="item" style="background-color: #7786ee;">
12.       <text>item3</text>
13.     </div>
14.     <div class="item" style="background-color: #c88cee;">
15.       <text>item4</text>
16.     </div>
17.   </swiper>
18. </div>

19. /* xxx.css */
20. .container{
21.   width: 100%;
22.   height: 100%;
23.   flex-direction: column;
24.   background-color: #F1F3F5;
25.   align-items: center;
26.   justify-content: center;
27. }
28. swiper{
29.   height: 30%;
30. }
31. .item{
32.   width: 100%;
33.   height: 500px;
34. }
35. text{
36.   width: 100%;
37.   height: 100%;
38.   text-align: center;
39.   font-size: 50px;
40.   color: white;
41. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.87308069141070115547291806332891:50001231000000:2800:5B87840C7E3D56CFCEA58937610B3277E743D74A1B66F4BC0B4EF38C8D3FA4EF.gif)

说明

- 设置indicator（是否启用导航点指示器）属性为true时digital（是否启用数字导航点）属性才会生效。
    
- swiper子组件的个数大于等于2时设置的loop属性才会生效。
    
- scrolleffect属性仅在loop属性值为false时生效。
    

## 设置样式

设置swiper组件的宽高，导航点指示器的直径大小（indicator-size）、颜色（indicator-color）、相对位置（indicator-top）及选中时的颜色（indicator-selected-color）。

1. <!-- xxx.hml-->
2. <div class="container">
3.     <swiper index="1" autoplay="true" interval="2000"  duration="500" >
4.         <div class="item" style="background-color: bisque;">
5.             <text>item1</text>
6.         </div>
7.         <div class="item" style="background-color: darkkhaki;">
8.             <text>item2</text>
9.         </div>
10.         <div class="item" style="background-color: cadetblue;">
11.             <text>item3</text>
12.         </div>
13.     </swiper>
14. </div>

15. /* xxx.css */
16. .container{
17.   width: 100%;
18.   height: 100%;
19.   flex-direction: column;
20.   background-color: #F1F3F5;
21.   align-items: center;
22.   justify-content: center;
23. }
24. swiper{
25.   width:  500px;
26.   height: 500px;
27.   border-radius: 250px;
28.   indicator-color: white;
29.   indicator-selected-color: blue;
30.   indicator-size: 40px;
31.   indicator-top: 100px;
32.   overflow: hidden ;
33. }
34. .item{
35.   width: 100%;
36.   height: 500px;
37. }
38. text{
39.   width: 100%;
40.   text-align: center;
41.   margin-top: 150px;
42.   font-size: 50px;
43.   color: white;
44. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.53841416125752614414165642542784:50001231000000:2800:0AA3BAE683C4BAFA6C2290540A23BD46C7224CDB634617AA60E38B8AD8407AC6.gif)

## 绑定事件

创建两个text组件添加点击事件，当点击后就调用showPrevious（显示上一个子组件）或showNext（显示下一个子组件）方法。添加select组件下拉选择时触发change事件后调用swipeTo方法跳转到指定轮播页面。swiper组件绑定change（当前显示的组件索引变化时触发）和finish（切换动画结束时触发）事件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper interval="2000" onchange="change" loop="false" onanimationfinish="finish" id="swiper">
4.     <div class="item" style="background-color: #bf45ea">
5.       <text>item1</text>
6.     </div>
7.     <div class="item" style="background-color: #088684;">
8.       <text>item2</text>
9.     </div>
10.     <div class="item" style="background-color: #7786ee;">
11.       <text>item3</text>
12.     </div>
13.     <div class="item" style="background-color: #c88cee;">
14.       <text>item4</text>
15.     </div>
16.   </swiper>
17.   <div class="content">
18.       <button class="pnbtn" onclick="previous">Previous</button>
19.       <select onchange="selectChange">
20.           <option value="0">swipeTo 1</option>
21.           <option value="1">swipeTo 2</option>
22.           <option value="2">swipeTo 3</option>
23.           <option value="3">swipeTo 4</option>
24.       </select>
25.     <button class="pnbtn" onclick="next">Next</button>
26.   </div>
27. </div>

28. /* xxx.css */
29. .container{
30.   width: 100%;
31.   height: 100%;
32.   flex-direction: column;
33.   background-color: #F1F3F5;
34.   align-items: center;
35.   justify-content: center;
36. }
37. swiper{
38.   height: 30%;
39. }
40. .item{
41.   width: 100%;
42.   height: 500px;
43. }
44. text{
45.   width: 100%;
46.   height: 100%;
47.   text-align: center;
48.   font-size: 50px;
49.   color: white;
50. }
51. select{
52.   background-color: white;
53.   width: 250px;
54.   height: 80px;
55. }
56. .content{
57.   margin-top: 100px;
58.   justify-content: space-around;
59. }
60. .pnbtn{
61.   width: 200px;
62.   height: 80px;
63.   font-size: 30px;
64. }

65. // xxx.js
66. import promptAction from '@ohos.promptAction';
67. export default{
68.   change(e){
69.     promptAction.showToast({duration:2000,message:"current index:"+e.index});
70.   },
71.   finish(){
72.     promptAction.showToast({duration:2000,message:"切换动作结束"});
73.   },
74.   selectChange(e){
75.     this.$element('swiper').swipeTo({index: Number(e.newValue)});
76.   },
77.   previous(){
78.     this.$element('swiper').showPrevious();
79.   },
80.   next(){
81.     this.$element('swiper').showNext();
82.   }
83. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.04151544414009951006252825957065:50001231000000:2800:C4450C2E090D1734D928CB63FE1946B20E4B7D8193F841D4E4C019C7013E7B8E.gif)

## 场景示例

本场景中使用swiper创建一个轮播图，在轮播图底部制作一个缩略图，点击缩略图后调用swipeTo方法切换到对应的轮播图。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper duration="500" indicator="false" id="swiper" onchange="change">
4.     <div class="item" for="item in list">
5.       <image src="{{item.src}}"></image>
6.     </div>
7.   </swiper>
8.   <div class="content">
9.     <div class="content_item {{index == $idx?'actived':''}}" for="item in list" onclick="imageTo({{$idx}})">
10.       <image src="{{item.src}}"></image>
11.     </div>
12.   </div>
13. </div>

14. /* xxx.css */
15. .container{
16.   flex-direction: column;
17.   background-color: #F1F3F5;
18.   align-items: center;
19.   justify-content: center;
20.   width: 100%;
21. }
22. swiper{
23.   width: 100%;
24.   height: 500px;
25. }
26. .item{
27.   width: 100%;
28.   height: 500px;
29. }
30. .content{
31.   margin-top: -120px;
32.   width: 70%;
33.   display: flex;
34.   justify-content: space-around;
35.   height: 100px;
36. }
37. .content_item{
38.   padding: 5px;
39.   transform: scale(0.5);
40. }
41. .actived{
42.   transform: scale(1);
43.   border: 1px solid #b20937ea;
44. }

45. // xxx.js
46. import promptAction from '@ohos.promptAction';
47. export default {
48.   data:{
49.     index: 0,
50.     list:[
51.       {src: 'common/images/1.png'},
52.       {src: 'common/images/2.png'},
53.       {src: 'common/images/3.png'},
54.       {src: 'common/images/4.png'},]
55.     },
56.   imageTo(index){
57.     this.index = index;
58.     this.$element('swiper').swipeTo({index: index});
59.   },
60.   change(e){
61.     this.index = e.index;
62.   }
63. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.94085470426636537340000841692124:50001231000000:2800:5951EF41B9C0A662030FF12574231B7D86D86600DEDB8DFCB5C76FE457BD14F6.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-component-tabs "tabs开发指导")
# swiper开发指导

更新时间: 2025-12-16 16:41

swiper为滑动容器，提供切换显示子组件的能力。具体用法请参考[swiper](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-container-swiper)。

## 创建swiper组件

在pages/index目录下的hml文件中创建一个swiper组件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper>
4.     <div class="item" style="background-color: #bf45ea;">
5.       <text>item1</text>
6.     </div>
7.     <div class="item" style="background-color: #088684;">
8.       <text>item2</text>
9.     </div>
10.     <div class="item" style="background-color: #7786ee;">
11.       <text>item3</text>
12.     </div>
13.   </swiper>
14. </div>

15. /* xxx.css */
16. .container{
17.   width: 100%;
18.   height: 100%;
19.   flex-direction: column;
20.   background-color: #F1F3F5;
21.   align-items: center;
22.   justify-content: center;
23.   width: 100%;
24. }
25. swiper{
26.   height: 30%;
27. }
28. .item{
29.   width: 100%;
30.   height: 500px;
31. }
32. text{
33.   width: 100%;
34.   height: 100%;
35.   text-align: center;
36.   font-size: 50px;
37.   color: white;
38. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164059.95281735246169857027907797402520:50001231000000:2800:7BB1BFE76F2B906515751E2DDAD3D32289017B4A52C1CF7735FB5647CF7D2431.gif)

说明

swiper组件支持除<list>之外的子组件。

## 添加属性

在swiper组件不开启循环播放（loop="false"）时添加自动播放属性（autoplay），设置自动播放时播放时间间隔（interval），页面会自动切换并停留在最后一个子组件页面。添加digital属性启用数字导航点，设置切换时为渐隐滑动效果（scrolleffect="fade"）。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper index="1"  autoplay="true" interval="2000" indicator="true" digital="true" duration="500"
4.   scrolleffect="fade" loop="false">
5.     <div class="item" style="background-color: #bf45ea;">
6.       <text>item1</text>
7.     </div>
8.     <div class="item" style="background-color: #088684;">
9.       <text>item2</text>
10.     </div>
11.     <div class="item" style="background-color: #7786ee;">
12.       <text>item3</text>
13.     </div>
14.     <div class="item" style="background-color: #c88cee;">
15.       <text>item4</text>
16.     </div>
17.   </swiper>
18. </div>

19. /* xxx.css */
20. .container{
21.   width: 100%;
22.   height: 100%;
23.   flex-direction: column;
24.   background-color: #F1F3F5;
25.   align-items: center;
26.   justify-content: center;
27. }
28. swiper{
29.   height: 30%;
30. }
31. .item{
32.   width: 100%;
33.   height: 500px;
34. }
35. text{
36.   width: 100%;
37.   height: 100%;
38.   text-align: center;
39.   font-size: 50px;
40.   color: white;
41. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.87308069141070115547291806332891:50001231000000:2800:5B87840C7E3D56CFCEA58937610B3277E743D74A1B66F4BC0B4EF38C8D3FA4EF.gif)

说明

- 设置indicator（是否启用导航点指示器）属性为true时digital（是否启用数字导航点）属性才会生效。
    
- swiper子组件的个数大于等于2时设置的loop属性才会生效。
    
- scrolleffect属性仅在loop属性值为false时生效。
    

## 设置样式

设置swiper组件的宽高，导航点指示器的直径大小（indicator-size）、颜色（indicator-color）、相对位置（indicator-top）及选中时的颜色（indicator-selected-color）。

1. <!-- xxx.hml-->
2. <div class="container">
3.     <swiper index="1" autoplay="true" interval="2000"  duration="500" >
4.         <div class="item" style="background-color: bisque;">
5.             <text>item1</text>
6.         </div>
7.         <div class="item" style="background-color: darkkhaki;">
8.             <text>item2</text>
9.         </div>
10.         <div class="item" style="background-color: cadetblue;">
11.             <text>item3</text>
12.         </div>
13.     </swiper>
14. </div>

15. /* xxx.css */
16. .container{
17.   width: 100%;
18.   height: 100%;
19.   flex-direction: column;
20.   background-color: #F1F3F5;
21.   align-items: center;
22.   justify-content: center;
23. }
24. swiper{
25.   width:  500px;
26.   height: 500px;
27.   border-radius: 250px;
28.   indicator-color: white;
29.   indicator-selected-color: blue;
30.   indicator-size: 40px;
31.   indicator-top: 100px;
32.   overflow: hidden ;
33. }
34. .item{
35.   width: 100%;
36.   height: 500px;
37. }
38. text{
39.   width: 100%;
40.   text-align: center;
41.   margin-top: 150px;
42.   font-size: 50px;
43.   color: white;
44. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.53841416125752614414165642542784:50001231000000:2800:0AA3BAE683C4BAFA6C2290540A23BD46C7224CDB634617AA60E38B8AD8407AC6.gif)

## 绑定事件

创建两个text组件添加点击事件，当点击后就调用showPrevious（显示上一个子组件）或showNext（显示下一个子组件）方法。添加select组件下拉选择时触发change事件后调用swipeTo方法跳转到指定轮播页面。swiper组件绑定change（当前显示的组件索引变化时触发）和finish（切换动画结束时触发）事件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper interval="2000" onchange="change" loop="false" onanimationfinish="finish" id="swiper">
4.     <div class="item" style="background-color: #bf45ea">
5.       <text>item1</text>
6.     </div>
7.     <div class="item" style="background-color: #088684;">
8.       <text>item2</text>
9.     </div>
10.     <div class="item" style="background-color: #7786ee;">
11.       <text>item3</text>
12.     </div>
13.     <div class="item" style="background-color: #c88cee;">
14.       <text>item4</text>
15.     </div>
16.   </swiper>
17.   <div class="content">
18.       <button class="pnbtn" onclick="previous">Previous</button>
19.       <select onchange="selectChange">
20.           <option value="0">swipeTo 1</option>
21.           <option value="1">swipeTo 2</option>
22.           <option value="2">swipeTo 3</option>
23.           <option value="3">swipeTo 4</option>
24.       </select>
25.     <button class="pnbtn" onclick="next">Next</button>
26.   </div>
27. </div>

28. /* xxx.css */
29. .container{
30.   width: 100%;
31.   height: 100%;
32.   flex-direction: column;
33.   background-color: #F1F3F5;
34.   align-items: center;
35.   justify-content: center;
36. }
37. swiper{
38.   height: 30%;
39. }
40. .item{
41.   width: 100%;
42.   height: 500px;
43. }
44. text{
45.   width: 100%;
46.   height: 100%;
47.   text-align: center;
48.   font-size: 50px;
49.   color: white;
50. }
51. select{
52.   background-color: white;
53.   width: 250px;
54.   height: 80px;
55. }
56. .content{
57.   margin-top: 100px;
58.   justify-content: space-around;
59. }
60. .pnbtn{
61.   width: 200px;
62.   height: 80px;
63.   font-size: 30px;
64. }

65. // xxx.js
66. import promptAction from '@ohos.promptAction';
67. export default{
68.   change(e){
69.     promptAction.showToast({duration:2000,message:"current index:"+e.index});
70.   },
71.   finish(){
72.     promptAction.showToast({duration:2000,message:"切换动作结束"});
73.   },
74.   selectChange(e){
75.     this.$element('swiper').swipeTo({index: Number(e.newValue)});
76.   },
77.   previous(){
78.     this.$element('swiper').showPrevious();
79.   },
80.   next(){
81.     this.$element('swiper').showNext();
82.   }
83. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.04151544414009951006252825957065:50001231000000:2800:C4450C2E090D1734D928CB63FE1946B20E4B7D8193F841D4E4C019C7013E7B8E.gif)

## 场景示例

本场景中使用swiper创建一个轮播图，在轮播图底部制作一个缩略图，点击缩略图后调用swipeTo方法切换到对应的轮播图。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <swiper duration="500" indicator="false" id="swiper" onchange="change">
4.     <div class="item" for="item in list">
5.       <image src="{{item.src}}"></image>
6.     </div>
7.   </swiper>
8.   <div class="content">
9.     <div class="content_item {{index == $idx?'actived':''}}" for="item in list" onclick="imageTo({{$idx}})">
10.       <image src="{{item.src}}"></image>
11.     </div>
12.   </div>
13. </div>

14. /* xxx.css */
15. .container{
16.   flex-direction: column;
17.   background-color: #F1F3F5;
18.   align-items: center;
19.   justify-content: center;
20.   width: 100%;
21. }
22. swiper{
23.   width: 100%;
24.   height: 500px;
25. }
26. .item{
27.   width: 100%;
28.   height: 500px;
29. }
30. .content{
31.   margin-top: -120px;
32.   width: 70%;
33.   display: flex;
34.   justify-content: space-around;
35.   height: 100px;
36. }
37. .content_item{
38.   padding: 5px;
39.   transform: scale(0.5);
40. }
41. .actived{
42.   transform: scale(1);
43.   border: 1px solid #b20937ea;
44. }

45. // xxx.js
46. import promptAction from '@ohos.promptAction';
47. export default {
48.   data:{
49.     index: 0,
50.     list:[
51.       {src: 'common/images/1.png'},
52.       {src: 'common/images/2.png'},
53.       {src: 'common/images/3.png'},
54.       {src: 'common/images/4.png'},]
55.     },
56.   imageTo(index){
57.     this.index = index;
58.     this.$element('swiper').swipeTo({index: index});
59.   },
60.   change(e){
61.     this.index = e.index;
62.   }
63. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164100.94085470426636537340000841692124:50001231000000:2800:5951EF41B9C0A662030FF12574231B7D86D86600DEDB8DFCB5C76FE457BD14F6.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-component-tabs "tabs开发指导")
# input开发指导

更新时间: 2025-12-16 16:40

input是交互式组件，用于接收用户数据。其类型可设置为日期、多选框和按钮等。具体用法请参考[input API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-input)。

## 创建input组件

在pages/index目录下的hml文件中创建一个input组件。

1. <!-- xxx.hml -->
2. <div class="container">       
3.   <input type="text">             
4.      Please enter the content
5.   </input>
6. </div>

7. /* xxx.css */
8. .container {
9.   width: 100%;
10.   height: 100%;
11.   flex-direction: column;
12.   justify-content: center;
13.   align-items: center;
14.   background-color: #F1F3F5;
15. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164029.53732996468952048739596010753600:50001231000000:2800:C985BD02CB62EB48695DD82A58F3E96930CC210A9CD37B37E7CB404C7404EF35.png)

## 设置input类型

通过设置type属性来定义input类型，如将input设置为button、date等。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div class="div-button">
4.     <dialog class="dialogClass" id="dialogId">
5.       <div class="content">
6.         <text>this is a dialog</text>
7.       </div>
8.     </dialog>
9.     <input class="button" type="button" value="click" onclick="btnclick"></input>
10.   </div>
11.   <div class="content">
12.     <input onchange="checkboxOnChange" checked="true" type="checkbox"></input>
13.   </div>
14.   <div class="content">
15.     <input type="date" class="flex" placeholder="Enter date"></input>
16.   </div>
17. </div>

18. /* xxx.css */
19. .container {
20.   width: 100%;
21.   height: 100%;
22.   align-items: center;
23.   flex-direction: column;
24.   justify-content: center;
25.   background-color: #F1F3F5 ;
26. }
27. .div-button {
28.   flex-direction: column;
29.   align-items: center;
30. }
31. .dialogClass{
32.   width:80%;
33.   height: 200px;
34. }
35. .button {
36.   margin-top: 30px;
37.   width: 50%;
38. }
39. .content{
40.   width: 90%;
41.   height: 150px;
42.   align-items: center;
43.   justify-content: center;
44. }
45. .flex {
46.   width: 80%;
47.   margin-bottom:40px;
48. }

49. // xxx.js
50. export default {
51.   btnclick(){
52.     this.$element('dialogId').show()
53.   },
54. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164029.10031384932018372269073781152570:50001231000000:2800:3EC964254A79C7A4B788A8BF9A3083645E0318EE50186F1B204063F0B6D63032.gif)

说明

仅当input类型为checkbox和radio时，当前组件选中的属性是checked才生效，默认值为false。

## 事件绑定

向input组件添加translate事件。

1. <!-- xxx.hml -->
2. <div class="content">
3.     <text style="margin-left: -7px;">
4.         <span>Enter text and then touch and hold what you've entered</span>
5.     </text>
6.     <input class="input" type="text" ontranslate="translate" placeholder="translate"> </input>
7. </div>

8. /* xxx.css */
9. .content {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   align-items: center;
14.   justify-content: center;
15.   background-color: #F1F3F5;
16. }
17. .input {
18.   margin-top: 50px;
19.   width: 60%;
20.   placeholder-color: gray;
21. }
22. text{
23.   width:100%;
24.   font-size:25px;
25.   text-align:center;
26. }

27. // xxx.js
28. import promptAction from '@ohos.promptAction'

29. export default {
30.     translate(e) {
31.         promptAction.showToast({
32.             message: e.value,
33.             duration: 3000,
34.         });
35.     }
36. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164029.48078429235714714772265132985090:50001231000000:2800:6007FB12CD06535B0C9CE7CE5AB58B005BAF95520372F3F53B26E6A289274DF6.gif)

## 设置输入提示

通过对input组件添加showError方法来提示输入的错误原因。

1. <!-- xxx.hml -->
2. <div class="content">
3.   <input id="input" class="input" type="text"  maxlength="20" placeholder="Please input text" onchange="change">
4.   </input>
5.   <input class="button" type="button" value="Submit" onclick="buttonClick"></input>
6. </div>

7. /* xxx.css */
8. .content {
9.   width: 100%;
10.   height: 100%;
11.   flex-direction: column;
12.   align-items: center;
13.   justify-content: center;
14.   background-color: #F1F3F5;
15. }
16. .input {
17.   width: 80%;
18.   placeholder-color: gray;
19. }
20. .button {
21.   width: 30%;
22.   margin-top: 50px;
23. }

24. // xxx.js
25. import promptAction from '@ohos.promptAction'
26.  export default {
27.    data:{
28.      value:'',
29.    },
30.    change(e){
31.      this.value = e.value;
32.      promptAction.showToast({
33.      message: "value: " + this.value,
34.        duration: 3000,
35.       });
36.    },
37.    buttonClick(e){
38.      if(this.value.length > 6){
39.        this.$element("input").showError({
40.          error:  'Up to 6 characters are allowed.'
41.        });
42.       }else if(this.value.length == 0){
43.         this.$element("input").showError({
44.           error:this.value + 'This field cannot be left empty.'
45.         });
46.       }else{
47.         promptAction.showToast({
48.           message: "success "
49.         });
50.       }
51.    },
52.  }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164029.15363177442997831439228947097915:50001231000000:2800:B592D07B510CD4C7E633B1982BBCA3B3A8B33D3BA1B66576367FA9CA48FD95BB.gif)

说明

该方法在input类型为text、email、date、time、number和password时生效。

## 场景示例

根据场景选择不同类型的input输入框，完成信息录入。

1. <!-- xxx.hml -->
2. <div class="container">    
3.   <div class="label-item"> 
4.     <label>memorandum</label>   
5.   </div>    
6.   <div class="label-item">        
7.     <label class="lab" target="input1">content:</label>        
8.     <input class="flex" id="input1" placeholder="Enter content" />    
9.   </div>    
10.   <div class="label-item">        
11.     <label class="lab" target="input3">date:</label>        
12.     <input class="flex" id="input3" type="date" placeholder="Enter data" />    
13.   </div>    
14.   <div class="label-item">        
15.     <label class="lab" target="input4">time:</label>        
16.     <input class="flex" id="input4" type="time" placeholder="Enter time" />    
17.   </div>   
18.   <div class="label-item">        
19.     <label class="lab" target="checkbox1">Complete:</label>        
20.     <input class="flex" type="checkbox" id="checkbox1" style="width: 100px;height: 100px;" />    
21.   </div>    
22.   <div class="label-item">        
23.     <input class="flex" type="button" id="button" value="save" onclick="btnclick"/>    
24.   </div>
25. </div>

26. /* xxx.css */
27. .container {
28.   flex-direction: column;
29.   background-color: #F1F3F5;
30. }
31. .label-item {
32.   align-items: center;
33.   border-bottom-width: 1px;border-color: #dddddd;
34. }
35. .lab {
36.   width: 400px;}
37. label {
38.   padding: 30px;
39.   font-size: 30px;
40.   width: 320px;
41.   font-family: serif;
42.   color: #9370d8;
43.   font-weight: bold;
44. }
45. .flex {
46.   flex: 1;
47. }
48. .textareaPadding {
49.   padding-left: 100px;
50. }

51. // xxx.js
52. import promptAction from '@ohos.promptAction';
53. export default {
54.   data: {
55.   },
56.   onInit() {
57.   },
58.   btnclick(e) {
59.     promptAction.showToast({
60.       message:'Saved successfully!'
61.     })
62.   }
63. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164029.99492134728625555588239291336963:50001231000000:2800:579008A5A2BA3F2DFB48D970F5359763631EFB1BCBAA3BF2DA1858CAC44ABACB.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-text "text开发指导")
# button开发指导

更新时间: 2025-12-16 16:40

button是按钮组件，其类型包括胶囊按钮、圆形按钮、文本按钮、弧形按钮、下载按钮。具体用法请参考[button API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-button)。

## 创建button组件

在pages/index目录下的hml文件中创建一个button组件。

1. <!-- xxx.hml -->
2. <div class="container">       
3.   <button  type="capsule" value="Capsule button"></button>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.93665160830641284119415074062315:50001231000000:2800:460AF6C01A4B7222113FF974AD9B87EB30B71A97072C483B007CDA4B39FCBB1A.png)

## 设置button类型

通过设置button的type属性来选择按钮类型，如定义button为圆形按钮、文本按钮等。

1. <!-- xxx.hml -->
2. <div class="container">    
3.   <button class="circle" type="circle" >+</button>
4.   <button class="text" type="text"> button</button>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   background-color: #F1F3F5;
11.   flex-direction: column;
12.   align-items: center;
13.   justify-content: center;
14. }
15. .circle {
16.   font-size: 120px;
17.   background-color: blue;
18.   radius: 72px;
19. }
20. .text {
21.   margin-top: 30px;
22.   text-color: white;
23.   font-size: 30px;
24.   font-style: normal;
25.   background-color: blue;
26.   width: 50%;
27.   height: 100px;
28. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.71236825034444544270661907359040:50001231000000:2800:8913B7A249EB0BFD09B6483521D5E64323AE98D3B88814BF87C0C898B14E7D60.png)

说明

- button组件使用的icon图标如果来自云端路径，需要添加网络访问权限 ohos.permission.INTERNET。

如果需要添加ohos.permission.INTERNET权限，则在resources文件夹下的config.json文件里进行权限配置。

1. <!-- config.json -->
2. "module": {
3.   "reqPermissions": [{
4.     "name": "ohos.permission.INTERNET"
5.   }],
6. }

## 显示下载进度

为button组件添加setProgress方法，来实时显示下载进度条的进度。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <button class="button download" type="download" id="download-btn" onclick="setProgress">{{downloadText}}</button>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   background-color: #F1F3F5;
10.   flex-direction: column;
11.   align-items: center;
12.   justify-content: center;
13. }
14. .download {
15.   width: 280px;
16.   text-color: white;
17.   background-color: #007dff;
18. }

19. // xxx.js
20. import promptAction from '@ohos.promptAction';
21. export default {
22.   data: {
23.     percent: 0,
24.     downloadText: "Download",
25.     isPaused: true,
26.     intervalId : null,
27.   },
28.   start(){
29.     this.intervalId = setInterval(()=>{
30.       if(this.percent <100){
31.         this.percent += 1;
32.         this.downloadText = this.percent+ "%";
33.        } else{
34.          promptAction.showToast({
35.             message: "Download succeeded."
36.          })
37.          this.paused()
38.          this.downloadText = "Download";
39.          this.percent = 0;
40.          this.isPaused = true;
41.        }
42.     },100)
43.   },
44.   paused(){
45.     clearInterval(this.intervalId);
46.     this.intervalId = null;
47.   },
48.  setProgress(e) {
49.     if(this.isPaused){
50.       promptAction.showToast({
51.         message: "Started Downloading"
52.       })
53.       this.start();
54.       this.isPaused = false;
55.     }else{
56.       promptAction.showToast({
57.         message: "Paused."
58.       })
59.       this.paused();
60.       this.isPaused = true;
61.     }
62.   }
63. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.36360726808952526764736196395406:50001231000000:2800:F813759AE4A4B1C84935F3FFA0D73FE07821DD2529870D2A95AB7E89D16A02E8.gif)

说明

setProgress方法只支持button的类型为download。

## 场景示例

在本场景中，开发者可根据输入的文本内容进行button类型切换。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div class="input-item">
4.     <input class="input-text" id="change" type="{{mytype}}"  placeholder="{{myholder}}"
5.       style="background-color:{{mystyle1}};
6.       placeholder-color:{{mystyle2}};flex-grow:{{myflex}};"name="{{myname}}" value="{{myvalue}}"></input>
7.   </div>
8.   <div class="input-item">
9.     <div class="doc-row">
10.       <input type="button" class="select-button color-3" value="text" onclick="changetype3"></input>
11.       <input type="button" class="select-button color-3" value="data" onclick="changetype4"></input>
12.     </div>
13.   </div>
14. </div>

15. /* xxx.css */
16. .container {
17.   flex-direction: column;
18.   align-items: center;
19.   background-color: #F1F3F5;
20. }
21. .input-item {
22.   margin-bottom: 80px;
23.   flex-direction: column;
24. }
25. .doc-row {
26.   justify-content: center;
27.   margin-left: 30px;
28.   margin-right: 30px;
29. }
30. .input-text {
31.   height: 80px;
32.   line-height: 80px;
33.   padding-left: 30px;
34.   padding-right: 30px;
35.   margin-left: 30px;
36.   margin-right: 30px;
37.   margin-top:100px;
38.   border: 3px solid;
39.   border-color: #999999;
40.   font-size: 30px;
41.   background-color: #ffffff;
42.   font-weight: 400;
43. }
44. .select-button {
45.   width: 35%;
46.   text-align: center;
47.   height: 70px;
48.   padding-top: 10px;
49.   padding-bottom: 10px;
50.   margin-top: 30px;
51.   font-size: 30px;
52.   color: #ffffff;
53. }
54. .color-3 {
55.   background-color: #0598db;
56. }

57. // xxx.js
58. export default {
59.   data: {
60.     myflex: '',
61.     myholder: 'Enter text.',
62.     myname: '',
63.     mystyle1: "#ffffff",
64.     mystyle2: "#ff0000",
65.     mytype: 'text',
66.     myvalue: '',
67.   },
68.   onInit() {
69.   },
70.   changetype3() {
71.     this.myflex = '';
72.     this.myholder = 'Enter text.';
73.     this.myname = '';
74.     this.mystyle1 = "#ffffff";
75.     this.mystyle2 = "#FF0000";
76.     this.mytype = 'text';
77.     this.myvalue = '';
78.   },
79.   changetype4() {
80.     this.myflex = '';
81.     this.myholder = 'Enter a date.';
82.     this.myname = '';
83.     this.mystyle1 = "#ffffff";
84.     this.mystyle2 = "#FF0000";
85.     this.mytype = 'date';
86.     this.myvalue = '';
87.   },
88. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.38731748264637841734481000158800:50001231000000:2800:4E7767124B70E574E3351DB2A160B64B8113F8EC769F020FB99527BA3ECAB277.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-input "input开发指导")
# button开发指导

更新时间: 2025-12-16 16:40

button是按钮组件，其类型包括胶囊按钮、圆形按钮、文本按钮、弧形按钮、下载按钮。具体用法请参考[button API](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-button)。

## 创建button组件

在pages/index目录下的hml文件中创建一个button组件。

1. <!-- xxx.hml -->
2. <div class="container">       
3.   <button  type="capsule" value="Capsule button"></button>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.93665160830641284119415074062315:50001231000000:2800:460AF6C01A4B7222113FF974AD9B87EB30B71A97072C483B007CDA4B39FCBB1A.png)

## 设置button类型

通过设置button的type属性来选择按钮类型，如定义button为圆形按钮、文本按钮等。

1. <!-- xxx.hml -->
2. <div class="container">    
3.   <button class="circle" type="circle" >+</button>
4.   <button class="text" type="text"> button</button>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   background-color: #F1F3F5;
11.   flex-direction: column;
12.   align-items: center;
13.   justify-content: center;
14. }
15. .circle {
16.   font-size: 120px;
17.   background-color: blue;
18.   radius: 72px;
19. }
20. .text {
21.   margin-top: 30px;
22.   text-color: white;
23.   font-size: 30px;
24.   font-style: normal;
25.   background-color: blue;
26.   width: 50%;
27.   height: 100px;
28. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.71236825034444544270661907359040:50001231000000:2800:8913B7A249EB0BFD09B6483521D5E64323AE98D3B88814BF87C0C898B14E7D60.png)

说明

- button组件使用的icon图标如果来自云端路径，需要添加网络访问权限 ohos.permission.INTERNET。

如果需要添加ohos.permission.INTERNET权限，则在resources文件夹下的config.json文件里进行权限配置。

1. <!-- config.json -->
2. "module": {
3.   "reqPermissions": [{
4.     "name": "ohos.permission.INTERNET"
5.   }],
6. }

## 显示下载进度

为button组件添加setProgress方法，来实时显示下载进度条的进度。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <button class="button download" type="download" id="download-btn" onclick="setProgress">{{downloadText}}</button>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   background-color: #F1F3F5;
10.   flex-direction: column;
11.   align-items: center;
12.   justify-content: center;
13. }
14. .download {
15.   width: 280px;
16.   text-color: white;
17.   background-color: #007dff;
18. }

19. // xxx.js
20. import promptAction from '@ohos.promptAction';
21. export default {
22.   data: {
23.     percent: 0,
24.     downloadText: "Download",
25.     isPaused: true,
26.     intervalId : null,
27.   },
28.   start(){
29.     this.intervalId = setInterval(()=>{
30.       if(this.percent <100){
31.         this.percent += 1;
32.         this.downloadText = this.percent+ "%";
33.        } else{
34.          promptAction.showToast({
35.             message: "Download succeeded."
36.          })
37.          this.paused()
38.          this.downloadText = "Download";
39.          this.percent = 0;
40.          this.isPaused = true;
41.        }
42.     },100)
43.   },
44.   paused(){
45.     clearInterval(this.intervalId);
46.     this.intervalId = null;
47.   },
48.  setProgress(e) {
49.     if(this.isPaused){
50.       promptAction.showToast({
51.         message: "Started Downloading"
52.       })
53.       this.start();
54.       this.isPaused = false;
55.     }else{
56.       promptAction.showToast({
57.         message: "Paused."
58.       })
59.       this.paused();
60.       this.isPaused = true;
61.     }
62.   }
63. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.36360726808952526764736196395406:50001231000000:2800:F813759AE4A4B1C84935F3FFA0D73FE07821DD2529870D2A95AB7E89D16A02E8.gif)

说明

setProgress方法只支持button的类型为download。

## 场景示例

在本场景中，开发者可根据输入的文本内容进行button类型切换。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div class="input-item">
4.     <input class="input-text" id="change" type="{{mytype}}"  placeholder="{{myholder}}"
5.       style="background-color:{{mystyle1}};
6.       placeholder-color:{{mystyle2}};flex-grow:{{myflex}};"name="{{myname}}" value="{{myvalue}}"></input>
7.   </div>
8.   <div class="input-item">
9.     <div class="doc-row">
10.       <input type="button" class="select-button color-3" value="text" onclick="changetype3"></input>
11.       <input type="button" class="select-button color-3" value="data" onclick="changetype4"></input>
12.     </div>
13.   </div>
14. </div>

15. /* xxx.css */
16. .container {
17.   flex-direction: column;
18.   align-items: center;
19.   background-color: #F1F3F5;
20. }
21. .input-item {
22.   margin-bottom: 80px;
23.   flex-direction: column;
24. }
25. .doc-row {
26.   justify-content: center;
27.   margin-left: 30px;
28.   margin-right: 30px;
29. }
30. .input-text {
31.   height: 80px;
32.   line-height: 80px;
33.   padding-left: 30px;
34.   padding-right: 30px;
35.   margin-left: 30px;
36.   margin-right: 30px;
37.   margin-top:100px;
38.   border: 3px solid;
39.   border-color: #999999;
40.   font-size: 30px;
41.   background-color: #ffffff;
42.   font-weight: 400;
43. }
44. .select-button {
45.   width: 35%;
46.   text-align: center;
47.   height: 70px;
48.   padding-top: 10px;
49.   padding-bottom: 10px;
50.   margin-top: 30px;
51.   font-size: 30px;
52.   color: #ffffff;
53. }
54. .color-3 {
55.   background-color: #0598db;
56. }

57. // xxx.js
58. export default {
59.   data: {
60.     myflex: '',
61.     myholder: 'Enter text.',
62.     myname: '',
63.     mystyle1: "#ffffff",
64.     mystyle2: "#ff0000",
65.     mytype: 'text',
66.     myvalue: '',
67.   },
68.   onInit() {
69.   },
70.   changetype3() {
71.     this.myflex = '';
72.     this.myholder = 'Enter text.';
73.     this.myname = '';
74.     this.mystyle1 = "#ffffff";
75.     this.mystyle2 = "#FF0000";
76.     this.mytype = 'text';
77.     this.myvalue = '';
78.   },
79.   changetype4() {
80.     this.myflex = '';
81.     this.myholder = 'Enter a date.';
82.     this.myname = '';
83.     this.mystyle1 = "#ffffff";
84.     this.mystyle2 = "#FF0000";
85.     this.mytype = 'date';
86.     this.myvalue = '';
87.   },
88. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.38731748264637841734481000158800:50001231000000:2800:4E7767124B70E574E3351DB2A160B64B8113F8EC769F020FB99527BA3ECAB277.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-input "input开发指导")
# picker开发指导

更新时间: 2025-12-16 16:40

picker是滑动选择器组件，类型支持普通选择器、日期选择器、时间选择器、时间日期选择器和多列文本选择器。具体用法请参考[picker](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-picker)。

## 创建picker组件

在pages/index目录下的hml文件中创建一个picker组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <picker>picker</picker>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.32305097671401692464864873104867:50001231000000:2800:214FA3B0E81656CB570060EBC7F9DD6E6935A4F8B26007301A966871FD0758C2.gif)

## 设置picker类型

通过设置picker的type属性来选择滑动选择器类型，如定义picker为日期选择器。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <picker id="picker_text" type="text" value="{{textvalue}}"range="{{rangetext}}" class="pickertext" ></picker>
4.   <picker id="picker_date" type="date" value="{{datevalue}}" lunarswitch="true" start="2002-2-5" end="2030-6-5" class="pickerdate"></picker>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   flex-direction: column;
11.   justify-content: center;
12.   align-items: center;
13.   background-color: #F1F3F5;
14. }
15. .pickertext{
16.   margin-bottom: 30px;
17. }

18. // xxx.js
19. export default {
20.   data: {
21.     rangetext:['15', "20", "25"],
22.     textvalue:'Select text',
23.     datevalue:'Select date',
24.   }
25. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.68426957259028996659851424439428:50001231000000:2800:BE3C503DA4FBE811104F727131D50771F3D3389AA82B611ABCC1C271EA1A8A59.gif)

说明

普通选择器设置取值范围时，需要使用数据绑定的方式。

## 设置时间显示格式

picker组件的hours属性用于设置时间显示格式，支持12小时制和24小时制两种模式。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <picker id="picker_time" type="time" value="12-hour format" hours="12" onchange="timeonchange"  class="pickertime"></picker>
4.   <picker id="picker_time" type="time" value="24-hour format" hours="24" onchange="timeonchange"  class="pickertime"></picker>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   flex-direction: column;
11.   justify-content: center;
12.   align-items: center;
13.   background-color: #F1F3F5;
14. }
15. .pickertime {
16.   margin-bottom:50px;
17.   width: 300px;
18.   height: 50px;
19. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.00800791035507030313565431612387:50001231000000:2800:F975BDD2DC507CDE441DFAEA1048E12B1E10C33442D0709804473CF5078384F0.gif)

说明

- hours属性为12：按照12小时制显示，用上午和下午进行区分。
    
- hours属性为24：按照24小时制显示。
    

## 添加响应事件

为picker组件添加change和cancel事件，可以处理用户的选择确定和取消操作。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <picker id="picker_multi" type="multi-text" value="{{multitextvalue}}" columns="3" range="{{multitext}}" selected="
4.      {{multitextselect}}" onchange="multitextonchange" oncancel="multitextoncancel" class="pickermuitl"></picker>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   flex-direction: column;
11.   justify-content: center;
12.   align-items: center;
13.   background-color: #F1F3F5;
14. }
15. .pickermuitl {
16.   margin-bottom:20px;
17.   width: 600px;
18.   height: 50px;
19.   font-size: 25px;
20.   letter-spacing:15px;
21. }

22. // xxx.js
23. import promptAction from '@ohos.promptAction';
24. export default {
25.   data: {
26.     multitext:[["a", "b", "c"], ["e", "f", "g"], ["h", "i"]],
27.     multitextvalue:'Select multi-line text',
28.     multitextselect:[0,0,0],
29.   },
30.   multitextonchange(e) {
31.     this.multitextvalue=e.newValue;
32.     promptAction.showToast({ message:"Multi-column text changed to:" + e.newValue })
33.   },
34.   multitextoncancel() {
35.     promptAction.showToast({ message:"multitextoncancel" })
36.   },
37. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.44145568747438978120585313012568:50001231000000:2800:5F22DF5D9D2080B9D9C2F7C467EF4D3BAA458BC0A02171ACA8EC3D58A6FE7954.gif)

## 场景示例

在本场景中，开发者可以自定义填写健康情况以完成打卡。

1. <!-- xxx.hml -->
2. <div class="doc-page">
3.   <text class="title">Health check-in</text>
4.   <div class="out-container">
5.     <text class="txt">Office:</text>
6.     <picker class="pick" focusable="true" type="text" value="{{pos}}" range="{{posarr}}" onchange="setPos"></picker>
7.   </div>
8.   <divider class="dvd"></divider>
9.   <div class="out-container">
10.     <text class="txt">Office hours:</text>
11.     <picker class="pick" type="date" value="{{datevalue}}"  start="2002-2-5" end="2030-6-5" selected="{{dateselect}}"
12.       lunarswitch="true" onchange="dateonchange"></picker>
13.   </div>
14.   <divider class="dvd"></divider>
15.   <div class="out-container">
16.     <text class="txt">Having fever or cold symptoms</text>
17.     <picker class="pick" type="text" value="{{yorn1}}" range="{{yesno}}" selected="1" onchange="isFever"></picker>
18.   </div>
19.   <divider class="dvd"></divider>
20.   <div class="out-container">
21.     <text class="txt">Close contact with someone with COVID-19</text>
22.     <picker class="pick" type="text" value="{{yorn2}}" range="{{yesno}}" selected="1" onchange="isTouch"></picker>
23.   </div>
24.   <div class="out-container">
25.     <button value="Submit" style="margin-top:100px;width:50%;font-color:#0000ff;height:80px" onclick="showtoast"></button>
26.   </div>
27. </div>

28. /* xxx.css */
29. .doc-page {
30.   flex-direction: column;
31.   background-color: #F1F3F5;
32. }
33. .title {
34.   margin-top: 30px;
35.   margin-bottom: 30px;
36.   margin-left: 50px;
37.   font-weight: bold;
38.   color: #0000ff;
39.   font-size: 38px;
40. }
41. .out-container {
42.   flex-direction: column;
43.   align-items: center;
44. }
45. .pick {
46.   width: 80%;
47.   height: 76px;
48.   border: 1px solid #0000ff;
49.   border-radius: 20px;
50.   padding-left: 12px;
51. }
52. .txt {
53.   width: 80%;
54.   font-size: 18px;
55.   text-align: left;
56.   margin-bottom: 12px;
57.   margin-left: 12px;
58. }
59. .dvd {
60.   margin-top: 30px;
61.   margin-bottom: 30px;
62.   margin-left: 80px;
63.   margin-right: 80px;
64.   color: #6495ED;
65.   stroke-width: 6px;
66. }

67. // xxx.js
68. import promptAction from '@ohos.promptAction'
69. export default {
70.   data: {
71.     yorn1:'No',
72.     yorn2:'No',
73.     pos:'Home',
74.     yesno:['Yes', 'No'],
75.     posarr:['Home', 'Company'],
76.     datevalue:'Select time',
77.     datetimeselect:'2012-5-6-11-25',
78.     dateselect:'2021-9-17',
79.     showbuild:true
80.   },
81.   onInit() {
82.   },
83.   isFever(e) {
84.     this.yorn1 = e.newValue
85.   },
86.   isTouch(e) {
87.     this.yorn2 = e.newValue
88.   },
89.   setPos(e) {
90.     this.pos = e.newValue
91.     if (e.newValue === 'Non-research center') {
92.       this.showbuild = false
93.     } else {
94.       this.showbuild = true
95.     }
96.   },
97.   setbuild(e) {
98.     this.build = e.newValue
99.   },
100.   dateonchange(e) {
101.     e.month=e.month+1;
102.     this.datevalue = e.year + "-" + e.month + "-" + e.day;
103.     promptAction.showToast({ message:"date:"+e.year+"-"+e.month+"-"+e.day })
104.   },
105.   showtoast() {
106.     promptAction.showToast({
107.       message: 'Submitted.',
108.       duration: 2000,
109.       gravity: 'center'
110.     })
111.   }
112. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164049.20215121574506406661414819743723:50001231000000:2800:D06661395E4DABFFB3F4E88DCA5D3D72B18D766CAE351FB6CF6DCC612485B19A.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-button "button开发指导")
# image开发指导

更新时间: 2025-12-16 16:40

image是图片组件，用来渲染展示图片。具体用法请参考[image](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-image)。

## 创建image组件

在pages/index目录下的hml文件中创建一个image组件。

1. <!-- index.hml -->
2. <div class="container">
3.   <image style="height: 30%;" src="common/images/bg-tv.jpg"> </image>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164055.42147014729640999656808474107115:50001231000000:2800:4755E9B9DD9A7F264D9066574C065B7393A0832B408E660E7C04F4C46030E15F.png)

## 设置image样式

通过设置width、height和object-fit属性定义图片的宽、高和缩放样式。

1. <!-- index.hml -->
2. <div class="container">
3.   <image src="common/images/bg-tv.jpg"> </image>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   align-items: center;
11.   justify-content: center;
12.   background-color:#F1F3F5;
13. }
14. image{
15.   width: 80%;
16.   height: 500px;
17.   border: 5px solid saddlebrown;
18.   border-radius: 20px;
19.   object-fit: contain;
20.   match-text-direction:true;
21. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164055.11404124780728594751247766711705:50001231000000:2800:F13F89593A23CA56478C04863B16B1A7D30A171D9D7747EFA5094F8B6A67718C.png)

## 加载图片

图片成功加载时触发complete事件，返回加载的图源尺寸。加载失败则触发error事件，打印图片加载失败。

1. <!-- index.hml -->
2. <div class="container" >
3.   <div>
4.     <image src="common/images/bg-tv.jpg" oncomplete="imageComplete(1)" onerror="imageError(1)"> </image>
5.   </div>
6.   <div>
7.     <image src="common/images/bg-tv1.jpg" oncomplete="imageComplete(2)" onerror="imageError(2)"> </image>
8.   </div>
9. </div>

10. /* xxx.css */
11. .container{
12.   width: 100%;
13.   height: 100%;
14.   flex-direction: column;
15.   justify-content: center;
16.   align-self: center;
17.   background-color: #F1F3F5;
18. }
19. .container div{
20.   margin-left: 10%;
21.   width: 80%;
22.   height: 300px;
23.   margin-bottom: 40px;
24. }

25. // index.js
26. import promptAction from '@ohos.promptAction';
27. export default {
28.   imageComplete(i,e){
29.     promptAction.showToast({
30.       message: "image "+i+"'s width"+ e.width+"----image "+i+"'s height"+e.height,
31.       duration: 3000,
32.     })
33.   },
34.   imageError(i,e){
35.     setTimeout(()=>{
36.       promptAction.showToast({
37.         message: "Failed to load image "+i+".",
38.         duration: 3000,
39.       })
40.     },3000)
41.   }
42. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164055.08253373657284313549731064608818:50001231000000:2800:92D52DCA990061AECB603E01810657846945809EE4E06BAE8DEF8F04583B90C7.gif)

## 场景示例

在本场景中，开发者长按图片后将慢慢隐藏图片，当完全隐藏后再重新显示原始图片。定时器setInterval每隔一段时间改变图片透明度,实现慢慢隐藏的效果，当透明度为0时清除定时器，设置透明度为1。

1. <!-- index.hml -->
2. <div class="page-container">
3.   <div class="content">
4.     <div class="image-container">
5.       <image class="testimage" src="{{testuri}}" style="opacity:{{imageopacity}};" onlongpress="changeopacity"> </image>
6.     </div>
7.     <div class="text-container">
8.       <text style="font-size: 37px;font-weight:bold;color:orange;text-align: center;width: 100%;">Touch and hold the image</text>
9.     </div>
10.   </div>
11. </div>

12. /* xxx.css */
13. .page-container {
14.   width: 100%;
15.   height: 100%;
16.   flex-direction:column;
17.   align-self: center;
18.   justify-content: center;
19.   background-color:#F1F3F5;
20.   background-color: #F1F3F5;
21. }
22. .content{
23.   flex-direction:column;
24. }
25. .image-container {
26.   width: 100%;
27.   height: 300px;
28.   align-items: center;
29.   justify-content: center;
30. }
31. .text-container {
32.   margin-top:50px;
33.   width: 100%;
34.   height: 60px;
35.   flex-direction: row;
36.   justify-content: space-between;
37. }
38. .testimage {
39.   width: 100%;  height: 400px;
40.   object-fit: scale-down;
41.   border-radius: 20px;
42. }

43. // index.js
44. import promptAction from '@ohos.promptAction';
45. export default {
46.   data: {
47.     testuri: 'common/images/bg-tv.jpg',
48.     imageopacity:1,
49.     timer: null
50.   },
51.   changeopacity: function () {
52.     promptAction.showToast({
53.       message: 'Touch and hold the image.'
54.     })
55.     var opval = this.imageopacity * 20
56.     clearInterval(this.timer);
57.     this.timer = setInterval(()=>{
58.       opval--;
59.       this.imageopacity = opval / 20
60.       if (opval===0) {
61.         clearInterval(this.timer)
62.         this.imageopacity = 1
63.       }
64.     },100);
65.   }
66. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164055.76813501369983726958249845782856:50001231000000:2800:D8BCC548D5EE3AC0AFFB28776F81BDD9395B4F7D8B2F40E140849BAF3B47B462.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-picker "picker开发指导")
# rating开发指导

更新时间: 2025-12-16 16:41

rating是评分组件，用于展示用户对某项内容的评价等级。具体用法请参考[rating](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-rating)。

## 创建rating组件

在pages/index目录下的hml文件中创建一个rating组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating></rating>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   display: flex;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. .rating {
15.   width: 80%;
16.   height: 150px;
17. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.16320289529434762260024262850174:50001231000000:2800:26E9864FB0B3EC2765737F4FDF73191B49BB3F3274247FA5F1F72029C2639556.gif)

## 设置评分星级

rating组件通过设置numstars和rating属性设置评分条的星级总数和当前评星数。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating numstars="6" rating="5">
4.   </rating>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   display: flex;
11.   justify-content: center;
12.   align-items: center;
13.   background-color: #F1F3F5;
14. }
15. .rating {
16.   width: 80%;
17.   height: 150px;
18. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.23308583445111448289134877005763:50001231000000:2800:E529EDF06DB5D581FD70C374BE74726E2FB3E2394E838FD8B0232BE24733707D.gif)

## 设置评分样式

rating组件通过star-background、star-foreground和star-secondary属性设置单个星级未选择、选中和选中的次级背景图片。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div style="width: 500px;height: 500px;align-items: center;justify-content: center;flex-direction: column;">
4.     <rating numstars="5" rating="1" class="myrating" style="width: {{ratewidth}}; height:{{rateheight}};
5.     star-background: {{backstar}}; star-secondary: {{secstar}};star-foreground: {{forestar}};rtl-flip: true;">
6.     </rating>
7.   </div>
8. </div>

9. /* xxx.css */
10. .container {
11.   width: 100%;
12.   height: 100%;
13.   flex-direction: column;
14.   align-items: center;
15.   justify-content: center;
16.   background-color: #F1F3F5;
17. }

18. // index.js
19. export default {
20.   data: {
21.     backstar: 'common/love.png',
22.     secstar: 'common/love.png',
23.     forestar: 'common/love1.png',
24.     ratewidth: '400px',
25.     rateheight: '150px'
26.   },
27.   onInit(){
28.   }
29. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.88956953704530486846016730155376:50001231000000:2800:CA42C5A3AA317D53061C3DFDE23D99E0594A0D67C17823A2F3098EF95B8453FD.gif)

说明

- star-background、star-secondary、star-foreground属性的星级图源必须全部设置，否则默认的星级颜色为灰色，提示图源设置错误。
    
- star-background、star-secondary、star-foreground属性只支持本地路径图片，图片格式为png和jpg。
    

## 绑定事件

向rating组件添加change事件，打印当前评分。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating numstars="5" rating="0" onchange="showrating"></rating>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   display: flex;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. .rating {
15.   width: 80%;
16.   height: 150px;
17. }

18. // xxx.js
19. import promptAction from '@ohos.promptAction';
20. export default {
21.   showrating(e) {
22.     promptAction.showToast({
23.       message: '当前评分' + e.rating
24.     })
25.   }
26. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.67691643957083956113231379980615:50001231000000:2800:2254C0E7C9EC08E79F14069B5328738BBC00092148480CB158F86F6ED9700E51.gif)

## 场景示例

开发者可以通过改变开关状态切换星级背景图，通过改变滑动条的值调整星级总数。

1. <!-- xxx.hml -->
2. <div style="width: 100%;height:100%;flex-direction: column;align-items: center;background-color: #F1F3F5;">
3.     <div style="width: 500px;height: 500px;align-items: center;justify-content: center;flex-direction: column;">
4.         <rating numstars="{{stars}}" rating="{{rate}}" stepsize="{{step}}" onchange="showrating" class="myrating"
5.                 style="width: {{ratewidth}};height:{{rateheight}};star-background: {{backstar}};star-secondary: {{secstar}};
6.                         star-foreground: {{forestar}};rtl-flip: true;"></rating>
7.     </div>
8.     <div style="flex-direction: column;width: 80%;align-items: center;">
9.         <div style="width: 100%;height: 100px;align-items: center;justify-content: space-around;">
10.             <text>替换自定义图片</text>
11.             <switch checked="false" showtext="true" onchange="setstar"></switch>
12.         </div>
13.         <div style="width: 100%;height:120px;margin-top: 50px;margin-bottom: 50px;flex-direction: column;align-items: center;
14.                 justify-content: space-around;">
15.             <text>numstars   {{stars}}</text>
16.             <slider id="sli1" min="0" max="10" value="5" step="1" onchange="setnumstars"></slider>
17.         </div>
18.         <div style="width: 100%;height:120px;flex-direction: column;align-items: center;justify-content: space-around;">
19.             <text>rating   {{rate}}</text>
20.             <slider id="sli2" min="0" max="10" value="{{rate}}" step="0.5" onchange="setrating"></slider>
21.         </div>
22.     </div>
23. </div>

24. /* xxx.css */
25. .myrating:active {
26.     width: 500px;
27.     height: 100px;
28. }
29. .switch{
30.     font-size: 40px;
31. }

32. // xxx.js
33. import promptAction from '@ohos.promptAction';
34. export default {
35.     data: {
36.         backstar: '',
37.         secstar: '',
38.         forestar: '',
39.         stars: 5,
40.         ratewidth: '300px',
41.         rateheight: '60px',
42.         step: 0.5,
43.         rate: 0
44.     },
45.     onInit(){
46.     },
47.     setstar(e) {
48.         if (e.checked == true) {
49.             this.backstar = '/common/love.png'
50.             this.secstar = 'common/love.png'
51.             this.forestar = 'common/love1.png'
52.         } else {
53.             this.backstar = ''
54.             this.secstar = ''
55.             this.forestar = ''
56.         }
57.     },
58.     setnumstars(e) {
59.         this.stars = e.progress
60.         this.ratewidth = 60 * parseInt(this.stars) + 'px'
61.     },
62.     setstep(e) {
63.         this.step = e.progress
64.     },
65.     setrating(e){
66.         this.rate = e.progress
67.     },
68.     showrating(e) {
69.         this.rate = e.rating
70.         promptAction.showToast({
71.             message: '当前评分' + e.rating
72.         })
73.     }
74. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.04499479662764143493404885528071:50001231000000:2800:214221B256931C088816BA806C665AD0355EAEFA3F9C4AD791A407FAA02DA8E8.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-image-animator "image-animator开发指导")
# rating开发指导

更新时间: 2025-12-16 16:41

rating是评分组件，用于展示用户对某项内容的评价等级。具体用法请参考[rating](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-rating)。

## 创建rating组件

在pages/index目录下的hml文件中创建一个rating组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating></rating>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   display: flex;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. .rating {
15.   width: 80%;
16.   height: 150px;
17. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.16320289529434762260024262850174:50001231000000:2800:26E9864FB0B3EC2765737F4FDF73191B49BB3F3274247FA5F1F72029C2639556.gif)

## 设置评分星级

rating组件通过设置numstars和rating属性设置评分条的星级总数和当前评星数。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating numstars="6" rating="5">
4.   </rating>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   display: flex;
11.   justify-content: center;
12.   align-items: center;
13.   background-color: #F1F3F5;
14. }
15. .rating {
16.   width: 80%;
17.   height: 150px;
18. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.23308583445111448289134877005763:50001231000000:2800:E529EDF06DB5D581FD70C374BE74726E2FB3E2394E838FD8B0232BE24733707D.gif)

## 设置评分样式

rating组件通过star-background、star-foreground和star-secondary属性设置单个星级未选择、选中和选中的次级背景图片。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div style="width: 500px;height: 500px;align-items: center;justify-content: center;flex-direction: column;">
4.     <rating numstars="5" rating="1" class="myrating" style="width: {{ratewidth}}; height:{{rateheight}};
5.     star-background: {{backstar}}; star-secondary: {{secstar}};star-foreground: {{forestar}};rtl-flip: true;">
6.     </rating>
7.   </div>
8. </div>

9. /* xxx.css */
10. .container {
11.   width: 100%;
12.   height: 100%;
13.   flex-direction: column;
14.   align-items: center;
15.   justify-content: center;
16.   background-color: #F1F3F5;
17. }

18. // index.js
19. export default {
20.   data: {
21.     backstar: 'common/love.png',
22.     secstar: 'common/love.png',
23.     forestar: 'common/love1.png',
24.     ratewidth: '400px',
25.     rateheight: '150px'
26.   },
27.   onInit(){
28.   }
29. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.88956953704530486846016730155376:50001231000000:2800:CA42C5A3AA317D53061C3DFDE23D99E0594A0D67C17823A2F3098EF95B8453FD.gif)

说明

- star-background、star-secondary、star-foreground属性的星级图源必须全部设置，否则默认的星级颜色为灰色，提示图源设置错误。
    
- star-background、star-secondary、star-foreground属性只支持本地路径图片，图片格式为png和jpg。
    

## 绑定事件

向rating组件添加change事件，打印当前评分。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <rating numstars="5" rating="0" onchange="showrating"></rating>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   display: flex;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. .rating {
15.   width: 80%;
16.   height: 150px;
17. }

18. // xxx.js
19. import promptAction from '@ohos.promptAction';
20. export default {
21.   showrating(e) {
22.     promptAction.showToast({
23.       message: '当前评分' + e.rating
24.     })
25.   }
26. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.67691643957083956113231379980615:50001231000000:2800:2254C0E7C9EC08E79F14069B5328738BBC00092148480CB158F86F6ED9700E51.gif)

## 场景示例

开发者可以通过改变开关状态切换星级背景图，通过改变滑动条的值调整星级总数。

1. <!-- xxx.hml -->
2. <div style="width: 100%;height:100%;flex-direction: column;align-items: center;background-color: #F1F3F5;">
3.     <div style="width: 500px;height: 500px;align-items: center;justify-content: center;flex-direction: column;">
4.         <rating numstars="{{stars}}" rating="{{rate}}" stepsize="{{step}}" onchange="showrating" class="myrating"
5.                 style="width: {{ratewidth}};height:{{rateheight}};star-background: {{backstar}};star-secondary: {{secstar}};
6.                         star-foreground: {{forestar}};rtl-flip: true;"></rating>
7.     </div>
8.     <div style="flex-direction: column;width: 80%;align-items: center;">
9.         <div style="width: 100%;height: 100px;align-items: center;justify-content: space-around;">
10.             <text>替换自定义图片</text>
11.             <switch checked="false" showtext="true" onchange="setstar"></switch>
12.         </div>
13.         <div style="width: 100%;height:120px;margin-top: 50px;margin-bottom: 50px;flex-direction: column;align-items: center;
14.                 justify-content: space-around;">
15.             <text>numstars   {{stars}}</text>
16.             <slider id="sli1" min="0" max="10" value="5" step="1" onchange="setnumstars"></slider>
17.         </div>
18.         <div style="width: 100%;height:120px;flex-direction: column;align-items: center;justify-content: space-around;">
19.             <text>rating   {{rate}}</text>
20.             <slider id="sli2" min="0" max="10" value="{{rate}}" step="0.5" onchange="setrating"></slider>
21.         </div>
22.     </div>
23. </div>

24. /* xxx.css */
25. .myrating:active {
26.     width: 500px;
27.     height: 100px;
28. }
29. .switch{
30.     font-size: 40px;
31. }

32. // xxx.js
33. import promptAction from '@ohos.promptAction';
34. export default {
35.     data: {
36.         backstar: '',
37.         secstar: '',
38.         forestar: '',
39.         stars: 5,
40.         ratewidth: '300px',
41.         rateheight: '60px',
42.         step: 0.5,
43.         rate: 0
44.     },
45.     onInit(){
46.     },
47.     setstar(e) {
48.         if (e.checked == true) {
49.             this.backstar = '/common/love.png'
50.             this.secstar = 'common/love.png'
51.             this.forestar = 'common/love1.png'
52.         } else {
53.             this.backstar = ''
54.             this.secstar = ''
55.             this.forestar = ''
56.         }
57.     },
58.     setnumstars(e) {
59.         this.stars = e.progress
60.         this.ratewidth = 60 * parseInt(this.stars) + 'px'
61.     },
62.     setstep(e) {
63.         this.step = e.progress
64.     },
65.     setrating(e){
66.         this.rate = e.progress
67.     },
68.     showrating(e) {
69.         this.rate = e.rating
70.         promptAction.showToast({
71.             message: '当前评分' + e.rating
72.         })
73.     }
74. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164101.04499479662764143493404885528071:50001231000000:2800:214221B256931C088816BA806C665AD0355EAEFA3F9C4AD791A407FAA02DA8E8.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-image-animator "image-animator开发指导")
# slider开发指导

更新时间: 2025-12-16 16:41

slider为滑动条组件，用来快速调节音量、亮度等。具体用法请参考[slider](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-slider)。

## 创建slider组件

在pages/index目录下的hml文件中创建一个slider组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <slider></slider>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   background-color: #F1F3F5;
10.   flex-direction: column;
11.   justify-content: center;
12.   align-items: center;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164102.90181723144300110051226077847476:50001231000000:2800:AB0344B0CD80AA4919E7D91879A1C38518142ED2C42CD93210E8ECE3C6E04B02.gif)

## 设置样式和属性

slider组件通过color、selected-color、block-color样式分别为滑动条设置背景颜色、已选择颜色和滑块颜色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <slider class= "sli"></slider>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. .sli{
15.   color: #fcfcfc;
16.   scrollbar-color: aqua;
17.   background-color: #b7e3f3;
18. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164102.12322522656152092021320845961133:50001231000000:2800:9E52DBE2FCE06CBCBF08A766BF767469F0F70157D549FED3D4CAFD787E0DF248.gif)

通过添加min、max、value、step、mode属性分别为滑动条设置最小值、最大值、初始值、滑动步长和滑动条样式。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <slider min="0" max="100" value="1" step="2" mode="inset" showtips="true"></slider>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164102.26694300724462877863777698680598:50001231000000:2800:267536FF37A567A7A3FD5E334C200885629D63E83B6D2135CFA61B90DCE5803B.gif)

说明

mode属性为滑动条样式，可选值为：

- outset：滑块在滑杆上。
    
- inset：滑块在滑杆内。
    

## 绑定事件

向slider组件添加change事件，添加时需要传入ChangeEvent参数。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <text>slider start value is {{startValue}}</text>
4.   <text>slider current value is {{currentValue}}</text>
5.   <text>slider end value is {{endValue}}</text>
6.   <slider min="0" max="100" value="{{value}}" onchange="setValue"></slider>
7. </div>

8. /* xxx.css */
9. .container {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   justify-content: center;
14.   align-items: center;
15.   background-color: #F1F3F5;
16. }

17. // xxx.js
18. export default {
19.   data: {
20.     value: 0,
21.     startValue: 0,
22.     currentValue: 0,
23.     endValue: 0,
24.   },
25.   setValue(e) {
26.     if (e.mode === "start") {
27.       this.value = e.value;
28.       this.startValue = e.value;
29.     } else if (e.mode === "move") {
30.       this.value = e.value;
31.       this.currentValue = e.value;
32.     } else if (e.mode === "end") {
33.       this.value = e.value;
34.       this.endValue = e.value;
35.     }
36.   }
37. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164102.66231340588271905000211873812636:50001231000000:2800:07959CCEE785A1B52B3EF52A653CC9F6431349DFA4EE87BD8F83367C07B3E8C2.gif)

## 场景示例

开发者可以通过调整滑动条的值来改变图片大小，并且动态打印当前图片的宽和高。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <image src="common/landscape3.jpg" style=" width: {{WidthVal}}px;height:{{HeightVal}}px;margin-top: -150px;"></image>
4.   <div class="txt">
5.     <slider min="0" max="100" value="{{value}}" onchange="setValue"></slider>
6.     <text>The width of this picture is {{WidthVal}}</text>
7.     <text>The height of this picture is {{HeightVal}}</text>
8.   </div>
9. </div>

10. /* xxx.css */
11. .container {
12.   width: 100%;
13.   height: 100%;
14.   flex-direction: column;
15.   justify-content: center;
16.   align-items: center;
17.   background-color: #F1F3F5;
18. }
19. .text{
20.   flex-direction: column;
21.   justify-content: center;
22.   align-items: center;
23.   position: fixed;
24.   top: 65%;
25. }
26. .text{
27.   margin-top: 30px;
28. }

29. // xxx.js
30. export default{
31.   data: {
32.     value: 0,
33.     WidthVal: 200,
34.     HeightVal: 200
35.   },
36.   setValue(e) {
37.     this.WidthVal = 200 + e.value;
38.     this.HeightVal = 200 + e.value
39.   }
40. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164102.62040834930878875995571879266659:50001231000000:2800:F1AEA55FE229C29C36E743E5BCAD8BD8CEE539C87E96CB89BDB8D59E97ED3172.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-rating "rating开发指导")
# switch开发指导

更新时间: 2025-12-16 16:41

switch为开关选择器，切换开启或关闭状态。具体用法请参考[switch](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-switch)。

## 创建switch组件

在pages/index目录下的hml文件中创建一个switch组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.     <switch checked="true"></switch>
4. </div>

5. /* xxx.css */
6. .container {
7.   flex-direction: column;
8.   background-color: #F1F3F5;
9. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164103.71806061228134394325359770605972:50001231000000:2800:2672B59A4642B084DDEEEF00A985B5C37950E443F1DA7223281FD56D6C534BFF.png)

## 添加属性和方法

switch组件通过textoff和showtext属性设置文本选中和未选中时的状态。设置checked属性值为true（组件为打开状态）。添加change事件，当组件状态改变时触发，触发后执行switchChange函数获取组件当前状态（关闭/打开）。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <switch showtext="true" texton="open" textoff="close" checked="true" @change="switchChange"></switch>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   display: flex;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. switch {
15.   texton-color: #002aff;
16.   textoff-color: silver;
17.   text-padding: 20px;
18.   font-size: 50px;
19. }

20. // xxx.js
21. import promptAction from '@ohos.promptAction';
22. export default {
23.   switchChange(e){
24.     if(e.checked){
25.       promptAction.showToast({
26.         message: "open"
27.       });
28.     }else{
29.       promptAction.showToast({
30.         message: "close"
31.       });
32.     }
33.   }
34. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164103.43131424617732652705366672139027:50001231000000:2800:7D9A38CDCF321EBDBDCB9605B5A0E4C10E67FF98AF7A3AD46A651BBFCA08BE87.gif)

说明

当showtext属性值设置为true时，texton和textoff设置的文本才会生效。

## 场景示例

在下面示例中设置开关为打开状态（使用默认收货地址），关闭开关后页面显示选择地址按钮，点击按钮即可改变收货地址。

实现方法：创建switch开关，设置checked属性为true，通过数据绑定改变收货地址。设置display属性（默认为none），当关闭开关改变display属性值为flex后显示地址模块，点击按钮改变颜色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <div class="change">
4.     <text>Choose default address:</text>
5.     <switch showtext="true" texton="on" textoff="off" checked="true" @change="switchChange"></switch>
6.   </div>
7.   <div class="content">
8.     <text class="address"><span>Shipping address:</span><span class="textSpan">{{address}}</span></text>
9.   </div>
10.   <div class="myAddress" style="display: {{addressDisplay}};">
11.     <text style="font-size: 30px;margin-bottom: 50px;">Choose an address:</text>
12.     <text class="addressText" style="background-color: {{item == address?'#0fabe7':''}};color: {{item == address?'white':'black'}};"
13.     for="item in addressList"@click="changeAddress({{$idx}}})">{{item}}</text>
14.   </div>
15. </div>

16. /* xxx.css */
17. .container {
18.   width: 100%;
19.   height: 100%;
20.   background-color: #F1F3F5;
21.   flex-direction: column;
22.   padding: 50px;
23. }
24. .change{
25.   margin-top: 20%;
26.   width: 100%;
27.   justify-content: center;
28. }
29. switch{
30.   texton-color: #002aff;
31.   textoff-color: silver;
32.   text-padding: 20px;
33. }
34. .content{
35.   width: 70%;
36.   text-align: center;
37.   flex-direction: column;
38.   border: 1px solid #002aff;
39.   margin-left: 15%;
40.   text-align: center;
41. }
42. .address{
43.   width: 100%;
44.   height: 100px;
45.   line-height: 100px;
46.   text-align: center;
47.   font-size: 28px;
48.   margin-bottom: 50px;
49. }
50. .textSpan{
51.   color: #0aa9f1;
52. }
53. .myAddress{
54.   flex-direction: column;
55.   margin-top: 50px;
56. }
57. .addressText{
58.   margin-left: 35%;
59.   width: 30%;
60.   height: 75px;
61.   text-align: center;
62.   color: white;
63.   margin-bottom: 30px;
64.   border-radius: 10px;
65.   border: 1px solid #0fabe7;
66. }

67. // xxx.js
68. export default {
69.   data:{
70.     address: '',
71.     addressDisplay: 'none',
72.     addressList: ['family','company','commissary'],
73.   },
74.   onInit(){
75.     // 初始化默认地址为地址列表中的第一个
76.     this.address = this.addressList[0];
77.   },
78.   switchChange(e){
79.     if(e.checked){
80.         this.addressDisplay = "none";
81.     }else{
82.         this.addressDisplay = "flex";
83.     }
84.   },
85.   changeAddress(i){
86.     this.address= this.addressList[i];
87.   }
88. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164103.19537114075750640504001523485794:50001231000000:2800:76E5A9091A9698F353F0252173A7BDC5BB6FAC43782BBF834CA3742936B66878.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-chart "chart开发指导")
# toolbar开发指导

更新时间: 2025-12-16 16:41

toolbar为页面工具栏组件，用于展示针对当前界面的操作选项，可作为页面的一级导航。具体用法请参考[toolbar](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-toolbar)。

## 创建toolbar组件

在pages/index目录下的hml文件中创建一个toolbar组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="background-color: #F1F3F5;">
4.     <toolbar-item value="item1"></toolbar-item>
5.     <toolbar-item value="item2"></toolbar-item>
6.   </toolbar>
7. </div>

8. /* xxx.css */
9. .container {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   justify-content: center;
14.   align-items: center;
15.   background-color: #F1F3F5;
16. }
17. toolbar-item{
18.   font-size: 35px;
19. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.47354588521709171507358435110574:50001231000000:2800:FD758E7883E6A3177C6C5F2046139F9F12C1279BA50C9294FB26703E065B5B55.gif)

## 添加子组件

toolbar组件仅支持toolbar-item为子组件，页面最多可以展示5个toolbar-item子组件，如果存在6个及以上toolbar-item，则保留前面4个，后续的将收纳到工具栏上的更多项中，通过点击更多项弹窗进行展示。并且更多项展示的组件样式采用系统默认样式，toolbar-item上设置的自定义样式不生效。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar>
4.     <toolbar-item value="item1"></toolbar-item>    
5.     <toolbar-item value="item2"></toolbar-item>    
6.     <toolbar-item value="item3"></toolbar-item>    
7.     <toolbar-item value="item4"></toolbar-item>    
8.     <toolbar-item value="item5"></toolbar-item>    
9.     <toolbar-item value="item6"></toolbar-item>
10.   </toolbar>
11. </div>

12. /* xxx.css */
13. .container {
14.   width: 100%;
15.   height: 100%;
16.   flex-direction: column;
17.   justify-content: center;
18.   align-items: center;
19.   background-color: #F1F3F5;
20. }
21. toolbar-item{
22.   font-size: 35px;
23. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.88133158728118851123601081966667:50001231000000:2800:3FB01D213693BD5181F0011CEEAE8E9D5C05353AFDFC5796BC3316F5D57A875F.gif)

## 设置样式

设置position样式控制toolbar组件的位置，并设置子组件toolbar-item的字体颜色、大小及背景色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="position: fixed;bottom: 5%;width: 100%;background-color: #F1F3F5;">
4.     <toolbar-item value="item1" icon="common/images/1.png" class="toolbarActive"></toolbar-item>
5.     <toolbar-item value="item2" icon="common/images/2.png"></toolbar-item>
6.     <toolbar-item value="item3" icon="common/images/1.png"></toolbar-item>
7.     <toolbar-item value="item4" icon="common/images/2.png"></toolbar-item>
8.   </toolbar>
9. </div>

10. /* xxx.css */
11. .container {
12.   background-color: #F1F3F5;
13.   flex-direction: column;
14.   width: 100%;
15.   height: 100%;
16.   justify-content: center;
17.   align-items: center;
18. }
19. toolbar-item{
20.   font-size: 35px;
21. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.65152561081336849011146286355768:50001231000000:2800:51497DBBF118642A58D6DE1EB1D2AA7380CC53C0A8D913B571D26DBE336C665E.png)

## 绑定事件

分别给toolbar-item绑定单击事件和长按事件，单击后文本变红，长按时文本变蓝。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="position: fixed;top: 50%;width: 100%;background-color: #F1F3F5;">
4.     <toolbar-item value="item1" icon="common/images/1.png" style="color: {{itemColor}};" onclick="itemClick"></toolbar-item>
5.     <toolbar-item value="item2" icon="common/images/2.png"  style="color: {{itemColor}}"></toolbar-item>
6.     <toolbar-item value="item3" icon="common/images/3.png"  style="color: {{itemColor}}" onlongpress="itemLongPress"></toolbar-item>
7.   </toolbar>
8. </div>

9. /* xxx.css */
10. .container {
11.   background-color: #F1F3F5;
12.   flex-direction: column;
13.   width: 100%;
14.   height: 100%;
15.   justify-content: center;
16.   align-items: center;
17. }
18. toolbar-item{
19.   font-size: 35px;
20. }

21. // xxx.js
22. import promptAction from '@ohos.promptAction';
23. export default {
24.   data:{
25.     itemColor:'black'
26.   },
27.   itemClick(){
28.     this.itemColor= "red";
29.     promptAction.showToast({duration:2000,message:'item click'});
30.   },
31.   itemLongPress(){
32.     promptAction.showToast({duration:2000,message:'item long press'});
33.     this.itemColor= "blue";
34.   },
35. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.20944518608047687842116469796687:50001231000000:2800:DA0305CB07BCA8B74A1703317FA93E8965C5ABEFF0315C4804E2D6F29E9AB4C6.gif)

说明

toolbar组件不支持添加事件和方法，但其子组件toolbar-item支持。

## 场景示例

本场景中开发者可点击toolbar-item组件，改变当前组件文本颜色并更换相对应的图片内容。

使用for循环创建toolbar-item组件并添加点击事件，点击后获得索引值进行存储。设置文本颜色时，判断当前索引值是否为储存的值，若相同则设置为红色，不同则使用默认颜色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <image src="{{imgList[active]}}"></image>
4.   <toolbar style="position: fixed;bottom: 5%;width: 100%;background-color: #F1F3F5;">
5.     <toolbar-item value="{{ item.option}}" icon="{{item.icon}}" style="color: {{active == $idx?'red':'black'}};background-color: {{active== $idx?'#dbe7f1':'#F1F3F5'}};" for="{{item in itemList}}" onclick="itemClick({{$idx}})"></toolbar-item>
6.     </toolbar>
7. </div>

8. /* xxx.css */
9. .container {
10.   background-color: #F1F3F5;
11.   flex-direction: column;
12.   width: 100%;
13.   justify-content: center;
14.   align-items: center;
15. }
16. toolbar-item{
17.   font-size: 35px;
18. }

19. // xxx.js
20. export default {
21.   data:{
22.     active: 0,
23.     imgList:["common/images/1.png","common/images/2.png","common/images/3.png","common/images/4.png"],
24.     itemList:[
25.       {option:'item1',icon:'common/images/1.png'},
26.       {option:'item2',icon:'common/images/2.png'},
27.       {option:'item3',icon:'common/images/3.png'},
28.       {option:'item4',icon:'common/images/4.png'},
29.     ]
30.   },
31.   itemClick(id){
32.     this.active= id;
33.   },
34. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.35632042072080970279892341477389:50001231000000:2800:C8D9B3F7D4163AE97C3AC4367C67B0B697332189AAAC5037592617C431D07E23.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-switch "switch开发指导")
# toolbar开发指导

更新时间: 2025-12-16 16:41

toolbar为页面工具栏组件，用于展示针对当前界面的操作选项，可作为页面的一级导航。具体用法请参考[toolbar](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-toolbar)。

## 创建toolbar组件

在pages/index目录下的hml文件中创建一个toolbar组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="background-color: #F1F3F5;">
4.     <toolbar-item value="item1"></toolbar-item>
5.     <toolbar-item value="item2"></toolbar-item>
6.   </toolbar>
7. </div>

8. /* xxx.css */
9. .container {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   justify-content: center;
14.   align-items: center;
15.   background-color: #F1F3F5;
16. }
17. toolbar-item{
18.   font-size: 35px;
19. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.47354588521709171507358435110574:50001231000000:2800:FD758E7883E6A3177C6C5F2046139F9F12C1279BA50C9294FB26703E065B5B55.gif)

## 添加子组件

toolbar组件仅支持toolbar-item为子组件，页面最多可以展示5个toolbar-item子组件，如果存在6个及以上toolbar-item，则保留前面4个，后续的将收纳到工具栏上的更多项中，通过点击更多项弹窗进行展示。并且更多项展示的组件样式采用系统默认样式，toolbar-item上设置的自定义样式不生效。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar>
4.     <toolbar-item value="item1"></toolbar-item>    
5.     <toolbar-item value="item2"></toolbar-item>    
6.     <toolbar-item value="item3"></toolbar-item>    
7.     <toolbar-item value="item4"></toolbar-item>    
8.     <toolbar-item value="item5"></toolbar-item>    
9.     <toolbar-item value="item6"></toolbar-item>
10.   </toolbar>
11. </div>

12. /* xxx.css */
13. .container {
14.   width: 100%;
15.   height: 100%;
16.   flex-direction: column;
17.   justify-content: center;
18.   align-items: center;
19.   background-color: #F1F3F5;
20. }
21. toolbar-item{
22.   font-size: 35px;
23. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.88133158728118851123601081966667:50001231000000:2800:3FB01D213693BD5181F0011CEEAE8E9D5C05353AFDFC5796BC3316F5D57A875F.gif)

## 设置样式

设置position样式控制toolbar组件的位置，并设置子组件toolbar-item的字体颜色、大小及背景色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="position: fixed;bottom: 5%;width: 100%;background-color: #F1F3F5;">
4.     <toolbar-item value="item1" icon="common/images/1.png" class="toolbarActive"></toolbar-item>
5.     <toolbar-item value="item2" icon="common/images/2.png"></toolbar-item>
6.     <toolbar-item value="item3" icon="common/images/1.png"></toolbar-item>
7.     <toolbar-item value="item4" icon="common/images/2.png"></toolbar-item>
8.   </toolbar>
9. </div>

10. /* xxx.css */
11. .container {
12.   background-color: #F1F3F5;
13.   flex-direction: column;
14.   width: 100%;
15.   height: 100%;
16.   justify-content: center;
17.   align-items: center;
18. }
19. toolbar-item{
20.   font-size: 35px;
21. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.65152561081336849011146286355768:50001231000000:2800:51497DBBF118642A58D6DE1EB1D2AA7380CC53C0A8D913B571D26DBE336C665E.png)

## 绑定事件

分别给toolbar-item绑定单击事件和长按事件，单击后文本变红，长按时文本变蓝。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <toolbar style="position: fixed;top: 50%;width: 100%;background-color: #F1F3F5;">
4.     <toolbar-item value="item1" icon="common/images/1.png" style="color: {{itemColor}};" onclick="itemClick"></toolbar-item>
5.     <toolbar-item value="item2" icon="common/images/2.png"  style="color: {{itemColor}}"></toolbar-item>
6.     <toolbar-item value="item3" icon="common/images/3.png"  style="color: {{itemColor}}" onlongpress="itemLongPress"></toolbar-item>
7.   </toolbar>
8. </div>

9. /* xxx.css */
10. .container {
11.   background-color: #F1F3F5;
12.   flex-direction: column;
13.   width: 100%;
14.   height: 100%;
15.   justify-content: center;
16.   align-items: center;
17. }
18. toolbar-item{
19.   font-size: 35px;
20. }

21. // xxx.js
22. import promptAction from '@ohos.promptAction';
23. export default {
24.   data:{
25.     itemColor:'black'
26.   },
27.   itemClick(){
28.     this.itemColor= "red";
29.     promptAction.showToast({duration:2000,message:'item click'});
30.   },
31.   itemLongPress(){
32.     promptAction.showToast({duration:2000,message:'item long press'});
33.     this.itemColor= "blue";
34.   },
35. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.20944518608047687842116469796687:50001231000000:2800:DA0305CB07BCA8B74A1703317FA93E8965C5ABEFF0315C4804E2D6F29E9AB4C6.gif)

说明

toolbar组件不支持添加事件和方法，但其子组件toolbar-item支持。

## 场景示例

本场景中开发者可点击toolbar-item组件，改变当前组件文本颜色并更换相对应的图片内容。

使用for循环创建toolbar-item组件并添加点击事件，点击后获得索引值进行存储。设置文本颜色时，判断当前索引值是否为储存的值，若相同则设置为红色，不同则使用默认颜色。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <image src="{{imgList[active]}}"></image>
4.   <toolbar style="position: fixed;bottom: 5%;width: 100%;background-color: #F1F3F5;">
5.     <toolbar-item value="{{ item.option}}" icon="{{item.icon}}" style="color: {{active == $idx?'red':'black'}};background-color: {{active== $idx?'#dbe7f1':'#F1F3F5'}};" for="{{item in itemList}}" onclick="itemClick({{$idx}})"></toolbar-item>
6.     </toolbar>
7. </div>

8. /* xxx.css */
9. .container {
10.   background-color: #F1F3F5;
11.   flex-direction: column;
12.   width: 100%;
13.   justify-content: center;
14.   align-items: center;
15. }
16. toolbar-item{
17.   font-size: 35px;
18. }

19. // xxx.js
20. export default {
21.   data:{
22.     active: 0,
23.     imgList:["common/images/1.png","common/images/2.png","common/images/3.png","common/images/4.png"],
24.     itemList:[
25.       {option:'item1',icon:'common/images/1.png'},
26.       {option:'item2',icon:'common/images/2.png'},
27.       {option:'item3',icon:'common/images/3.png'},
28.       {option:'item4',icon:'common/images/4.png'},
29.     ]
30.   },
31.   itemClick(id){
32.     this.active= id;
33.   },
34. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.35632042072080970279892341477389:50001231000000:2800:C8D9B3F7D4163AE97C3AC4367C67B0B697332189AAAC5037592617C431D07E23.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-switch "switch开发指导")
# menu开发指导

更新时间: 2025-12-16 16:41

提供菜单组件，作为临时性弹出窗口，用于展示用户可执行的操作，具体用法请参考[menu](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-menu)。

## 创建menu组件

在pages/index目录下的hml文件中创建一个menu组件，添加target、type、title属性。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <text class="title-text" id="textId">show menu</text>
4.   <menu target="textId" type="click" title="title">
5.     <option value="Item 1">Item 1</option>
6.     <option value="Item 2">Item 2</option>
7.     <option value="Item 3">Item 3</option>
8.   </menu>
9. </div>

10. /* xxx.css */
11. .container{
12.   width: 100%;
13.   height: 100%;
14.   flex-direction: column;
15.   background-color: #F1F3F5;
16.   align-items: center;
17.   justify-content: center;
18.   width: 100%;
19. }
20. .title-text{
21.   font-size: 35px;
22. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.47819503528143899549559410196992:50001231000000:2800:F118A76C9CA918CFAEB0A2A0765EB459B6A39C887E3FFA67CEA8A4AECEC6E20A.png)

说明

- menu仅支持[option](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-option)子组件。
    
- menu组件不支持focusable、disabled属性。
    

## 设置样式

为menu组件设置样式，例如字体颜色、大小、字符间距等。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <text class="title-text" id="textId">show menu</text>
4.   <menu target="textId" type="click" title="title">
5.     <option value="Item 1">Item 1</option>
6.     <option value="Item 2">Item 2</option>
7.     <option value="Item 3">Item 3</option>
8.   </menu>
9. </div>

10. /* xxx.css */
11. .container{
12.   width: 100%;
13.   height: 100%;
14.   flex-direction: column;
15.   background-color: #F1F3F5;
16.   align-items: center;
17.   justify-content: center;
18.   width: 100%;
19. }
20. .title-text{
21.   font-size: 35px;
22.   background-color: #5a5aee;
23.   color: white;
24.   width: 70%;
25.   text-align: center;
26.   height: 85px;
27.   border-radius: 12px;
28. }
29. .menu{
30.   text-color: blue;
31.   font-size: 35px;
32.   letter-spacing: 2px;
33. }
34. option{
35.   color: #6a6aef;
36.   font-size: 30px;
37. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.47440029175386957030266146790715:50001231000000:2800:3B8C26C842CF6AC01FEE9FC3CD218F9B64415BD4F41C7E61A98A8B412FAB6B93.png)

## 绑定事件

为menu组件绑定oncancel事件（取消操作时触发）。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <text  class="title-text" id="textId" onclick="textClick">show menu</text>
4.   <menu  title="title" oncancel="cancel" id="menuId">
5.     <option value="Item 1">Item 1</option>
6.     <option value="Item 2">Item 2</option>
7.     <option value="Item 3">Item 3</option>
8.   </menu>
9. </div>

10. /* xxx.css */
11. .container{
12.   width: 100%;
13.   height: 100%;
14.   flex-direction: column;
15.   background-color: #F1F3F5;
16.   width: 100%;
17. }
18. .title-text{
19.   font-size: 35px;
20.   background-color: #5a5aee;
21.   color: white;
22.   width: 70%;
23.   text-align: center;
24.   height: 85px;
25.   border-radius: 12px;
26.   margin-top: 500px;
27.   margin-left: 15%;
28. }
29. menu{
30.   text-color: blue;
31.   font-size: 35px;
32.   letter-spacing: 2px;
33. }
34. option{
35.   color: #6a6aef;
36.   font-size: 30px;
37. }

38. // xxx.js
39. import promptAction from '@ohos.promptAction';
40. export default {
41.   cancel() {
42.     promptAction.showToast({
43.       message: "cancel"
44.     })
45.   },
46.   textClick() {
47.     this.$element("menuId").show({ x: 175,y: 590 });
48.   }
49. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164104.99250822216281083819809424940179:50001231000000:2800:72439DF18FE958CECD3F339DF66BAF612553265C8280C28A89BA96E4C2DFA4D7.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-toolbar "toolbar开发指导")
# qrcode开发指导

更新时间: 2025-12-16 16:41

生成并显示二维码，具体用法请参考[qrcode](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-qrcode)。

## 创建qrcode组件

在pages/index目录下的hml文件中创建一个qrcode组件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <qrcode value="Hello"></qrcode>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   align-items: center;
11.   justify-content: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.92004278343516162850260109708851:50001231000000:2800:A154373B10081654D0B21BF67EA087143A972C567FA959BBA685826818FA23C8.png)

说明

qrcode组件在创建的时候value的值为必填项。

## 设置组件类型

通过设置qrcode的type属性来选择按钮类型，如定义qrcode为矩形二维码、圆形二维码。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <select onchange="settype">
4.     <option for="{{bcol_list}}" value="{{$item}}">{{$item}}</option>
5.   </select>
6.   <qrcode value="Hello" type="{{qr_type}}"></qrcode>
7. </div>

8. /* xxx.css */
9. .container {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   align-items: center;
14.   justify-content: center;
15.   background-color: #F1F3F5;
16. }
17. select{
18.   margin-top: 50px;
19.   margin-bottom: 50px;
20. }

21. // index.js
22. export default {
23.   data: {
24.     qr_type: 'rect',
25.     bcol_list: ['rect','circle']
26.   },
27.   settype(e) {
28.     this.qr_type = e.newValue
29.   },
30. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.56940116510334994360009449864215:50001231000000:2800:574EBF9F9438242734D84ED65F120ED21A48696074E3221685DB54F72B1D5ED7.gif)

## 设置样式

通过color和background-color样式为二维码设置显示颜色和背景颜色。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <qrcode value="Hello" type="rect"></qrcode>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   align-items: center;
11.   justify-content: center;
12.   background-color: #F1F3F5;
13. }
14. qrcode{
15.   width: 300px;
16.   height: 300px;
17.  color: blue;  background-color: #ffffff;
18. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.48958199288403366367730762274317:50001231000000:2800:138544250F076BF498F975983B4B934A27D8310384A56A03074E3A65905E3CE8.png)

说明

- width和height不一致时，取二者较小值作为二维码的边长，且最终生成的二维码居中显示。
    
- width和height只设置一个时，取设置的值作为二维码的边长。都不设置时，使用200px作为默认边长。
    

## 场景示例

在本场景中将二维码与输入框绑定，通过改变输入框的内容改变二维码。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <input style="margin-bottom: 100px;" onchange="change"></input>
4.   <qrcode value="{{textVal}}"></qrcode>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   flex-direction: column;
11.   align-items: center;
12.   justify-content: center;
13.   background-color: #F1F3F5;
14. }
15. qrcode{
16.   width: 400px;
17.   height: 400px;
18. }

19. // index.js
20. export default{
21.   data: {
22.     textVal: ''
23.   },
24.   change(e){
25.     this.textVal = e.value
26.   }
27. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.18129526507893659575665496694595:50001231000000:2800:E310E7643859DE73F8C3E4362B9FC4374ED1166B041BD18CDB7C80DD854B1480.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-marquee "marquee开发指导")
# qrcode开发指导

更新时间: 2025-12-16 16:41

生成并显示二维码，具体用法请参考[qrcode](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-basic-qrcode)。

## 创建qrcode组件

在pages/index目录下的hml文件中创建一个qrcode组件。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <qrcode value="Hello"></qrcode>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   align-items: center;
11.   justify-content: center;
12.   background-color: #F1F3F5;
13. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.92004278343516162850260109708851:50001231000000:2800:A154373B10081654D0B21BF67EA087143A972C567FA959BBA685826818FA23C8.png)

说明

qrcode组件在创建的时候value的值为必填项。

## 设置组件类型

通过设置qrcode的type属性来选择按钮类型，如定义qrcode为矩形二维码、圆形二维码。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <select onchange="settype">
4.     <option for="{{bcol_list}}" value="{{$item}}">{{$item}}</option>
5.   </select>
6.   <qrcode value="Hello" type="{{qr_type}}"></qrcode>
7. </div>

8. /* xxx.css */
9. .container {
10.   width: 100%;
11.   height: 100%;
12.   flex-direction: column;
13.   align-items: center;
14.   justify-content: center;
15.   background-color: #F1F3F5;
16. }
17. select{
18.   margin-top: 50px;
19.   margin-bottom: 50px;
20. }

21. // index.js
22. export default {
23.   data: {
24.     qr_type: 'rect',
25.     bcol_list: ['rect','circle']
26.   },
27.   settype(e) {
28.     this.qr_type = e.newValue
29.   },
30. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.56940116510334994360009449864215:50001231000000:2800:574EBF9F9438242734D84ED65F120ED21A48696074E3221685DB54F72B1D5ED7.gif)

## 设置样式

通过color和background-color样式为二维码设置显示颜色和背景颜色。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <qrcode value="Hello" type="rect"></qrcode>
4. </div>

5. /* xxx.css */
6. .container {
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   align-items: center;
11.   justify-content: center;
12.   background-color: #F1F3F5;
13. }
14. qrcode{
15.   width: 300px;
16.   height: 300px;
17.  color: blue;  background-color: #ffffff;
18. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.48958199288403366367730762274317:50001231000000:2800:138544250F076BF498F975983B4B934A27D8310384A56A03074E3A65905E3CE8.png)

说明

- width和height不一致时，取二者较小值作为二维码的边长，且最终生成的二维码居中显示。
    
- width和height只设置一个时，取设置的值作为二维码的边长。都不设置时，使用200px作为默认边长。
    

## 场景示例

在本场景中将二维码与输入框绑定，通过改变输入框的内容改变二维码。

1. <!-- xxx.hml-->
2. <div class="container">
3.   <input style="margin-bottom: 100px;" onchange="change"></input>
4.   <qrcode value="{{textVal}}"></qrcode>
5. </div>

6. /* xxx.css */
7. .container {
8.   width: 100%;
9.   height: 100%;
10.   flex-direction: column;
11.   align-items: center;
12.   justify-content: center;
13.   background-color: #F1F3F5;
14. }
15. qrcode{
16.   width: 400px;
17.   height: 400px;
18. }

19. // index.js
20. export default{
21.   data: {
22.     textVal: ''
23.   },
24.   change(e){
25.     this.textVal = e.value
26.   }
27. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164105.18129526507893659575665496694595:50001231000000:2800:E310E7643859DE73F8C3E4362B9FC4374ED1166B041BD18CDB7C80DD854B1480.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-marquee "marquee开发指导")
# Canvas对象

更新时间: 2025-12-16 16:40

Canvas组件提供画布，用于自定义绘制图形。具体用法请参考[CanvasRenderingContext2D对象](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-canvasrenderingcontext2d)。

## 创建Canvas组件

在pages/index目录下的hml文件中创建一个Canvas组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas></canvas>
4. </div>

5. /* xxx.css */
6. .container{
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. canvas{
15.   background-color: #00ff73;
16. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.47268143544262552669689253231459:50001231000000:2800:B4276527EA1BC36B6E34C799D46DC729B1A0DD96197E5D0D636D1355E78E261A.png)

说明

- Canvas组件默认背景色与父组件的背景色一致。
    
- Canvas默认宽高为width: 300px，height: 150px。
    

## 添加样式

Canvas组件设置宽（width）、高（height）、背景色（background-color）及边框样式（border）。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas></canvas>
4. </div>

5. /* xxx.css */
6. .container{
7.   flex-direction: column;
8.   justify-content: center;
9.   align-items: center;
10.   background-color: #F1F3F5;
11.   width: 100%;
12.   height: 100%;
13. }
14. canvas{
15.   width: 500px;
16.   height: 500px;
17.   background-color: #fdfdfd;
18.   border: 5px solid red;
19. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.52392101086962074416173837464548:50001231000000:2800:25D2855A08EF0493CCFA0D82758AD071123CF8105C5488A38C2AF8D6D706482C.png)

## 添加事件

Canvas添加长按事件，长按后可获取Canvas组件的dataUrl值（toDataURL方法返回的图片信息），打印在下方文本区域内。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas ref="canvas1" onlongpress="getUrl"></canvas>
4.   <text>dataURL</text>
5.   <text class="content">{{dataURL}}</text>
6. </div>

7. /* xxx.css */
8. .container{
9.   width:100%;
10.   height:100%;
11.   flex-direction: column;
12.   justify-content: center;
13.   align-items: center;
14.   background-color: #F1F3F5;
15.   }
16.   canvas{
17.     width: 500px;
18.     height: 500px;
19.     background-color: #fdfdfd;
20.     border: 5px solid red;
21.     margin-bottom: 50px;
22. }
23. .content{
24.   border: 5px solid blue;
25.   padding: 10px;
26.   width: 90%;
27.   height: 400px;
28.   overflow: scroll;
29. }

30. // xxx.js
31. import promptAction from '@ohos.promptAction';
32. export default {
33.   data:{
34.     dataURL:null,
35.   },
36.   onShow(){
37.     let el = this.$refs.canvas1;
38.     let ctx = el.getContext("2d");
39.     ctx.strokeRect(100,100,300,300);
40.   },
41.   getUrl(){
42.     let el = this.$refs.canvas1
43.     let dataUrl = el.toDataURL()
44.     this.dataURL = dataUrl;
45.     promptAction.showToast({duration:2000,message:"long press,get dataURL"})
46.   }
47. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.35921361461203852849614500585469:50001231000000:2800:3963AC9D1F3BBC2F0813598BE2379E8296CD48394D9E2B5C6609A75D5E85E33A.gif)

说明

画布不支持在onInit和onReady中进行创建。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-canvas "Canvas开发指导")
# Canvas对象

更新时间: 2025-12-16 16:40

Canvas组件提供画布，用于自定义绘制图形。具体用法请参考[CanvasRenderingContext2D对象](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-canvasrenderingcontext2d)。

## 创建Canvas组件

在pages/index目录下的hml文件中创建一个Canvas组件。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas></canvas>
4. </div>

5. /* xxx.css */
6. .container{
7.   width: 100%;
8.   height: 100%;
9.   flex-direction: column;
10.   justify-content: center;
11.   align-items: center;
12.   background-color: #F1F3F5;
13. }
14. canvas{
15.   background-color: #00ff73;
16. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.47268143544262552669689253231459:50001231000000:2800:B4276527EA1BC36B6E34C799D46DC729B1A0DD96197E5D0D636D1355E78E261A.png)

说明

- Canvas组件默认背景色与父组件的背景色一致。
    
- Canvas默认宽高为width: 300px，height: 150px。
    

## 添加样式

Canvas组件设置宽（width）、高（height）、背景色（background-color）及边框样式（border）。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas></canvas>
4. </div>

5. /* xxx.css */
6. .container{
7.   flex-direction: column;
8.   justify-content: center;
9.   align-items: center;
10.   background-color: #F1F3F5;
11.   width: 100%;
12.   height: 100%;
13. }
14. canvas{
15.   width: 500px;
16.   height: 500px;
17.   background-color: #fdfdfd;
18.   border: 5px solid red;
19. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.52392101086962074416173837464548:50001231000000:2800:25D2855A08EF0493CCFA0D82758AD071123CF8105C5488A38C2AF8D6D706482C.png)

## 添加事件

Canvas添加长按事件，长按后可获取Canvas组件的dataUrl值（toDataURL方法返回的图片信息），打印在下方文本区域内。

1. <!-- xxx.hml -->
2. <div class="container">
3.   <canvas ref="canvas1" onlongpress="getUrl"></canvas>
4.   <text>dataURL</text>
5.   <text class="content">{{dataURL}}</text>
6. </div>

7. /* xxx.css */
8. .container{
9.   width:100%;
10.   height:100%;
11.   flex-direction: column;
12.   justify-content: center;
13.   align-items: center;
14.   background-color: #F1F3F5;
15.   }
16.   canvas{
17.     width: 500px;
18.     height: 500px;
19.     background-color: #fdfdfd;
20.     border: 5px solid red;
21.     margin-bottom: 50px;
22. }
23. .content{
24.   border: 5px solid blue;
25.   padding: 10px;
26.   width: 90%;
27.   height: 400px;
28.   overflow: scroll;
29. }

30. // xxx.js
31. import promptAction from '@ohos.promptAction';
32. export default {
33.   data:{
34.     dataURL:null,
35.   },
36.   onShow(){
37.     let el = this.$refs.canvas1;
38.     let ctx = el.getContext("2d");
39.     ctx.strokeRect(100,100,300,300);
40.   },
41.   getUrl(){
42.     let el = this.$refs.canvas1
43.     let dataUrl = el.toDataURL()
44.     this.dataURL = dataUrl;
45.     promptAction.showToast({duration:2000,message:"long press,get dataURL"})
46.   }
47. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164016.35921361461203852849614500585469:50001231000000:2800:3963AC9D1F3BBC2F0813598BE2379E8296CD48394D9E2B5C6609A75D5E85E33A.gif)

说明

画布不支持在onInit和onReady中进行创建。

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-canvas "Canvas开发指导")
# Path2D对象

更新时间: 2025-12-16 16:40

路径对象，支持通过对象的接口进行路径的描述，并通过Canvas的[stroke](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#stroke-1)接口进行绘制。具体请参考[Path2D对象](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-path2d)。

## 画线段

创建Path2D，使用多条线段组合图形。

1. <!-- xxx.hml --> 
2. <div class="container">
3.   <canvas ref="canvas"></canvas>
4. </div>

5. /* xxx.css */
6. .container {
7.     flex-direction: column;
8.     background-color: #F1F3F5;
9.     align-items: center;
10.     justify-content: center;
11.     width: 100%;
12.     height: 100%;
13. }

14. canvas {
15.     width: 600px;
16.     height: 600px;
17.     background-color: #fdfdfd;
18.     border: 5px solid red;
19. }

20. // xxx.js
21. import promptAction from '@ohos.promptAction';

22. export default {
23.     onShow() {
24.         let ctx = this.$refs.canvas.getContext('2d', {
25.             antialias: true
26.         });
27.         let path = ctx.createPath2D();
28.         // 房顶
29.         path.moveTo(10, 300);
30.         path.lineTo(210, 100);
31.         path.lineTo(410, 300);
32.         // 屋子
33.         path.moveTo(10, 300);
34.         path.lineTo(410, 300);
35.         path.lineTo(410, 600);
36.         path.lineTo(10, 600);
37.         path.closePath();
38.         // 窗子
39.         path.moveTo(50, 450);
40.         path.bezierCurveTo(70, 350, 130, 350, 150, 450);
41.         path.closePath();
42.         // 门
43.         path.moveTo(250, 450);
44.         path.rect(250, 450, 100, 600);
45.         path.closePath();
46.         // 烟囱
47.         path.moveTo(365, 250);
48.         path.ellipse(310, 215, 30, 130, 0, Math.PI * 0.04, Math.PI * 1.1, 1);
49.         // 树
50.         path.moveTo(485, 450);
51.         path.quadraticCurveTo(510, 500, 485, 600);
52.         path.moveTo(550, 450);
53.         path.quadraticCurveTo(525, 500, 550, 600);
54.         path.moveTo(600, 535);
55.         path.arc(520, 450, 85, 0, 6);
56.         ctx.stroke(path);
57.     }
58. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.62591255567653744128840006809783:50001231000000:2800:9657559CC1B21E919E1D984ABD3B036729513B5AE6BCA88E6E74273CD1F81982.png)

## 画图形

先使用createPath2D创建出路径对象，只对path1路径进行描边，所以画布上就只会出现path1的路径图形。点击text组件触发addPath方法会把path2路径对象当参数传入path1中，再对path1对象进行描边（stroke）操作后画布出现path1和path2两个图形。点击change文本改变setTransform属性值为setTransform(2, 0.1, 0.1, 2, 0,0)，图形变大并向左倾斜。

1. <!-- xxx.hml -->
2. <div class="container">
3.     <canvas ref="canvas"></canvas>
4.     <div class="content">
5.         <text onclick="addPath">{{ isAdd }}</text>
6.         <text onclick="setTransform">{{ textName }}</text>
7.     </div>
8. </div>

9. /* xxx.css */
10. .container {
11.     flex-direction: column;
12.     background-color: #F1F3F5;
13.     align-items: center;
14.     justify-content: center;
15.     width: 100%;
16.     height: 100%;
17. }

18. canvas {
19.     width: 600px;
20.     height: 600px;
21.     background-color: #fdfdfd;
22.     border: 5px solid red;
23. }

24. .content {
25.     width: 80%;
26.     margin-top: 50px;
27.     margin-bottom: 50px;
28.     display: flex;
29.     flex-wrap: wrap;
30.     justify-content: space-around;
31. }

32. text {
33.     width: 150px;
34.     height: 80px;
35.     color: white;
36.     border-radius: 20px;
37.     text-align: center;
38.     background-color: #6060e7;
39.     margin-bottom: 30px;
40. }

41. // xxx.js
42. import promptAction from '@ohos.promptAction';

43. export default {
44.     data: {
45.         ctx: null,
46.         path1: null,
47.         path2: null,
48.         path3: null,
49.         isAdd: "addPath2",
50.         isChange: true,
51.         textName: 'change'
52.     },
53.     onShow() {
54.         this.ctx = this.$refs.canvas.getContext('2d', {
55.             antialias: true
56.         });
57.         this.path1 = this.ctx.createPath2D();
58.         // 正方形
59.         this.path1.moveTo(200, 200);
60.         this.path1.lineTo(400, 200);
61.         this.path1.lineTo(400, 400);
62.         this.path1.lineTo(200, 400);
63.         this.path1.closePath();
64.         this.path2 = this.ctx.createPath2D();
65.         // 圆形
66.         this.path2.arc(300, 300, 75, 0, 6.28);
67.         this.ctx.stroke(this.path1);
68.     },
69.     addPath() {
70.         if (this.isAdd == "addPath2") {
71.             // 删除指定区域的绘制内容
72.             this.ctx.clearRect(0, 0, 600, 600);
73.             this.ctx.beginPath();
74.             // 将另一个的路径添加到当前路径对象中
75.             this.path2.addPath(this.path1);
76.             this.ctx.stroke(this.path2);
77.             this.isAdd = "clearPath2";
78.         } else {
79.             this.ctx.clearRect(0, 0, 600, 600);
80.             this.ctx.stroke(this.path1);
81.             this.isAdd = "addPath2";
82.         }
83.     },
84.     setTransform() {
85.         if (this.isChange) {
86.             this.ctx.clearRect(0, 0, 600, 600);
87.             this.path3 = this.ctx.createPath2D();
88.             this.path3.arc(150, 150, 100, 0, 6.28);
89.             // 重置现有的变换矩阵并创建新的变换矩阵
90.             this.path3.setTransform(2, 0.1, 0.1, 2, 0, 0);
91.             this.ctx.stroke(this.path3);
92.             this.isChange = !this.isChange;
93.             this.textName = "back"
94.         } else {
95.             this.ctx.clearRect(0, 0, 600, 600);
96.             this.path3.setTransform(0.5, -0.1, -0.1, 0.5, 0, 0);
97.             this.ctx.stroke(this.path3);
98.             this.isChange = !this.isChange;
99.             this.textName = "change";
100.         }
101.     }
102. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164042.52135188063781997583531000626102:50001231000000:2800:22458057AAF095A68ADF6E128D9E4D6405444B3C46139ED9B0581BDB6C809D22.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-canvasrenderingcontext2d "CanvasRenderingContext2D对象")
# Path2D对象

更新时间: 2025-12-16 16:40

路径对象，支持通过对象的接口进行路径的描述，并通过Canvas的[stroke](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-canvasrenderingcontext2d#stroke-1)接口进行绘制。具体请参考[Path2D对象](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-canvas-path2d)。

## 画线段

创建Path2D，使用多条线段组合图形。

1. <!-- xxx.hml --> 
2. <div class="container">
3.   <canvas ref="canvas"></canvas>
4. </div>

5. /* xxx.css */
6. .container {
7.     flex-direction: column;
8.     background-color: #F1F3F5;
9.     align-items: center;
10.     justify-content: center;
11.     width: 100%;
12.     height: 100%;
13. }

14. canvas {
15.     width: 600px;
16.     height: 600px;
17.     background-color: #fdfdfd;
18.     border: 5px solid red;
19. }

20. // xxx.js
21. import promptAction from '@ohos.promptAction';

22. export default {
23.     onShow() {
24.         let ctx = this.$refs.canvas.getContext('2d', {
25.             antialias: true
26.         });
27.         let path = ctx.createPath2D();
28.         // 房顶
29.         path.moveTo(10, 300);
30.         path.lineTo(210, 100);
31.         path.lineTo(410, 300);
32.         // 屋子
33.         path.moveTo(10, 300);
34.         path.lineTo(410, 300);
35.         path.lineTo(410, 600);
36.         path.lineTo(10, 600);
37.         path.closePath();
38.         // 窗子
39.         path.moveTo(50, 450);
40.         path.bezierCurveTo(70, 350, 130, 350, 150, 450);
41.         path.closePath();
42.         // 门
43.         path.moveTo(250, 450);
44.         path.rect(250, 450, 100, 600);
45.         path.closePath();
46.         // 烟囱
47.         path.moveTo(365, 250);
48.         path.ellipse(310, 215, 30, 130, 0, Math.PI * 0.04, Math.PI * 1.1, 1);
49.         // 树
50.         path.moveTo(485, 450);
51.         path.quadraticCurveTo(510, 500, 485, 600);
52.         path.moveTo(550, 450);
53.         path.quadraticCurveTo(525, 500, 550, 600);
54.         path.moveTo(600, 535);
55.         path.arc(520, 450, 85, 0, 6);
56.         ctx.stroke(path);
57.     }
58. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164041.62591255567653744128840006809783:50001231000000:2800:9657559CC1B21E919E1D984ABD3B036729513B5AE6BCA88E6E74273CD1F81982.png)

## 画图形

先使用createPath2D创建出路径对象，只对path1路径进行描边，所以画布上就只会出现path1的路径图形。点击text组件触发addPath方法会把path2路径对象当参数传入path1中，再对path1对象进行描边（stroke）操作后画布出现path1和path2两个图形。点击change文本改变setTransform属性值为setTransform(2, 0.1, 0.1, 2, 0,0)，图形变大并向左倾斜。

1. <!-- xxx.hml -->
2. <div class="container">
3.     <canvas ref="canvas"></canvas>
4.     <div class="content">
5.         <text onclick="addPath">{{ isAdd }}</text>
6.         <text onclick="setTransform">{{ textName }}</text>
7.     </div>
8. </div>

9. /* xxx.css */
10. .container {
11.     flex-direction: column;
12.     background-color: #F1F3F5;
13.     align-items: center;
14.     justify-content: center;
15.     width: 100%;
16.     height: 100%;
17. }

18. canvas {
19.     width: 600px;
20.     height: 600px;
21.     background-color: #fdfdfd;
22.     border: 5px solid red;
23. }

24. .content {
25.     width: 80%;
26.     margin-top: 50px;
27.     margin-bottom: 50px;
28.     display: flex;
29.     flex-wrap: wrap;
30.     justify-content: space-around;
31. }

32. text {
33.     width: 150px;
34.     height: 80px;
35.     color: white;
36.     border-radius: 20px;
37.     text-align: center;
38.     background-color: #6060e7;
39.     margin-bottom: 30px;
40. }

41. // xxx.js
42. import promptAction from '@ohos.promptAction';

43. export default {
44.     data: {
45.         ctx: null,
46.         path1: null,
47.         path2: null,
48.         path3: null,
49.         isAdd: "addPath2",
50.         isChange: true,
51.         textName: 'change'
52.     },
53.     onShow() {
54.         this.ctx = this.$refs.canvas.getContext('2d', {
55.             antialias: true
56.         });
57.         this.path1 = this.ctx.createPath2D();
58.         // 正方形
59.         this.path1.moveTo(200, 200);
60.         this.path1.lineTo(400, 200);
61.         this.path1.lineTo(400, 400);
62.         this.path1.lineTo(200, 400);
63.         this.path1.closePath();
64.         this.path2 = this.ctx.createPath2D();
65.         // 圆形
66.         this.path2.arc(300, 300, 75, 0, 6.28);
67.         this.ctx.stroke(this.path1);
68.     },
69.     addPath() {
70.         if (this.isAdd == "addPath2") {
71.             // 删除指定区域的绘制内容
72.             this.ctx.clearRect(0, 0, 600, 600);
73.             this.ctx.beginPath();
74.             // 将另一个的路径添加到当前路径对象中
75.             this.path2.addPath(this.path1);
76.             this.ctx.stroke(this.path2);
77.             this.isAdd = "clearPath2";
78.         } else {
79.             this.ctx.clearRect(0, 0, 600, 600);
80.             this.ctx.stroke(this.path1);
81.             this.isAdd = "addPath2";
82.         }
83.     },
84.     setTransform() {
85.         if (this.isChange) {
86.             this.ctx.clearRect(0, 0, 600, 600);
87.             this.path3 = this.ctx.createPath2D();
88.             this.path3.arc(150, 150, 100, 0, 6.28);
89.             // 重置现有的变换矩阵并创建新的变换矩阵
90.             this.path3.setTransform(2, 0.1, 0.1, 2, 0, 0);
91.             this.ctx.stroke(this.path3);
92.             this.isChange = !this.isChange;
93.             this.textName = "back"
94.         } else {
95.             this.ctx.clearRect(0, 0, 600, 600);
96.             this.path3.setTransform(0.5, -0.1, -0.1, 0.5, 0, 0);
97.             this.ctx.stroke(this.path3);
98.             this.isChange = !this.isChange;
99.             this.textName = "change";
100.         }
101.     }
102. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216164042.52135188063781997583531000626102:50001231000000:2800:22458057AAF095A68ADF6E128D9E4D6405444B3C46139ED9B0581BDB6C809D22.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-canvasrenderingcontext2d "CanvasRenderingContext2D对象")
# 栅格布局

更新时间: 2025-12-16 16:39

栅格布局容器根节点，使用grid-row与grid-col进行栅格布局。API具体描述请参考[Grid-container](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-container)。

## 创建grid-container组件

在pages/index目录下的hml文件中创建一个grid-container组件，并添加[Grid-row](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-row)子组件。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" gutter="20px" style="background-color: pink;">
4.     <grid-row style="height:100px;justify-content:space-around;width: 80%;background-color: #f67002;margin-left:
5.       10%;"></grid-row>
6.     <grid-row style="height:300px;justify-content:space-around;background-color: #ffcf00;width: 100%;"></grid-row>
7.     <grid-row style="height:150px;justify-content:space-around;background-color: #032cf8;width: 100%;"></grid-row>
8.   </grid-container>
9. </div>

10. /* xxx.css */
11. .container{
12.   flex-direction: column;
13.   background-color: #F1F3F5;
14.   margin-top: 500px;
15.   justify-content: center;
16.   align-items: center;
17. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.65680155603836079044899828789481:50001231000000:2800:AF2D5551372E47441C0574DD1A4D7016A9B8A014E14ADCEE3BF6D3F8B7A4DB18.png)

说明

grid-container仅支持grid-row为子组件。

## 调用方法

以下示例中，通过点击grid-container组件调用getColumns、getColumnWidth、getGutterWidth方法以返回栅格容器列数、column宽度及gutter宽度，通过长按调用getSizeType方法以返回当前容器响应尺寸类型（xs|sm|md|lg）。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" gutter="20px" style="background-color: pink;padding-top: 100px;"
4.     onclick="getColumns" onlongpress="getSizeType">
5.     <grid-row style="height:100px;justify-content:space-around;background-color: #4cedf3;width: 20%;margin-left:
6.       40%;"></grid-row>
7.     <grid-row style="height:150px;justify-content:space-around;background-color: #4cbff3;width: 50%;margin-left:
8.       25%;"></grid-row>
9.     <grid-row style="height:200px;justify-content:space-around;background-color: #465ff6;width: 80%;margin-left:
10.       10%;"></grid-row>
11.     <grid-row style="height:200px;justify-content:space-around;background-color: #5011ec;width: 100%;"></grid-row>
12.   </grid-container>
13. </div>

14. /* xxx.css */
15. .container{
16.   flex-direction: column;
17.   background-color: #F1F3F5;
18.   margin-top: 400px;
19.   justify-content: center;
20.   align-items: center;
21. }

22. // index.js
23. import promptAction from '@ohos.promptAction';
24. export default {
25.   data:{
26.     gutterWidth:'',
27.     columnWidth:'',
28.     columns:'',
29.   },
30.   getColumns(){
31.     this.$element('mygrid').getColumnWidth((result)=>{
32.       this.columnWidth = result;
33.     })
34.     this.$element('mygrid').getGutterWidth((result)=>{
35.       this.gutterWidth = result;
36.     })
37.     this.$element('mygrid').getColumns((result)=>{
38.       this.columns= result;
39.     })
40.     setTimeout(()=>{
41.       promptAction.showToast({duration:5000,message:'columnWidth:'+this.columnWidth+',gutterWidth:'+
42.       this.gutterWidth+',getColumns:'+this.columns})
43.     })
44.   },
45.   getSizeType(){
46.       this.$element('mygrid').getSizeType((result)=>{
47.       promptAction.showToast({duration:2000,message:'get size type:'+result})
48.     })
49.   },
50. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.55285733906134786173049002143704:50001231000000:2800:980931E9ECC2A1CB80BFD5BE783E5F378BE06074F2E2B0124C1B499D7C595E15.gif)

## 添加grid-col

创建grid-container组件并添加grid-row，在grid-row组件内添加[grid-col](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-col)组件形成布局。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" columns="4" gutter="0" style="background-color: pink;" onclick="getColumns" onlongpress="getSizeType">
4.     <grid-row style="height: 100px;justify-content: space-around;background-color: #4cbff3;width: 100%;">
5.       <grid-col span="0">
6.         <div style="align-items: center;justify-content: center;height: 100%;width: 100%;">
7.           <text style="color: dodgerblue;" onclick="getCol">top</text>
8.         </div>
9.       </grid-col>
10.     </grid-row>
11.     <grid-row style="height:500px;justify-content:space-around;background-color: #3b55ef;width: 100%;">
12.       <grid-col span="0" style="width: 20%;">
13.         <div style="align-items: center;justify-content: center;height: 100%;width: 100%;">
14.           <text style="color: dodgerblue;">left</text>
15.         </div>
16.       </grid-col>
17.       <grid-col span="0" style="background-color:orange;width: 80%;">
18.         <div style="width: 100%;height: 100%;align-items: center;justify-content: center;">
19.           <text>right</text>
20.         </div>
21.       </grid-col>
22.     </grid-row>
23.     <grid-row style="height: 100px;justify-content: space-around;background-color: #4cbff3;width: 100%;">
24.       <grid-col style="background-color:#c075ef;" span="0">
25.         <div style="width: 100%;height: 100%;padding: 20px;align-items: center;justify-content: center;">
26.           <text>bottom</text>
27.         </div>
28.       </grid-col>
29.     </grid-row>
30.   </grid-container>
31. </div>

32. /* xxx.css */
33. .container{
34.   flex-direction: column;
35.   background-color: #F1F3F5;
36.   width: 100%;
37.   height: 100%;
38.   justify-content: center;
39.   align-items: center;
40. }
41. text{
42.   color: white;
43.   font-size: 40px;
44. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.30924965723678988614517524386171:50001231000000:2800:4D3E873F3499DDD4FC41EABC05D99FEB5A6D443C1BEAA0757F83F9251E36907E.png)

说明

grid-row仅支持grid-col为子组件，只能在grid-col组件中添加填充的内容。

## 场景示例

本场景中循环输出list中的内容，创建出网格布局。进行下拉操作时触发refresh（刷新页面）方法，这时会向list数组中添加一条数据并设置setTimeout（延迟触发），达到刷新请求数据的效果。

1. <!-- index.hml -->
2. <div class="container">
3.   <refresh refreshing="{{fresh}}" onrefresh="refresh">
4.     <grid-container id="mygrid" gutter="20" style="margin: 10px;">
5.       <grid-row style="height:200px;width: 100%;background-color: #e7e7e2;margin-top: 50px; padding: 0px 20px;border-radius: 15px;" for="item in list">
6.         <grid-col span="0" style="width: 40%;">
7.           <div style="align-items: center;justify-content: center">
8.             <image src="{{item.src}}" style="object-fit: contain;border-radius: 30px;"></image>
9.           </div>
10.         </grid-col>
11.         <grid-col span="0" style="width: 60%;">
12.           <div style="align-items: center;justify-content: center;width: 100%;height: 100%;text-align: center;">
13.             <text>image{{item.id}}</text>
14.           </div>
15.         </grid-col>
16.       </grid-row>
17.     </grid-container>
18.   </refresh>
19. </div>

20. /* xxx.css */
21. .container{
22.   flex-direction: column;
23.   background-color: #F1F3F5;
24.   width: 100%;
25.   height: 100%;
26. }
27. text{
28.   color: #0a0aef;
29.   font-size: 60px;
30. }

31. // index.js
32. import promptAction from '@ohos.promptAction';
33. export default {
34.   data:{
35.     list:[
36.       {src:'common/images/1.png',id:'1'},
37.       {src:'common/images/2.png',id:'2'},
38.       {src:'common/images/3.png',id:'3'}
39.     ],
40.     fresh:false
41.   },
42.   refresh(e) {
43.     promptAction.showToast({
44.       message: 'refreshing'
45.     })
46.     var that = this;
47.     that.fresh = e.refreshing;
48.     setTimeout(function () {
49.       that.fresh = false;
50.       that.list.unshift({src: 'common/images/4.png',id:'4'});
51.       promptAction.showToast({
52.         message: 'succeed'
53.       })
54.     }, 2000)
55.   }
56. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.49409660815177112523737778174619:50001231000000:2800:39B783F20277C4683956C76DCCCF16A25F0216E177B9DAD7C0BBC07A227FAF3A.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-offscreencanvas "OffscreenCanvasRenderingContext2D对象")
# 栅格布局

更新时间: 2025-12-16 16:39

栅格布局容器根节点，使用grid-row与grid-col进行栅格布局。API具体描述请参考[Grid-container](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-container)。

## 创建grid-container组件

在pages/index目录下的hml文件中创建一个grid-container组件，并添加[Grid-row](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-row)子组件。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" gutter="20px" style="background-color: pink;">
4.     <grid-row style="height:100px;justify-content:space-around;width: 80%;background-color: #f67002;margin-left:
5.       10%;"></grid-row>
6.     <grid-row style="height:300px;justify-content:space-around;background-color: #ffcf00;width: 100%;"></grid-row>
7.     <grid-row style="height:150px;justify-content:space-around;background-color: #032cf8;width: 100%;"></grid-row>
8.   </grid-container>
9. </div>

10. /* xxx.css */
11. .container{
12.   flex-direction: column;
13.   background-color: #F1F3F5;
14.   margin-top: 500px;
15.   justify-content: center;
16.   align-items: center;
17. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.65680155603836079044899828789481:50001231000000:2800:AF2D5551372E47441C0574DD1A4D7016A9B8A014E14ADCEE3BF6D3F8B7A4DB18.png)

说明

grid-container仅支持grid-row为子组件。

## 调用方法

以下示例中，通过点击grid-container组件调用getColumns、getColumnWidth、getGutterWidth方法以返回栅格容器列数、column宽度及gutter宽度，通过长按调用getSizeType方法以返回当前容器响应尺寸类型（xs|sm|md|lg）。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" gutter="20px" style="background-color: pink;padding-top: 100px;"
4.     onclick="getColumns" onlongpress="getSizeType">
5.     <grid-row style="height:100px;justify-content:space-around;background-color: #4cedf3;width: 20%;margin-left:
6.       40%;"></grid-row>
7.     <grid-row style="height:150px;justify-content:space-around;background-color: #4cbff3;width: 50%;margin-left:
8.       25%;"></grid-row>
9.     <grid-row style="height:200px;justify-content:space-around;background-color: #465ff6;width: 80%;margin-left:
10.       10%;"></grid-row>
11.     <grid-row style="height:200px;justify-content:space-around;background-color: #5011ec;width: 100%;"></grid-row>
12.   </grid-container>
13. </div>

14. /* xxx.css */
15. .container{
16.   flex-direction: column;
17.   background-color: #F1F3F5;
18.   margin-top: 400px;
19.   justify-content: center;
20.   align-items: center;
21. }

22. // index.js
23. import promptAction from '@ohos.promptAction';
24. export default {
25.   data:{
26.     gutterWidth:'',
27.     columnWidth:'',
28.     columns:'',
29.   },
30.   getColumns(){
31.     this.$element('mygrid').getColumnWidth((result)=>{
32.       this.columnWidth = result;
33.     })
34.     this.$element('mygrid').getGutterWidth((result)=>{
35.       this.gutterWidth = result;
36.     })
37.     this.$element('mygrid').getColumns((result)=>{
38.       this.columns= result;
39.     })
40.     setTimeout(()=>{
41.       promptAction.showToast({duration:5000,message:'columnWidth:'+this.columnWidth+',gutterWidth:'+
42.       this.gutterWidth+',getColumns:'+this.columns})
43.     })
44.   },
45.   getSizeType(){
46.       this.$element('mygrid').getSizeType((result)=>{
47.       promptAction.showToast({duration:2000,message:'get size type:'+result})
48.     })
49.   },
50. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.55285733906134786173049002143704:50001231000000:2800:980931E9ECC2A1CB80BFD5BE783E5F378BE06074F2E2B0124C1B499D7C595E15.gif)

## 添加grid-col

创建grid-container组件并添加grid-row，在grid-row组件内添加[grid-col](https://developer.huawei.com/consumer/cn/doc/harmonyos-references/js-components-grid-col)组件形成布局。

1. <!-- index.hml -->
2. <div class="container">
3.   <grid-container id="mygrid" columns="4" gutter="0" style="background-color: pink;" onclick="getColumns" onlongpress="getSizeType">
4.     <grid-row style="height: 100px;justify-content: space-around;background-color: #4cbff3;width: 100%;">
5.       <grid-col span="0">
6.         <div style="align-items: center;justify-content: center;height: 100%;width: 100%;">
7.           <text style="color: dodgerblue;" onclick="getCol">top</text>
8.         </div>
9.       </grid-col>
10.     </grid-row>
11.     <grid-row style="height:500px;justify-content:space-around;background-color: #3b55ef;width: 100%;">
12.       <grid-col span="0" style="width: 20%;">
13.         <div style="align-items: center;justify-content: center;height: 100%;width: 100%;">
14.           <text style="color: dodgerblue;">left</text>
15.         </div>
16.       </grid-col>
17.       <grid-col span="0" style="background-color:orange;width: 80%;">
18.         <div style="width: 100%;height: 100%;align-items: center;justify-content: center;">
19.           <text>right</text>
20.         </div>
21.       </grid-col>
22.     </grid-row>
23.     <grid-row style="height: 100px;justify-content: space-around;background-color: #4cbff3;width: 100%;">
24.       <grid-col style="background-color:#c075ef;" span="0">
25.         <div style="width: 100%;height: 100%;padding: 20px;align-items: center;justify-content: center;">
26.           <text>bottom</text>
27.         </div>
28.       </grid-col>
29.     </grid-row>
30.   </grid-container>
31. </div>

32. /* xxx.css */
33. .container{
34.   flex-direction: column;
35.   background-color: #F1F3F5;
36.   width: 100%;
37.   height: 100%;
38.   justify-content: center;
39.   align-items: center;
40. }
41. text{
42.   color: white;
43.   font-size: 40px;
44. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.30924965723678988614517524386171:50001231000000:2800:4D3E873F3499DDD4FC41EABC05D99FEB5A6D443C1BEAA0757F83F9251E36907E.png)

说明

grid-row仅支持grid-col为子组件，只能在grid-col组件中添加填充的内容。

## 场景示例

本场景中循环输出list中的内容，创建出网格布局。进行下拉操作时触发refresh（刷新页面）方法，这时会向list数组中添加一条数据并设置setTimeout（延迟触发），达到刷新请求数据的效果。

1. <!-- index.hml -->
2. <div class="container">
3.   <refresh refreshing="{{fresh}}" onrefresh="refresh">
4.     <grid-container id="mygrid" gutter="20" style="margin: 10px;">
5.       <grid-row style="height:200px;width: 100%;background-color: #e7e7e2;margin-top: 50px; padding: 0px 20px;border-radius: 15px;" for="item in list">
6.         <grid-col span="0" style="width: 40%;">
7.           <div style="align-items: center;justify-content: center">
8.             <image src="{{item.src}}" style="object-fit: contain;border-radius: 30px;"></image>
9.           </div>
10.         </grid-col>
11.         <grid-col span="0" style="width: 60%;">
12.           <div style="align-items: center;justify-content: center;width: 100%;height: 100%;text-align: center;">
13.             <text>image{{item.id}}</text>
14.           </div>
15.         </grid-col>
16.       </grid-row>
17.     </grid-container>
18.   </refresh>
19. </div>

20. /* xxx.css */
21. .container{
22.   flex-direction: column;
23.   background-color: #F1F3F5;
24.   width: 100%;
25.   height: 100%;
26. }
27. text{
28.   color: #0a0aef;
29.   font-size: 60px;
30. }

31. // index.js
32. import promptAction from '@ohos.promptAction';
33. export default {
34.   data:{
35.     list:[
36.       {src:'common/images/1.png',id:'1'},
37.       {src:'common/images/2.png',id:'2'},
38.       {src:'common/images/3.png',id:'3'}
39.     ],
40.     fresh:false
41.   },
42.   refresh(e) {
43.     promptAction.showToast({
44.       message: 'refreshing'
45.     })
46.     var that = this;
47.     that.fresh = e.refreshing;
48.     setTimeout(function () {
49.       that.fresh = false;
50.       that.list.unshift({src: 'common/images/4.png',id:'4'});
51.       promptAction.showToast({
52.         message: 'succeed'
53.       })
54.     }, 2000)
55.   }
56. }

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216163951.49409660815177112523737778174619:50001231000000:2800:39B783F20277C4683956C76DCCCF16A25F0216E177B9DAD7C0BBC07A227FAF3A.gif)

[  
](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ui-js-components-offscreencanvas "OffscreenCanvasRenderingContext2D对象")
