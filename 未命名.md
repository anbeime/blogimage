# 自定义运行/调试配置

更新时间: 2025-12-16 15:58

## 配置应用可调试

应用是否支持调试，根据app.json5的debug字段和build-profile.json5的debuggable字段综合判断，app.json5的优先级高于build-profile.json5。

1. 在app.json5中配置debug字段：
    - true：应用支持调试。
    - false：应用不支持调试。
2. 如果没有配置debug字段，则根据build-profile.json5的debuggable字段判断应用是否支持调试。
    - true：应用支持调试。当[编译模式](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-compilation-options-customizing-guide#section192461528194916)不是release时，debuggable的缺省值是true，即支持调试。
    - false：应用不支持调试。当编译模式为release时，debuggable的缺省值是false，即不支持调试。

## 设置调试代码类型

点击**Run > Edit Configurations > Debugger**，选择相应模块，设置Debug type即可。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.05251535080832215078948574649549:50001231000000:2800:30D6C562BCBA892BC61AE236F3DAA34D422EABA9E9FDFBA7FC17FAA940668DB7.png)

工程调试类型默认为**Detect Automatically**，关于各调试类型的说明如下表所示：

**表1** 调试类型配置项
|调试类型|调试代码|
|:--|:--|
|**Detect Automatically**|新建工程默认调试器选项。根据工程模块及其依赖的模块涉及的编程语言，自动启动对应的调试器。|
|**ArkTS/JS**|- 调试ArkTS代码<br>- 调试JS代码|
|**Native**|仅调试C/C++代码|
|**Dual(ArkTS/JS + Native)**|调试C/C++工程的ArkTS/JS和C/C++代码|

## 设置HAP安装方式

在调试阶段，HAP在设备上的安装方式有2种，可以根据实际需要进行设置。

- 安装方式一：先卸载应用/元服务后，再重新安装，该方式会清除设备上的所有应用/元服务缓存数据。
    
    从DevEco Studio 4.1 Canary2版本开始，支持当代码无变化时，不进行推包安装。即根据模块有无变化来判断是否重新推送安装模块包，在运行调试时仅将有变化的模块及依赖它的模块重新推送安装至设备上。如entry依赖了HSP模块，当HSP模块有变化，运行调试时将同时推送安装HSP模块和entry模块。
    
- 安装方式二：采用覆盖安装方式，不卸载应用/元服务，该方式会保留应用/元服务的缓存数据。

设置方法如下：

单击**Run > Edit Configurations**，设置指定模块的HAP安装方式，勾选**Keep Application Data**，则表示采用覆盖安装方式，保留应用/元服务缓存数据。

说明

从DevEco Studio NEXT Developer Beta1开始，默认勾选“Keep Application Data”。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.36300365118801992255038682071625:50001231000000:2800:7290E0416AB2A3A517CB877DFC9BF90EBCA3532C3ED5304DCCAC217CAE1EED3C.png)

### 配置自定义调试参数

如果未进行自定义，将按默认配置安装和运行应用。如果开发者需要对应用安装、运行等流程增加参数配置，可在“Installation Options”和“Launch Options”下进行配置。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.67514111661176934296469635675625:50001231000000:2800:0F4EA7DBF5EF84278F232787AC9313C7382D431F364F6827D68E171CC48E6497.png)

- Installation Options
    - DebugLine Support：勾选Enable DebugLine表示在build产物中系统组件增加debugline属性，用于开启[ArkUI Inspector源码跳转](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-arkui-inspector#section1226015494335)功能。
    - Install Flags：输入bm install命令相关的选项，请参见[bm install 参数](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/bm-tool#%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4install)。如可以设置“-w 360”，表示将超时等待时间设置为360秒。
- Launch Options
    - Launch：指定在安装应用后启动的Ability。
        
        ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.24599314596105348660936834744077:50001231000000:2800:EAFE6E541228F17D5AD1CCDF6C12256622FBCE9F8AC94639B1B1AD0A08E17456.png)
        
        - Nothing：只安装不启动任何Ability。
        - Default Ability：默认的EntryAbility。
            - Stage模型：module.json5文件中配置了“skills”属性的第一个ability；若无配置“skills”属性的ability，则取“mainElement”指定的ability（该ability需存在于“abilities”数组内）；若“mainElement”未指定，则取“abilities”数组内的第一个ability。
                
                ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.04480816525387713810749590819966:50001231000000:2800:0547D951C3EC08A7F2CAABC802F6D95A615414753C4B82E84CC9E1D737483476.png "点击放大")
                
            - FA模型：config.json文件中配置了“skills”属性的第一个ability；若无配置“skills”属性的ability，则取“mainAbility”指定的ability（该ability需存在于“abilities”数组内）；若“mainAbility”未指定，则取“abilities”数组内的第一个ability。
        - Specified Ability：工程中的UIAbility或ExtensionAbility。
            
            您可以在工程中添加UIAbility或ExtensionAbility，详细请查看[UIAbility开发指导](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/uiability)或[ExtensionAbility开发指导](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/extensionability-overview)。
            
            ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.65128779760145425078448889561437:50001231000000:2800:6A747DCA4A0EB077B08566E5D6BEE726D55541EB7148F3358E4B4240A5678F04.png)
            
        
    - Launch Flags：输入aa start命令相关的选项，请参见[aa start 参数](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/aa-tool)。

### 配置环境变量

如果开发者需要配置和管理应用开发环境，以及控制应用程序的行为，可在“Environment Variables”下配置环境变量。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.30970569447322836205653731312493:50001231000000:2800:2C02C2E017B9CC47CC3395ECA33489428F0DF66BFD2D5E9E410D89FFECD8B4BF.png)

点击![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.82780400681684534511177911710160:50001231000000:2800:66BF9914FF5AB9BC4D89FCEA38E70BFA9FF23C4A0F2F04B7261D5317DD6E4827.png)按钮，新增一行配置项。当前支持以下配置项：

- ASAN_OPTIONS：在运行时配置ASan的行为，包括设置检测级别、输出格式、内存错误报告的详细程度等，具体可配置的value请参见[配置参数](https://developer.huawei.com/consumer/cn/doc/best-practices/bpta-stability-asan-detection#section1496994494018)。若开发者未配置log_exe_name、abort_on_error，DevEco Studio将自动填充。ASAN_OPTIONS是应用级别的，只在entry和feature模块中配置生效，HAR/HSP模块配置不生效。

说明

当配置Environment Variables后，“Keep Application Data”覆盖安装不生效。

环境变量配置完成后，需确保环境变量已勾选，勾选后点击**Apply**才可生效。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.25039853754113841696293631651571:50001231000000:2800:F4E8FE6AF731A6D0B4ABC38B1C338C0FFCB82EAB8832BC9DA22C7639FD421932.png)

## 自动映射WebView调试链接

当应用中含有需要调试的WebView组件页面时，可以通过浏览器的DevTools工具进行页面调试，具体可参考[使用DevTools工具调试前端页面](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/web-debugging-with-devtools)。调试WebView组件需要执行转发端口等繁琐的命令行操作，因此可以在DevEco Studio中勾选**Auto WebView Debug**，该操作会在应用启动后两分钟内自动监听可调试的WebView进程并完成端口转发。

该功能从DevEco Studio 5.0.5 Release版本开始支持。

设置方法如下：

单击**Run** **>** **Edit Configurations**，在**General**中，勾选**Auto WebView Debug**。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.94221597650603452178208899112725:50001231000000:2800:4BFE7311A9B1DC6072479168297B47CE0BAF9C1AFA1409B7FDC7798865AF6FD4.png "点击放大")

开启后，当检测到设备上有可调试的WebView组件进程时，会在Run面板中打印转发成功的端口，通过浏览器的Devtools工具连接该端口即可进行WebView调试。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.44462028095046506240721416514463:50001231000000:2800:55F91278E90164B9B2F061E7DEC4A39E7BBDAFDDFB65150369E95B1ECAFD7941.png)

## 多模块调试

### 安装多个模块

如果一个工程中同一个设备存在多个模块（如存在entry和feature模块），且存在模块间的调用时，在调试阶段需要同时安装多个模块的Hap包到设备中。此时，需要在**Deploy Multi Hap****/Hsp**中选择多个模块，启动调试时，DevEco Studio会将所有的模块都安装到设备上。

设置方法如下：

单击**Run > Edit Configurations**，在**Deploy Multi Hap****/Hsp**中，勾选**Deploy Multi Hap/Hsp Packages**，选择多个模块。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155821.50163144208524608556194159884070:50001231000000:2800:07DEB52E49F2D2F775B9308955A2EADCD2AE1C226A2F378C28B9E9C999488E3C.png)

### 自动安装依赖

如果一个工程中entry/feature/HSP模块直接依赖其他HAR/HSP模块（如entry模块依赖HSP模块）及间接依赖其他模块（如entry模块依赖HAR模块，HAR又依赖HSP模块）时，在调试阶段需要同时安装模块包及其所有依赖模块的包到设备中。此时，可以设置**Auto Dependencies**，启动调试时会自动将所有依赖的模块都安装到设备上。

设置方法如下：

单击**Run > Edit Configurations**，在**General**中，勾选**Auto Dependencies。**

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155822.06163934810153526709658630706023:50001231000000:2800:36088F5EA79856FBD8D88771425D018868372DF45A1F2310DB61305C282A0F44.png)

在Before launch窗格中，您可以点击![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155822.26864856257750150952842881501496:50001231000000:2800:FDF37D33CC1F2F9E51A6CAFD269420798B92E4A22D3128C2C57E79F2572ACF1C.png)添加应用启动前的任务。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155822.94909566054396204065295264489032:50001231000000:2800:C43D9C72D5AFA8597C2EBD3F24B9D986B657CBDA1EFEF9861C480E3337B250C2.png)

也可以点击![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155822.95382109327572886916402550475459:50001231000000:2800:CFB47A926B1929990D684E6A33121B56B5C1E7E4C711C4165CE59D3CF7E1E9A3.png)移除任务。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155822.18631082489496593260295236017906:50001231000000:2800:78E5D80A168EDFBBDB044278A89B2B41F67F22943134DB0EFB89A7134CA584CB.png)

在勾选**Auto Dependencies**后，可以同时勾选**Deploy Multi Hap Packages**，从而达到推送所有包的效果。

[调试概述](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-device "调试概述")

[代码调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-code-debugging "代码调试")
# debug启动调试

更新时间: 2025-12-16 15:58

可以按照如下方式启动调试会话。

1. 如果需要设置断点调试，找到需要暂停的代码片段，点击该代码行的左侧边线，或将光标置于该行上并按Ctrl + F8（macOS为Command+F8）。如果无法添加断点，请查看FAQ[调试过程中无法添加断点](https://developer.huawei.com/consumer/cn/doc/harmonyos-faqs/faqs-app-debugging-1)。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.05299777397374082579247343096400:50001231000000:2800:38CF8CE78DBF04B224896C73B0753DCB85B989DD8A24BA6F1E89C085131636ED.png)
    
    设置断点后，调试能够在正确的断点处中断，并高亮显示该行。
    
2. 在设备选择框中，选择调试的设备。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.03410820868565388458511772403303:50001231000000:2800:E8769E07B8B0BE8F77D503930551E82234EC807336270980DA7F575D5DA0D81A.png)
    
3. 选择启动调试的配置，在模块选择框中选择需要调试的模块。也可以通过Edit Configurations[配置调试参数](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-run-debug-configurations)。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.71656565328467857741635323132142:50001231000000:2800:83C56FDB4B3910D558747AC5B057F621F38B29BBD90B82D16CA1EA3A4BD1E761.png)
    
4. 在工具栏中，单击Debug![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.57361355233592870985523029804645:50001231000000:2800:E71B87963582EF5FA51D6C4231F5051AB34940587D4EFCFC09F11C201B25765B.png)。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.24942311262787797481165400491344:50001231000000:2800:221CAA7980CE67915CB5C655E9CFC8F90E2D356B45331D5AE24655D3E92E84F5.png)
    
    或者在工具栏中Run中选择Debug。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.83452694149875753721960888915490:50001231000000:2800:370B5A6EBE3E63F6CFBC845B2747C6049517275F44C43A52B4B5A3D9FFAAD07E.png)
    
5. 启动调试后，开发者可以通过[调试器](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-debugger)进行代码调试。
    
    如有断点会在断点处高亮，并展示当前断点处的Frames和Variables。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.80116522823953581565568871305731:50001231000000:2800:C1AA91C7C8D0F94D794475E57286671A2D6D23AD4DFABD47A7ABE790E64863BB.png)
    

[调试场景说明](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-worker-taskpool "调试场景说明")

[attach启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-attach "attach启动调试")
# attach启动调试

更新时间: 2025-12-16 15:58

开发者也可以通过将调试程序attach到已运行的应用进行调试。

Attach Debugger和Debug的区别在于，Attach Debugger to Process可以先运行应用/元服务，然后再启动调试，或者直接启动设备上已安装的应用/元服务进行调试；而Debug是直接运行应用/元服务后立即启动调试。

## 前提条件

当前设备上被attach的应用代码和本地代码一致，且已提前进行构建生成必要的sourcemap文件。

## 使用约束

attach不支持的场景：

- 本地无源码。
- bundleName不匹配，将出现提示“The selected process does not match the bundlename of the current project!”，但不阻塞调试过程。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155858.73114077481453860636043888071662:50001231000000:2800:67DCA4CE21A0A76A819FC2994C7371F42B5358777505847BF5B74F8EE4C1E24F.png)
    

## 操作步骤

1. 在工具栏中，选择调试的设备，并单击**Attach Debugger to Process**![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.63044477518507369580277560067463:50001231000000:2800:5FDB2F964452655290CB98340D29C6E719535DC636D1AE3EC2CBCF16A384E509.png)启动调试。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.91767915884664381134309666580988:50001231000000:2800:8A5D7B0D0CF8054226A5316A764B45057E80DC3E02FF6835FAE7CD3F4C84EB19.png)
    
2. 选择要调试的设备及应用进程，若应用bundlename与当前工程不一致，则需勾选Show all process。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.78603556288453363264571603394435:50001231000000:2800:4FB95B7CAFC5746B5A4DF2BE5440A3B72701BF59C71028D00213DCF0D471E410.png)
    
3. 选择需要使用的调试配置，或者使用默认配置。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.82226769181215697777030686884832:50001231000000:2800:3AA3F0FD99B0FD4091FE317A58D6D326440A157AE803CC6DC2D5CF37653CA42E.png)
    
4. 选择需要调试的Debug type，若选择已创建的Run/Debug configuration进行attach调试，此时Debug type不可改变，只可在Run/Debug configuration界面修改。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.40695505433580850783724399851468:50001231000000:2800:3DEC5A38074055105CC51B86DE1FC0569CD2D281772C7CA6A007BF024B0B000A.png)
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.39799376376528067338797915891644:50001231000000:2800:A7880BF1C44B2F2E7B24C1E61EF6A961BF1B95C3AC076D6FEE3BE41841CE5F8A.png)
    
5. 点击**OK**开始attach调试。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.96912355714447237326032407246070:50001231000000:2800:A81F886E88F948C354F52FD403972796DC3F2923D563E5DFD6273FEA8088348E.png)
    

[debug启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-debug "debug启动调试")

[等待调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-attach-to-process "等待调试")
# 等待调试

更新时间: 2025-12-16 15:59

开发者可以通过将某个应用设置为“等待调试模式”，然后当开发者需要对应用进行调试时，拉起应用即可快速进入调试。

说明

- 应用设置为“等待调试模式”后，此时如果启动普通的debug调试，将会取消当前的等待调试模式。
- 设置“等待调试模式”前，需要将应用安装到设备上。

## 操作步骤

1. 在设备选择框中选择调试的设备，并单击Run > Attach to Process by Name。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.24050862801663983981898518211948:50001231000000:2800:F7378ECED829A79727C635A35FA415D8D51055BF3480FEE56BC09D0AF53911C6.png)
    
2. 选择需要设置为“等待调试模式”的应用（默认为当前工程），选择需要进行调试的调试类型。然后单击**Attach**，即可将该应用设置为“等待调试模式”。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.16290623798309468020383080041823:50001231000000:2800:37F0899A02BE87A7494854929CF38B8FCA08B4109FAAC8F7A68A9CC873DD568C.png)
    
    此时会在DevEco Studio底部显示一个等待进度条，在应用被拉起之前，将一直处于等待状态。可通过进度条右侧的取消按钮进行取消。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.09706864972044916101854289974597:50001231000000:2800:823EF6DFBB7C25685710605378AAA2B84051DF228BA243D1DA3A63DC4BD01861.png)
    
3. 拉起设备端应用，此时将会进入调试。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.11277678297905734708238427087795:50001231000000:2800:11BB8DDBB39EEF4D2C2EB03CB0C06345AB7AAD710F38A633A41741DCB40E98F5.png)
    

[attach启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-attach "attach启动调试")

[使用断点](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint "使用断点")
# 使用断点

更新时间: 2025-12-16 15:59

DevEco Studio ArkTS支持行断点、日志断点等多种不同类型的断点，这些断点可以触发不同的操作。

## 行断点

行断点是最常见的类型，用于在指定的代码行暂停应用的执行，在暂停时，您可以检查变量，对表达式求值，然后逐行执行，以确定运行时错误的原因。

如需添加行断点，请按以下步骤操作：

1. 找到您要暂停执行的代码行。
2. 点击该代码行的左侧边线，或将光标置于该行上并按**Ctrl + F8**（macOS为**Command+F8**）。
    
    当您设置断点时，相应的代码行旁边会出现一个红点，如图。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.66041234803610472673702907223668:50001231000000:2800:CCFC82ED1F65018EC66D5B38B4356631321F1D5EAC9C51316B7593E2608A670D.png)
    
    在设置的断点红点处，单击鼠标右键，在Condition中可以设置条件断点，此类断点仅会在满足特定条件时才会暂停应用。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.44508183694538623887355544488469:50001231000000:2800:AB5555168BEF46FE938786F242923A613C3DBE2729CA21AADD3D93DF5BD5C718.png)
    
3. 点击Debug图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.71746235248221745541025608805587:50001231000000:2800:E972DE51E99AEEDB7DE5C9C6A4210891969C4AEF8221E20569ACDD27223B635A.png)，开始调试。如果您的应用已经在运行，请点击Attach Debugger to Process图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.24269294883831650157347293798583:50001231000000:2800:B11CD519814FB49F5F58395A3CABC2FDE133A804BF2C0FF269D5F874D273EC21.png)。
    
    当应用运行到代码处，会在代码处停住，并高亮显示。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.62785492361745841173516273834797:50001231000000:2800:3A8EBD81422BC9E8D873E0EE36CBF3801AE866B311F2C0CF32EE12BCD85EC4A2.png)
    

## 日志断点

在[BreakPoints](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint#section168791742202819)某个断点的配置中，勾选以下类型的Log，可以使进程运行到断点时在Console窗口打印相应日志。

- 勾选**"Breakpoint hit"message**，程序运行到断点时，打印“Breakpoint reached”。
- 勾选**Stack trace**，程序运行到断点时，打印当前线程的堆栈。
- 勾选**Evaluate and log**，并添加表达式，程序运行到断点时，打印表达式的值。

说明

未勾选Enable的断点不会打印日志，未勾选Suspend execution的断点会打印日志，不满足所设置的Condition的断点不会打印日志。

## 临时断点

在[BreakPoints](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint#section168791742202819)某个断点的配置中，勾选**Remove once hit**，该断点只生效一次，生效后该断点会被删除。

## 函数断点

从DevEco Studio 6.0.0 Beta2版本开始，支持在ArkTS代码中设置函数断点。

函数断点也叫方法断点或符号断点，使用函数名设置断点，当程序运行到对应函数时，中断进程。

在[BreakPoints](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint#section168791742202819)中，点击**+ > ArkTS Symbolic Breakpoints**，在弹出窗口中填写函数名，添加函数断点。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.25117331778974769211194958759464:50001231000000:2800:2BCF9F6B089A1592914D1CE9A14848953BFBE8628CD143F90A8639EA85435629.png) ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.12291682907223484147727742485433:50001231000000:2800:89FB724B626E5DFDBB8C5ECBADF3703771959FC1B0B9A24B32A6E100CED4362B.png)

说明

调试过程中如果命中在C++断点，则无法添加和移除ArkTS函数断点。

## 异常断点

异常断点会在应用执行时发生异常的地方暂停应用。

在[BreakPoints](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint#section168791742202819)中，勾选**ArkTS/Js Exception Breakpoints**，开启异常断点。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.43361606843815735145420178895973:50001231000000:2800:15BAF8B0D191F32CA436F9F7CBDFFDD125B384B7D87703ED607DEE873589C62D.png)

当调试应用程序中出现异常时，会在异常处高亮，并且代码左侧有![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155900.68052918347596524587840091276148:50001231000000:2800:23E571DB25B12FC5227AB7D56546129CCE6A80A4829C493E85691B03AA773EE8.png)标志，并展示当前Frames和Variable，以及错误信息。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155901.47750188718130393145352030065497:50001231000000:2800:5AE1C8F7B1B7502B5A92222A70C3AA681038DB76148F5FDBC7F064D8C29F061F.png)

## 断点管理

在设置的程序断点红点处，单击鼠标右键。然后单击**More**或按快捷键**Ctrl+Shift+F8**（macOS为**Shift+Command+F8**），可以管理断点。

或者在“Debug”窗口中点击**View Breakpoints** 图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155901.12364719037888770449655845620744:50001231000000:2800:9C3BBC6E8B1215BE83E266F7811C6D752DCA94F0AEAD47CE1D660CE3F256C530.png)。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155901.74486975530343838900189854100458:50001231000000:2800:29B44F68F61BC97A97EA623A6783254CEAF60549CF6F699B2EE934D75FFC3B8F.png)

[等待调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-attach-to-process "等待调试")

[检查变量](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-variables "检查变量")
# 检查变量

更新时间: 2025-12-16 15:59

当应用停止在某个断点处时，您可以在"Debugger"窗口中查看当前的变量信息。当您在"Frame"窗格中选择某个帧之后，您可以在"Variable"窗格中检查变量。此外您还可以通过对变量进行计算。

如需向"Watches"列表中添加变量或表达式，请按以下步骤操作：在"Watches"窗口中输入表达式，然后点击Add to Watches 图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155901.08955024178086582616085180484050:50001231000000:2800:BD2AD12B63C391DAD70827DEBDA20D6D8D4BBC61EF9A0AB8C19834D32B5513C9.png)。

如需从"Watches"列表中移除某一项，点击鼠标右键，选择Remove Watches。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155901.93903102895767797385866849787611:50001231000000:2800:A13312BBCB91D342EB243DF3B1ACAC42B1B54CFBF26F9ADBA1B71D47B783E7F7.png)

[使用断点](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-breakpoint "使用断点")

[反向调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-reverse "反向调试")
# 智能步入

更新时间: 2025-12-16 15:59

当编辑器上一行存在多个函数嵌套或调用时，开发者可以通过Smart Step Into的能力来步入到想要调试的函数内，如果在调试时想跳过某些文件，也可以自定义需要跳过的文件列表。

## 智能步入

1. 启动调试，如果断点所在的一行内存在多个方法调用，可以通过点击调试窗口的![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.83721633853366279294288781854850:50001231000000:2800:7CC57D1799D04E0DF0612A1BC8C028F243D613496CCDB16D17B93E9F16A5252A.png)按钮或快捷键Shift + F7高亮展示可进入函数。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.41778122247500852307386029870605:50001231000000:2800:89BF4A9BF8C54129E162BA321FCFF74186E353932562A1E8ECD9E9BFFD41C4DD.png)
    
2. 点击其中一个函数即可步入。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.00971713803704502925397431442230:50001231000000:2800:DC4B304C7D94276499128A6A2814DF4D8C91E2EC5B061444B22C85C0A86ABA31.png)
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.44220051720765874241716281347130:50001231000000:2800:932AD74DC2A377F8762C4940D74B488CEA13E3B609BA56A0DB53F4201FA39CF0.png)
    

## 过滤脚本文件

1. 点击**File > Settings**（macOS为**DevEco Studio > Preferences/Settings**） **>** **Build, Execution, Deployment > Debugger > Stepping**，勾选**Do not step into ArkTs scripts**， 可在调试时禁止智能步入某些脚本。使用工具栏按钮管理要跳过的脚本列表。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.53834438657326144479130705646258:50001231000000:2800:D115E762210F2575A138E14B8B18686593FA84BD87D7DF0917946B6DC3D0995B.png)
    
2. 单击 **+** 按钮可添加新的脚本过滤器。在打开的对话框中，输入要跳过的文件名称或使用通配符。例如，如果要始终跳过 JavaScript文件，请输入 *.js。
    
    ![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155904.20899738946813706683989464005347:50001231000000:2800:209E6363D100AB8DC5FA6E7B0AFB5C35D194E5093C0562ED10DFF00E1FED8182.png)
    

[打印表达式](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-evaluate-log "打印表达式")

[查看异步函数堆栈](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-async-stack-traces "查看异步函数堆栈")
# 启动调试

更新时间: 2025-12-16 15:58

Native代码调试依赖LLDB调试器，关于LLDB调试器的介绍请参考[LLDB高性能调试器](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/debug-lldb)。

在启动调试前，点击**Run > Edit Configurations**打开调试配置界面，在**Debugger**页签选择**Debug type**为Dual (ArkTS/JS + Native) 、Native 或Detect Automatically，设置调试代码类型为C/C++。

说明

- Detect Automatically类型会根据当前工程是否为native工程判断是否启动native调试。

- 如果调试时启用编译器优化，增加编译优化选项或使用[release编译模式](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-hvigor-compilation-options-customizing-guide#section192461528194916)等，编译器会对编译后的汇编指令进行更改，从而使得代码运行更加高效。但优化后的指令难以与原始代码形成映射关系，可能会导致在调试的过程中出现异常或错误信息，例如局部变量信息被删除、无法正确跳转到期望的代码行等。因此，在调试的过程中需要关闭编译优化选项或者使用debug编译模式，避免因优化而导致的异常。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155853.85719001364658089476140931366606:50001231000000:2800:5271D07D3D8A6F7343502FB300DDF7483839AAA70004150651B168545F45FEA2.png)

**Debugger**页签中还支持自定义以下配置：

- **查看静态/全局变量：**勾选**Show static/global variables in the Variables Pane**，调试过程中变量列表会展示静态/全局变量。
- **符号表路径：**在**Symbol Directories**页签，点击**+**，可以添加符号表路径，即带有调试信息的so库。例如，您可以先编译带有调试信息的so库，然后将其调试信息裁减掉，在设备侧运行无调试信息的so库，调试时将带有调试信息的so库路径添加在这里，可以实现对该so库的调试。
- **预设调试器命令：**在**LLDB Startup Commands**页签和**LLDB Post Attach Commands**页签中预设lldb命令。在**LLDB Startup Commands**页签中的命令会在LLDB调试器启动之后立即执行，在**LLDB Post Attach Commands**页签中的命令会在LLDB调试器成功attach到进程之后执行。
    

配置完成后可启动Native代码调试，支持debug和attach模式启动调试，详细内容可参考[debug启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-debug)或[attach启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-arkts-attach)章节。

[Native代码调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native "Native代码调试")

[使用断点](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native-breakpoint "使用断点")
# 使用断点

更新时间: 2025-12-16 15:58

点击**View Breakpoints** 图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.31719789399837380096688363459589:50001231000000:2800:6483401FAD7DC79CA84035552982D2AFFF0C10EECF26E3CBC444275353B0888F.png)可以打开断点管理界面，您可以在断点管理界面查看或更改您的断点。

- 勾选 Enable ，使能该断点。
- 勾选 Suspend execution ，使程序运行到断点时中断。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155856.58683832793066325456503711151067:50001231000000:2800:3555BB9FBBD262464A2C31C57ACDA7296844CDFB1D8DFF0ABFF04ABAF4C2C820.png)

## 条件断点

在某个断点的配置中，勾选 Condition ，并设置表达式作为条件，使程序运行到断点且满足设置的条件时才会中断进程。

## 日志断点

在某个断点的配置中，勾选以下类型的log，可以使进程运行到断点时在 console 窗口打印相应 log。

- 勾选“Breakpoint hit”message，程序运行到断点时，打印“Breakpoint reached”。
- 勾选 Stack trace，程序运行到断点时，打印当前线程的堆栈。
- 勾选 Evaluate and log，并添加表达式，程序运行到断点时，打印表达式的值。

说明

未勾选 Enable 的断点不会打印日志，未勾选 Suspend execution 的断点会打印日志，不满足所设置的 Condition 的断点不会打印日志。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155857.49521885036487076527077780953249:50001231000000:2800:115603371879108A3521FB347944F9329E72CAAF992C33FB7223DD9F2E9F5013.png)

## 临时断点

在某个断点的配置中，勾选 Remove once hit，该断点只生效一次，生效后该断点会被删除。

## 函数断点

也叫方法断点或符号断点，使用函数名设置断点，当程序运行到对应函数时，中断进程。

在断点管理界面中点击“+”->“Cpp Symbolic Breakpoints”，在弹出窗口中填写函数名和模块名（模块名可缺省），添加函数断点。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155857.61335186504332180957496487615350:50001231000000:2800:4D5EED29C65B1B256DDAE6D56FF1DEF547A733A744A68F1D9A0DC0DFBA910666.png)

## 异常断点

异常断点可以使程序运行到抛异常或捕获异常的代码处停住。

说明

其他系统异常，如 SIGSEGV 等信号量异常会默认捕获并中断进程。

在断点管理界面中点选 “Cpp Exception Breakpoints” 下的 “Any exception”，勾选 Enable 使能异常断点。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155857.95510098359798297711045449567350:50001231000000:2800:EA786C622C1B3B56C1DB5850694005489C8DA56F3E89CF9BBE978BF5D3AE486C.png)

## 数据断点

支持三种类型的数据断点，即变量被读、被写、被读写时中断进程。

在变量列表中对某一个变量右键，在菜单中选择添加数据断点。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155857.63659187239666251517155055320086:50001231000000:2800:82CE7AE7DE6DD7B7B0598A2E56E8F4F06EA375B7DC9549C8866292C238DD017A.png)

在断点管理界面进行查看和修改。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155857.08632548067836614609716546377862:50001231000000:2800:E2A4A3560E2A2CD85B51C9D32FCF7738FFE4DA85DC23FFD47AC3D635D90AD6EC.png)

说明

1. 数据断点支持的类型受硬件限制，支持设置数据断点的变量类型 size 不能超过硬件支持的范围；
2. 受硬件限制，最多同时设置 2 个数据断点；
3. 对局部变量设置的数据断点，需要在离开作用域时手动删除，否则会由于变量地址被重用导致进程中断。

[启动调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native-enable "启动调试")

[检查变量](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native-variables "检查变量")
# 检查变量

更新时间: 2025-12-16 15:58

调试时，在“Variables”页面查看变量，支持查看全局/静态变量、寄存器变量和局部变量。

## 查看全局/静态变量

点击“Edit Configurations...”打开调试配置，在 native 调试配置界面中勾选“Show static/global variables in the Variables Pane”，调试过程中变量列表会展示全局/静态变量。

## Simplify STL

在菜单栏点击“File > Settings（macOS为DevEco Studio > Preferences/Settings） > Build, Execution, Deployment > Debugger > C++ Debugger”，通过勾选“Display STL variables as visualization in the Variables Pane”在变量列表中展示简化后的 STL 变量值，或去掉勾选以展示其原始结构。

## 变量监视

在"Watches"列表中输入表达式，然后点击Add to Watches 图标![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.25080539865442102074782396034210:50001231000000:2800:2F629799201E3B9815C0D3B50E4CF7EBC2B1DDF52BD5753A06E2A718F596ADBB.png)，或在某个变量右键菜单中的“Add to Watches”添加监视的表达式，在每次程序停住之后会计算表达式的值。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.26402104392734593690035601369638:50001231000000:2800:88F726F16E56EF68E195FB930D7169BFEA39ACF285B1CB47AF48D90A8582B37A.png)

## 表达式求值

通过点击“Evaluate Expression...”按钮，或Watches 页面中的输入行中，输入表达式进行计算。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.81680174618710159388330145539094:50001231000000:2800:48C16C95DD386ECE0C951A93EE5690B2649846F26E193131455498DE1CD779C8.png)

## 查看十六进制视图

在“Variables”页面点击鼠标右键，弹出框中选择“Show As Hex Values”，此时页面中的整型变量会以十六进制进行展示。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.42996152328753386732972108316490:50001231000000:2800:731BD1C03226A8053302181270A19CF0B2A08EA65AE90AE431BCEB48D644A974.png)

## 查看函数返回值

当使用“Step Out”从一个函数内步出后，变量列表中的“ReturnValues”会展示所步出函数的返回值。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.48070080590575625797176486844698:50001231000000:2800:0C911E3C223B5ACC6D4C7ED9D250664785817EBEAE8E3E81496A230A5E001AAC.png)

说明

- 无法查看长度超过64位的数据结构。
- 无法查看引用类型返回值。
- Step Out返回的位置存在断点时，无法查看函数返回值。

## 其他说明

对于特定类型的变量，还支持查看bitmap预览、查看较长的字符串等功能。

- ...View Bitmap：支持在调试时查看bitmap预览。

- ...View：支持展开查看较长的字符串。

![](https://alliance-communityfile-drcn.dbankcdn.com/FileServer/getFile/cmtyPub/011/111/111/0000000000011111111.20251216155859.58996109801295554274191879491578:50001231000000:2800:5F23F5E9B44149D61F6E6352803123A223D9F0669B054776EE988386DE2B7C6A.png)

[使用断点](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native-breakpoint "使用断点")

[汇编调试](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-debug-native-disassembly "汇编调试")
